(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"00b4":function(e,t,n){"use strict";n("ac1f");var r=n("23e7"),o=n("c65b"),i=n("e330"),a=n("1626"),s=n("861d"),c=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),u=TypeError,l=i(/./.test);r({target:"RegExp",proto:!0,forced:!c},{test:function(e){var t=this.exec;if(!a(t))return l(this,e);var n=o(t,this,e);if(null!==n&&!s(n))throw new u("RegExp exec method returned something other than an Object or null");return!!n}})},"00ee":function(e,t,n){var r=n("b622"),o=r("toStringTag"),i={};i[o]="z",e.exports="[object z]"===String(i)},"01b4":function(e,t){var n=function(){this.head=null,this.tail=null};n.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=n},"0366":function(e,t,n){var r=n("e330"),o=n("59ed"),i=n("40d5"),a=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?a(e,t):function(){return e.apply(t,arguments)}}},"03d6":function(e,t,n){var r=n("9c0e"),o=n("6ca1"),i=n("39ad")(!1),a=n("5a94")("IE_PROTO");e.exports=function(e,t){var n,s=o(e),c=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);while(t.length>c)r(s,n=t[c++])&&(~i(u,n)||u.push(n));return u}},"04d1":function(e,t,n){var r=n("342f"),o=r.match(/firefox\/(\d+)/i);e.exports=!!o&&+o[1]},"051b":function(e,t,n){var r=n("1a14"),o=n("10db");e.exports=n("0bad")?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},"057f":function(e,t,n){var r=n("c6b6"),o=n("fc6a"),i=n("241c").f,a=n("4dae"),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(e){try{return i(e)}catch(t){return a(s)}};e.exports.f=function(e){return s&&"Window"==r(e)?c(e):i(o(e))}},"05f5":function(e,t,n){var r=n("7a41"),o=n("ef08").document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},"06c5":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("fb6a"),n("d3b7"),n("b0c0"),n("a630"),n("3ca3"),n("ac1f"),n("00b4");var r=n("6b75");function o(e,t){if(e){if("string"===typeof e)return Object(r["a"])(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r["a"])(e,t):void 0}}},"06cf":function(e,t,n){var r=n("83ab"),o=n("c65b"),i=n("d1e7"),a=n("5c6c"),s=n("fc6a"),c=n("a04b"),u=n("1a2d"),l=n("0cfb"),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=s(e),t=c(t),l)try{return f(e,t)}catch(n){}if(u(e,t))return a(!o(i.f,e,t),e[t])}},"072d":function(e,t,n){"use strict";var r=n("0bad"),o=n("9876"),i=n("fed5"),a=n("1917"),s=n("0983"),c=n("9fbb"),u=Object.assign;e.exports=!u||n("4b8b")((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r}))?function(e,t){var n=s(e),u=arguments.length,l=1,f=i.f,p=a.f;while(u>l){var d,h=c(arguments[l++]),g=f?o(h).concat(f(h)):o(h),v=g.length,m=0;while(v>m)d=g[m++],r&&!p.call(h,d)||(n[d]=h[d])}return n}:u},"07fa":function(e,t,n){var r=n("50c4");e.exports=function(e){return r(e.length)}},"083a":function(e,t,n){"use strict";var r=n("0d51"),o=TypeError;e.exports=function(e,t){if(!delete e[t])throw o("Cannot delete property "+r(t)+" of "+r(e))}},"0983":function(e,t,n){var r=n("c901");e.exports=function(e){return Object(r(e))}},"0a06":function(e,t,n){"use strict";var r=n("c532"),o=n("30b5"),i=n("f6b4"),a=n("5270"),s=n("4a7b"),c=n("848b"),u=c.validators;function l(e){this.defaults=e,this.interceptors={request:new i,response:new i}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=s(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var o,i=[];if(this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)})),!r){var l=[a,void 0];Array.prototype.unshift.apply(l,n),l=l.concat(i),o=Promise.resolve(e);while(l.length)o=o.then(l.shift(),l.shift());return o}var f=e;while(n.length){var p=n.shift(),d=n.shift();try{f=p(f)}catch(h){d(h);break}}try{o=a(f)}catch(h){return Promise.reject(h)}while(i.length)o=o.then(i.shift(),i.shift());return o},l.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l},"0ae2":function(e,t,n){var r=n("9876"),o=n("fed5"),i=n("1917");e.exports=function(e){var t=r(e),n=o.f;if(n){var a,s=n(e),c=i.f,u=0;while(s.length>u)c.call(e,a=s[u++])&&t.push(a)}return t}},"0b25":function(e,t,n){var r=n("5926"),o=n("50c4"),i=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=o(t);if(t!==n)throw i("Wrong length or index");return n}},"0b42":function(e,t,n){var r=n("e8b5"),o=n("68ee"),i=n("861d"),a=n("b622"),s=a("species"),c=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,o(t)&&(t===c||r(t.prototype))?t=void 0:i(t)&&(t=t[s],null===t&&(t=void 0))),void 0===t?c:t}},"0b99":function(e,t,n){"use strict";var r=n("19fa")(!0);n("393a")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},"0bad":function(e,t,n){e.exports=!n("4b8b")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"0cb2":function(e,t,n){var r=n("e330"),o=n("7b0b"),i=Math.floor,a=r("".charAt),s=r("".replace),c=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,f,p){var d=n+e.length,h=r.length,g=l;return void 0!==f&&(f=o(f),g=u),s(p,g,(function(o,s){var u;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,n);case"'":return c(t,d);case"<":u=f[c(s,1,-1)];break;default:var l=+s;if(0===l)return o;if(l>h){var p=i(l/10);return 0===p?o:p<=h?void 0===r[p-1]?a(s,1):r[p-1]+a(s,1):o}u=r[l-1]}return void 0===u?"":u}))}},"0cfb":function(e,t,n){var r=n("83ab"),o=n("d039"),i=n("cc12");e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},"0d51":function(e,t){var n=String;e.exports=function(e){try{return n(e)}catch(t){return"Object"}}},"0df6":function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},"0e15":function(e,t,n){var r=n("597f");e.exports=function(e,t,n){return void 0===n?r(e,t,!1):r(e,n,!1!==t)}},"0f6c":function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=137)}({137:function(e,t,n){"use strict";n.r(t);var r={name:"ElRow",componentName:"ElRow",props:{tag:{type:String,default:"div"},gutter:Number,type:String,justify:{type:String,default:"start"},align:String},computed:{style:function(){var e={};return this.gutter&&(e.marginLeft="-"+this.gutter/2+"px",e.marginRight=e.marginLeft),e}},render:function(e){return e(this.tag,{class:["el-row","start"!==this.justify?"is-justify-"+this.justify:"",this.align?"is-align-"+this.align:"",{"el-row--flex":"flex"===this.type}],style:this.style},this.$slots.default)},install:function(e){e.component(r.name,r)}};t["default"]=r}})},"107c":function(e,t,n){var r=n("d039"),o=n("da84"),i=o.RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},1098:function(e,t,n){"use strict";t.__esModule=!0;var r=n("17ed"),o=c(r),i=n("f893"),a=c(i),s="function"===typeof a.default&&"symbol"===typeof o.default?function(e){return typeof e}:function(e){return e&&"function"===typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":typeof e};function c(e){return e&&e.__esModule?e:{default:e}}t.default="function"===typeof a.default&&"symbol"===s(o.default)?function(e){return"undefined"===typeof e?"undefined":s(e)}:function(e){return e&&"function"===typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":"undefined"===typeof e?"undefined":s(e)}},"10db":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},1132:function(e,t,n){(function(t,r){e.exports=r(n("21bf"))})(0,(function(e){return function(){var t=e,n=t.lib,r=n.WordArray,o=t.enc;o.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var o=[],i=0;i<n;i+=3)for(var a=t[i>>>2]>>>24-i%4*8&255,s=t[i+1>>>2]>>>24-(i+1)%4*8&255,c=t[i+2>>>2]>>>24-(i+2)%4*8&255,u=a<<16|s<<8|c,l=0;l<4&&i+.75*l<n;l++)o.push(r.charAt(u>>>6*(3-l)&63));var f=r.charAt(64);if(f)while(o.length%4)o.push(f);return o.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<n.length;o++)r[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return i(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function i(e,t,n){for(var o=[],i=0,a=0;a<t;a++)if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2,c=n[e.charCodeAt(a)]>>>6-a%4*2,u=s|c;o[i>>>2]|=u<<24-i%4*8,i++}return r.create(o,i)}}(),e.enc.Base64}))},1276:function(e,t,n){"use strict";var r=n("2ba4"),o=n("c65b"),i=n("e330"),a=n("d784"),s=n("44e7"),c=n("825a"),u=n("1d80"),l=n("4840"),f=n("8aa5"),p=n("50c4"),d=n("577e"),h=n("dc4a"),g=n("4dae"),v=n("14c3"),m=n("9263"),_=n("9f7f"),y=n("d039"),b=_.UNSUPPORTED_Y,M=4294967295,E=Math.min,I=[].push,S=i(/./.exec),T=i(I),O=i("".slice),C=!y((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));a("split",(function(e,t,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var i=d(u(this)),a=void 0===n?M:n>>>0;if(0===a)return[];if(void 0===e)return[i];if(!s(e))return o(t,i,e,a);var c,l,f,p=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,_=new RegExp(e.source,h+"g");while(c=o(m,_,i)){if(l=_.lastIndex,l>v&&(T(p,O(i,v,c.index)),c.length>1&&c.index<i.length&&r(I,p,g(c,1)),f=c[0].length,v=l,p.length>=a))break;_.lastIndex===c.index&&_.lastIndex++}return v===i.length?!f&&S(_,"")||T(p,""):T(p,O(i,v)),p.length>a?g(p,0,a):p}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:o(t,this,e,n)}:t,[function(t,n){var r=u(this),a=void 0==t?void 0:h(t,e);return a?o(a,t,r,n):o(i,d(r),t,n)},function(e,r){var o=c(this),a=d(e),s=n(i,o,a,r,i!==t);if(s.done)return s.value;var u=l(o,RegExp),h=o.unicode,g=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(b?"g":"y"),m=new u(b?"^(?:"+o.source+")":o,g),_=void 0===r?M:r>>>0;if(0===_)return[];if(0===a.length)return null===v(m,a)?[a]:[];var y=0,I=0,S=[];while(I<a.length){m.lastIndex=b?0:I;var C,A=v(m,b?O(a,I):a);if(null===A||(C=E(p(m.lastIndex+(b?I:0)),a.length))===y)I=f(a,I,h);else{if(T(S,O(a,y,I)),S.length===_)return S;for(var w=1;w<=A.length-1;w++)if(T(S,A[w]),S.length===_)return S;I=y=C}}return T(S,O(a,y)),S}]}),!C,b)},"12f2":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return{methods:{focus:function(){this.$refs[e].focus()}}}}},"13d2":function(e,t,n){var r=n("d039"),o=n("1626"),i=n("1a2d"),a=n("83ab"),s=n("5e77").CONFIGURABLE,c=n("8925"),u=n("69f3"),l=u.enforce,f=u.get,p=Object.defineProperty,d=a&&!r((function(){return 8!==p((function(){}),"length",{value:8}).length})),h=String(String).split("String"),g=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!i(e,"name")||s&&e.name!==t)&&p(e,"name",{value:t,configurable:!0}),d&&n&&i(n,"arity")&&e.length!==n.arity&&p(e,"length",{value:n.arity});try{n&&i(n,"constructor")&&n.constructor?a&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var r=l(e);return i(r,"source")||(r.source=h.join("string"==typeof t?t:"")),e};Function.prototype.toString=g((function(){return o(this)&&f(this).source||c(this)}),"toString")},"143c":function(e,t,n){var r=n("74e8");r("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},1448:function(e,t,n){var r=n("dfb9"),o=n("b6b7");e.exports=function(e,t){return r(o(e),t)}},"145e":function(e,t,n){"use strict";var r=n("7b0b"),o=n("23cb"),i=n("07fa"),a=n("083a"),s=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),c=i(n),u=o(e,c),l=o(t,c),f=arguments.length>2?arguments[2]:void 0,p=s((void 0===f?c:o(f,c))-l,c-u),d=1;l<u&&u<l+p&&(d=-1,l+=p-1,u+=p-1);while(p-- >0)l in n?n[u]=n[l]:a(n,u),u+=d,l+=d;return n}},"14c3":function(e,t,n){var r=n("c65b"),o=n("825a"),i=n("1626"),a=n("c6b6"),s=n("9263"),c=TypeError;e.exports=function(e,t){var n=e.exec;if(i(n)){var u=r(n,e,t);return null!==u&&o(u),u}if("RegExp"===a(e))return r(s,e,t);throw c("RegExp#exec called on incompatible receiver")}},"14e5":function(e,t,n){"use strict";var r=n("23e7"),o=n("c65b"),i=n("59ed"),a=n("f069"),s=n("e667"),c=n("2266"),u=n("5eed");r({target:"Promise",stat:!0,forced:u},{all:function(e){var t=this,n=a.f(t),r=n.resolve,u=n.reject,l=s((function(){var n=i(t.resolve),a=[],s=0,l=1;c(e,(function(e){var i=s++,c=!1;l++,o(n,t,e).then((function(e){c||(c=!0,a[i]=e,--l||r(a))}),u)})),--l||r(a)}));return l.error&&u(l.value),n.promise}})},"14e9":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=131)}({131:function(e,t,n){"use strict";n.r(t);var r=n(16),o=n(38),i=n.n(o),a=n(3),s=n(2),c={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};function u(e){var t=e.move,n=e.size,r=e.bar,o={},i="translate"+r.axis+"("+t+"%)";return o[r.size]=n,o.transform=i,o.msTransform=i,o.webkitTransform=i,o}var l={name:"Bar",props:{vertical:Boolean,size:String,move:Number},computed:{bar:function(){return c[this.vertical?"vertical":"horizontal"]},wrap:function(){return this.$parent.wrap}},render:function(e){var t=this.size,n=this.move,r=this.bar;return e("div",{class:["el-scrollbar__bar","is-"+r.key],on:{mousedown:this.clickTrackHandler}},[e("div",{ref:"thumb",class:"el-scrollbar__thumb",on:{mousedown:this.clickThumbHandler},style:u({size:t,move:n,bar:r})})])},methods:{clickThumbHandler:function(e){e.ctrlKey||2===e.button||(this.startDrag(e),this[this.bar.axis]=e.currentTarget[this.bar.offset]-(e[this.bar.client]-e.currentTarget.getBoundingClientRect()[this.bar.direction]))},clickTrackHandler:function(e){var t=Math.abs(e.target.getBoundingClientRect()[this.bar.direction]-e[this.bar.client]),n=this.$refs.thumb[this.bar.offset]/2,r=100*(t-n)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=r*this.wrap[this.bar.scrollSize]/100},startDrag:function(e){e.stopImmediatePropagation(),this.cursorDown=!0,Object(s["on"])(document,"mousemove",this.mouseMoveDocumentHandler),Object(s["on"])(document,"mouseup",this.mouseUpDocumentHandler),document.onselectstart=function(){return!1}},mouseMoveDocumentHandler:function(e){if(!1!==this.cursorDown){var t=this[this.bar.axis];if(t){var n=-1*(this.$el.getBoundingClientRect()[this.bar.direction]-e[this.bar.client]),r=this.$refs.thumb[this.bar.offset]-t,o=100*(n-r)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=o*this.wrap[this.bar.scrollSize]/100}}},mouseUpDocumentHandler:function(e){this.cursorDown=!1,this[this.bar.axis]=0,Object(s["off"])(document,"mousemove",this.mouseMoveDocumentHandler),document.onselectstart=null}},destroyed:function(){Object(s["off"])(document,"mouseup",this.mouseUpDocumentHandler)}},f={name:"ElScrollbar",components:{Bar:l},props:{native:Boolean,wrapStyle:{},wrapClass:{},viewClass:{},viewStyle:{},noresize:Boolean,tag:{type:String,default:"div"}},data:function(){return{sizeWidth:"0",sizeHeight:"0",moveX:0,moveY:0}},computed:{wrap:function(){return this.$refs.wrap}},render:function(e){var t=i()(),n=this.wrapStyle;if(t){var r="-"+t+"px",o="margin-bottom: "+r+"; margin-right: "+r+";";Array.isArray(this.wrapStyle)?(n=Object(a["toObject"])(this.wrapStyle),n.marginRight=n.marginBottom=r):"string"===typeof this.wrapStyle?n+=o:n=o}var s=e(this.tag,{class:["el-scrollbar__view",this.viewClass],style:this.viewStyle,ref:"resize"},this.$slots.default),c=e("div",{ref:"wrap",style:n,on:{scroll:this.handleScroll},class:[this.wrapClass,"el-scrollbar__wrap",t?"":"el-scrollbar__wrap--hidden-default"]},[[s]]),u=void 0;return u=this.native?[e("div",{ref:"wrap",class:[this.wrapClass,"el-scrollbar__wrap"],style:n},[[s]])]:[c,e(l,{attrs:{move:this.moveX,size:this.sizeWidth}}),e(l,{attrs:{vertical:!0,move:this.moveY,size:this.sizeHeight}})],e("div",{class:"el-scrollbar"},u)},methods:{handleScroll:function(){var e=this.wrap;this.moveY=100*e.scrollTop/e.clientHeight,this.moveX=100*e.scrollLeft/e.clientWidth},update:function(){var e=void 0,t=void 0,n=this.wrap;n&&(e=100*n.clientHeight/n.scrollHeight,t=100*n.clientWidth/n.scrollWidth,this.sizeHeight=e<100?e+"%":"",this.sizeWidth=t<100?t+"%":"")}},mounted:function(){this.native||(this.$nextTick(this.update),!this.noresize&&Object(r["addResizeListener"])(this.$refs.resize,this.update))},beforeDestroy:function(){this.native||!this.noresize&&Object(r["removeResizeListener"])(this.$refs.resize,this.update)},install:function(e){e.component(f.name,f)}};t["default"]=f},16:function(e,t){e.exports=n("4010")},2:function(e,t){e.exports=n("5924")},3:function(e,t){e.exports=n("8122")},38:function(e,t){e.exports=n("e62d")}})},"159b":function(e,t,n){var r=n("da84"),o=n("fdbc"),i=n("785a"),a=n("17c2"),s=n("9112"),c=function(e){if(e&&e.forEach!==a)try{s(e,"forEach",a)}catch(t){e.forEach=a}};for(var u in o)o[u]&&c(r[u]&&r[u].prototype);c(i)},1609:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},1626:function(e,t){e.exports=function(e){return"function"==typeof e}},"170b":function(e,t,n){"use strict";var r=n("ebb5"),o=n("50c4"),i=n("23cb"),a=n("b6b7"),s=r.aTypedArray,c=r.exportTypedArrayMethod;c("subarray",(function(e,t){var n=s(this),r=n.length,c=i(e,r),u=a(n);return new u(n.buffer,n.byteOffset+c*n.BYTES_PER_ELEMENT,o((void 0===t?r:i(t,r))-c))}))},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,o=n("a640"),i=o("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"17ed":function(e,t,n){e.exports={default:n("511f"),__esModule:!0}},"182d":function(e,t,n){var r=n("f8cd"),o=RangeError;e.exports=function(e,t){var n=r(e);if(n%t)throw o("Wrong offset");return n}},1836:function(e,t,n){var r=n("6ca1"),o=n("6438").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return o(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?s(e):o(r(e))}},1917:function(e,t){t.f={}.propertyIsEnumerable},"19aa":function(e,t,n){var r=n("3a9b"),o=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw o("Incorrect invocation")}},"19fa":function(e,t,n){var r=n("fc5e"),o=n("c901");e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),c=r(n),u=s.length;return c<0||c>=u?e?"":void 0:(i=s.charCodeAt(c),i<55296||i>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):i:e?s.slice(c,c+2):a-56320+(i-55296<<10)+65536)}}},"1a14":function(e,t,n){var r=n("77e9"),o=n("faf5"),i=n("3397"),a=Object.defineProperty;t.f=n("0bad")?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"1a2d":function(e,t,n){var r=n("e330"),o=n("7b0b"),i=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},"1be4":function(e,t,n){var r=n("d066");e.exports=r("document","documentElement")},"1bf2":function(e,t,n){var r=n("23e7"),o=n("56ef");r({target:"Reflect",stat:!0},{ownKeys:o})},"1c7e":function(e,t,n){var r=n("b622"),o=r("iterator"),i=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){i=!0}};s[o]=function(){return this},Array.from(s,(function(){throw 2}))}catch(c){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var r={};r[o]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(c){}return n}},"1cdc":function(e,t,n){var r=n("342f");e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},"1d2b":function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},"1d80":function(e,t){var n=TypeError;e.exports=function(e){if(void 0==e)throw n("Can't call method on "+e);return e}},"1dde":function(e,t,n){var r=n("d039"),o=n("b622"),i=n("2d00"),a=o("species");e.exports=function(e){return i>=51||!r((function(){var t=[],n=t.constructor={};return n[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"219c":function(e,t,n){"use strict";var r=n("da84"),o=n("e330"),i=n("d039"),a=n("59ed"),s=n("addb"),c=n("ebb5"),u=n("04d1"),l=n("d998"),f=n("2d00"),p=n("512ce"),d=c.aTypedArray,h=c.exportTypedArrayMethod,g=r.Uint16Array,v=g&&o(g.prototype.sort),m=!!v&&!(i((function(){v(new g(2),null)}))&&i((function(){v(new g(2),{})}))),_=!!v&&!i((function(){if(f)return f<74;if(u)return u<67;if(l)return!0;if(p)return p<602;var e,t,n=new g(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(v(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0})),y=function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!==n?-1:t!==t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}};h("sort",(function(e){return void 0!==e&&a(e),_?v(this,e):s(d(this),y(e))}),!_||m)},"21a1":function(e,t,n){(function(t){(function(t,n){e.exports=n()})(0,(function(){"use strict";"undefined"!==typeof window?window:"undefined"!==typeof t||"undefined"!==typeof self&&self;function e(e,t){return t={exports:{}},e(t,t.exports),t.exports}var n=e((function(e,t){(function(t,n){e.exports=n()})(0,(function(){function e(e){var t=e&&"object"===typeof e;return t&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(e){return Array.isArray(e)?[]:{}}function n(n,r){var o=r&&!0===r.clone;return o&&e(n)?i(t(n),n,r):n}function r(t,r,o){var a=t.slice();return r.forEach((function(r,s){"undefined"===typeof a[s]?a[s]=n(r,o):e(r)?a[s]=i(t[s],r,o):-1===t.indexOf(r)&&a.push(n(r,o))})),a}function o(t,r,o){var a={};return e(t)&&Object.keys(t).forEach((function(e){a[e]=n(t[e],o)})),Object.keys(r).forEach((function(s){e(r[s])&&t[s]?a[s]=i(t[s],r[s],o):a[s]=n(r[s],o)})),a}function i(e,t,i){var a=Array.isArray(t),s=i||{arrayMerge:r},c=s.arrayMerge||r;return a?Array.isArray(e)?c(e,t,i):n(t,i):o(e,t,i)}return i.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return i(e,n,t)}))},i}))}));function r(e){return e=e||Object.create(null),{on:function(t,n){(e[t]||(e[t]=[])).push(n)},off:function(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit:function(t,n){(e[t]||[]).map((function(e){e(n)})),(e["*"]||[]).map((function(e){e(t,n)}))}}}var o=e((function(e,t){var n={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}};t.default=n,e.exports=t.default})),i=function(e){return Object.keys(e).map((function(t){var n=e[t].toString().replace(/"/g,"&quot;");return t+'="'+n+'"'})).join(" ")},a=o.svg,s=o.xlink,c={};c[a.name]=a.uri,c[s.name]=s.uri;var u,l=function(e,t){void 0===e&&(e="");var r=n(c,t||{}),o=i(r);return"<svg "+o+">"+e+"</svg>"},f=o.svg,p=o.xlink,d={attrs:(u={style:["position: absolute","width: 0","height: 0"].join("; "),"aria-hidden":"true"},u[f.name]=f.uri,u[p.name]=p.uri,u)},h=function(e){this.config=n(d,e||{}),this.symbols=[]};h.prototype.add=function(e){var t=this,n=t.symbols,r=this.find(e.id);return r?(n[n.indexOf(r)]=e,!1):(n.push(e),!0)},h.prototype.remove=function(e){var t=this,n=t.symbols,r=this.find(e);return!!r&&(n.splice(n.indexOf(r),1),r.destroy(),!0)},h.prototype.find=function(e){return this.symbols.filter((function(t){return t.id===e}))[0]||null},h.prototype.has=function(e){return null!==this.find(e)},h.prototype.stringify=function(){var e=this.config,t=e.attrs,n=this.symbols.map((function(e){return e.stringify()})).join("");return l(n,t)},h.prototype.toString=function(){return this.stringify()},h.prototype.destroy=function(){this.symbols.forEach((function(e){return e.destroy()}))};var g=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};g.prototype.stringify=function(){return this.content},g.prototype.toString=function(){return this.stringify()},g.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))};var v=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n},m=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"===typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return v(l(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(g),_={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},y=function(e){return Array.prototype.slice.call(e,0)},b={isChrome:function(){return/chrome/i.test(navigator.userAgent)},isFirefox:function(){return/firefox/i.test(navigator.userAgent)},isIE:function(){return/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)},isEdge:function(){return/edge/i.test(navigator.userAgent)}},M=function(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(e,!1,!1,t),window.dispatchEvent(n)},E=function(e){var t=[];return y(e.querySelectorAll("style")).forEach((function(e){e.textContent+="",t.push(e)})),t},I=function(e){return(e||window.location.href).split("#")[0]},S=function(e){angular.module("ng").run(["$rootScope",function(t){t.$on("$locationChangeSuccess",(function(t,n,r){M(e,{oldUrl:r,newUrl:n})}))}])},T="linearGradient, radialGradient, pattern, mask, clipPath",O=function(e,t){return void 0===t&&(t=T),y(e.querySelectorAll("symbol")).forEach((function(e){y(e.querySelectorAll(t)).forEach((function(t){e.parentNode.insertBefore(t,e)}))})),e};function C(e,t){var n=y(e).reduce((function(e,n){if(!n.attributes)return e;var r=y(n.attributes),o=t?r.filter(t):r;return e.concat(o)}),[]);return n}var A=o.xlink.uri,w="xlink:href",R=/[{}|\\\^\[\]`"<>]/g;function D(e){return e.replace(R,(function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()}))}function N(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function k(e,t,n){return y(e).forEach((function(e){var r=e.getAttribute(w);if(r&&0===r.indexOf(t)){var o=r.replace(t,n);e.setAttributeNS(A,w,o)}})),e}var L,P=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],x=P.map((function(e){return"["+e+"]"})).join(","),G=function(e,t,n,r){var o=D(n),i=D(r),a=e.querySelectorAll(x),s=C(a,(function(e){var t=e.localName,n=e.value;return-1!==P.indexOf(t)&&-1!==n.indexOf("url("+o)}));s.forEach((function(e){return e.value=e.value.replace(new RegExp(N(o),"g"),i)})),k(t,o,i)},U={MOUNT:"mount",SYMBOL_MOUNT:"symbol_mount"},F=function(e){function t(t){var o=this;void 0===t&&(t={}),e.call(this,n(_,t));var i=r();this._emitter=i,this.node=null;var a=this,s=a.config;if(s.autoConfigure&&this._autoConfigure(t),s.syncUrlsWithBaseTag){var c=document.getElementsByTagName("base")[0].getAttribute("href");i.on(U.MOUNT,(function(){return o.updateUrls("#",c)}))}var u=this._handleLocationChange.bind(this);this._handleLocationChange=u,s.listenLocationChangeEvent&&window.addEventListener(s.locationChangeEvent,u),s.locationChangeAngularEmitter&&S(s.locationChangeEvent),i.on(U.MOUNT,(function(e){s.moveGradientsOutsideSymbol&&O(e)})),i.on(U.SYMBOL_MOUNT,(function(e){s.moveGradientsOutsideSymbol&&O(e.parentNode),(b.isIE()||b.isEdge())&&E(e)}))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var o={isMounted:{}};return o.isMounted.get=function(){return!!this.node},t.prototype._autoConfigure=function(e){var t=this,n=t.config;"undefined"===typeof e.syncUrlsWithBaseTag&&(n.syncUrlsWithBaseTag="undefined"!==typeof document.getElementsByTagName("base")[0]),"undefined"===typeof e.locationChangeAngularEmitter&&(n.locationChangeAngularEmitter="undefined"!==typeof window.angular),"undefined"===typeof e.moveGradientsOutsideSymbol&&(n.moveGradientsOutsideSymbol=b.isFirefox())},t.prototype._handleLocationChange=function(e){var t=e.detail,n=t.oldUrl,r=t.newUrl;this.updateUrls(n,r)},t.prototype.add=function(t){var n=this,r=e.prototype.add.call(this,t);return this.isMounted&&r&&(t.mount(n.node),this._emitter.emit(U.SYMBOL_MOUNT,t.node)),r},t.prototype.attach=function(e){var t=this,n=this;if(n.isMounted)return n.node;var r="string"===typeof e?document.querySelector(e):e;return n.node=r,this.symbols.forEach((function(e){e.mount(n.node),t._emitter.emit(U.SYMBOL_MOUNT,e.node)})),y(r.querySelectorAll("symbol")).forEach((function(e){var t=m.createFromExistingNode(e);t.node=e,n.add(t)})),this._emitter.emit(U.MOUNT,r),r},t.prototype.destroy=function(){var e=this,t=e.config,n=e.symbols,r=e._emitter;n.forEach((function(e){return e.destroy()})),r.off("*"),window.removeEventListener(t.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},t.prototype.mount=function(e,t){void 0===e&&(e=this.config.mountTo),void 0===t&&(t=!1);var n=this;if(n.isMounted)return n.node;var r="string"===typeof e?document.querySelector(e):e,o=n.render();return this.node=o,t&&r.childNodes[0]?r.insertBefore(o,r.childNodes[0]):r.appendChild(o),this._emitter.emit(U.MOUNT,o),o},t.prototype.render=function(){return v(this.stringify())},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},t.prototype.updateUrls=function(e,t){if(!this.isMounted)return!1;var n=document.querySelectorAll(this.config.usagesToUpdate);return G(this.node,n,I(e)+"#",I(t)+"#"),!0},Object.defineProperties(t.prototype,o),t}(h),j=e((function(e){
/*!
  * domready (c) Dustin Diaz 2014 - License MIT
  */
!function(t,n){e.exports=n()}(0,(function(){var e,t=[],n=document,r=n.documentElement.doScroll,o="DOMContentLoaded",i=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return i||n.addEventListener(o,e=function(){n.removeEventListener(o,e),i=1;while(e=t.shift())e()}),function(e){i?setTimeout(e,0):t.push(e)}}))})),q="__SVG_SPRITE_NODE__",B="__SVG_SPRITE__",V=!!window[B];V?L=window[B]:(L=new F({attrs:{id:q,"aria-hidden":"true"}}),window[B]=L);var $=function(){var e=document.getElementById(q);e?L.attach(e):L.mount(document.body,!0)};document.body?$():j($);var H=L;return H}))}).call(this,n("c8ba"))},"21bf":function(e,t,n){(function(t){(function(t,n){e.exports=n()})(0,(function(){var e=e||function(e,r){var o;if("undefined"!==typeof window&&window.crypto&&(o=window.crypto),"undefined"!==typeof self&&self.crypto&&(o=self.crypto),"undefined"!==typeof globalThis&&globalThis.crypto&&(o=globalThis.crypto),!o&&"undefined"!==typeof window&&window.msCrypto&&(o=window.msCrypto),!o&&"undefined"!==typeof t&&t.crypto&&(o=t.crypto),!o)try{o=n(1)}catch(m){}var i=function(){if(o){if("function"===typeof o.getRandomValues)try{return o.getRandomValues(new Uint32Array(1))[0]}catch(m){}if("function"===typeof o.randomBytes)try{return o.randomBytes(4).readInt32LE()}catch(m){}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),s={},c=s.lib={},u=c.Base=function(){return{extend:function(e){var t=a(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),l=c.WordArray=u.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=t!=r?t:4*e.length},toString:function(e){return(e||p).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,o=e.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++){var a=n[i>>>2]>>>24-i%4*8&255;t[r+i>>>2]|=a<<24-(r+i)%4*8}else for(var s=0;s<o;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=u.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new l.init(t,e)}}),f=s.enc={},p=f.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new l.init(n,t/2)}},d=f.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new l.init(n,t)}},h=f.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},g=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,o=r.words,i=r.sigBytes,a=this.blockSize,s=4*a,c=i/s;c=t?e.ceil(c):e.max((0|c)-this._minBufferSize,0);var u=c*a,f=e.min(4*u,i);if(u){for(var p=0;p<u;p+=a)this._doProcessBlock(o,p);n=o.splice(0,u),r.sigBytes-=f}return new l.init(n,f)},clone:function(){var e=u.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),v=(c.Hasher=g.extend({cfg:u.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new v.HMAC.init(e,n).finalize(t)}}}),s.algo={});return s}(Math);return e}))}).call(this,n("c8ba"))},2266:function(e,t,n){var r=n("0366"),o=n("c65b"),i=n("825a"),a=n("0d51"),s=n("e95a"),c=n("07fa"),u=n("3a9b"),l=n("9a1f"),f=n("35a1"),p=n("2a62"),d=TypeError,h=function(e,t){this.stopped=e,this.result=t},g=h.prototype;e.exports=function(e,t,n){var v,m,_,y,b,M,E,I=n&&n.that,S=!(!n||!n.AS_ENTRIES),T=!(!n||!n.IS_ITERATOR),O=!(!n||!n.INTERRUPTED),C=r(t,I),A=function(e){return v&&p(v,"normal",e),new h(!0,e)},w=function(e){return S?(i(e),O?C(e[0],e[1],A):C(e[0],e[1])):O?C(e,A):C(e)};if(T)v=e;else{if(m=f(e),!m)throw d(a(e)+" is not iterable");if(s(m)){for(_=0,y=c(e);y>_;_++)if(b=w(e[_]),b&&u(g,b))return b;return new h(!1)}v=l(e,m)}M=v.next;while(!(E=o(M,v)).done){try{b=w(E.value)}catch(R){p(v,"throw",R)}if("object"==typeof b&&b&&u(g,b))return b}return new h(!1)}},"23cb":function(e,t,n){var r=n("5926"),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},"23e7":function(e,t,n){var r=n("da84"),o=n("06cf").f,i=n("9112"),a=n("cb2d"),s=n("6374"),c=n("e893"),u=n("94ca");e.exports=function(e,t){var n,l,f,p,d,h,g=e.target,v=e.global,m=e.stat;if(l=v?r:m?r[g]||s(g,{}):(r[g]||{}).prototype,l)for(f in t){if(d=t[f],e.dontCallGetSet?(h=o(l,f),p=h&&h.value):p=l[f],n=u(v?f:g+(m?".":"#")+f,e.forced),!n&&void 0!==p){if(typeof d==typeof p)continue;c(d,p)}(e.sham||p&&p.sham)&&i(d,"sham",!0),a(l,f,d,e)}}},"241c":function(e,t,n){var r=n("ca84"),o=n("7839"),i=o.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},2444:function(e,t,n){"use strict";(function(t){var r=n("c532"),o=n("c8af"),i=n("387f"),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function c(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=n("b50d")),e}function u(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(o){if("SyntaxError"!==o.name)throw o}return(n||JSON.stringify)(e)}var l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:c(),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),u(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||o&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw i(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(a)})),e.exports=l}).call(this,n("4362"))},2532:function(e,t,n){"use strict";var r=n("23e7"),o=n("e330"),i=n("5a34"),a=n("1d80"),s=n("577e"),c=n("ab13"),u=o("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~u(s(a(this)),s(i(e)),arguments.length>1?arguments[1]:void 0)}})},"25a1":function(e,t,n){"use strict";var r=n("ebb5"),o=n("d58f").right,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("reduceRight",(function(e){var t=arguments.length;return o(i(this),e,t,t>1?arguments[1]:void 0)}))},"25f0":function(e,t,n){"use strict";var r=n("5e77").PROPER,o=n("cb2d"),i=n("825a"),a=n("577e"),s=n("d039"),c=n("90d8"),u="toString",l=RegExp.prototype,f=l[u],p=s((function(){return"/a/b"!=f.call({source:"a",flags:"b"})})),d=r&&f.name!=u;(p||d)&&o(RegExp.prototype,u,(function(){var e=i(this),t=a(e.source),n=a(c(e));return"/"+t+"/"+n}),{unsafe:!0})},2626:function(e,t,n){"use strict";var r=n("d066"),o=n("9bf2"),i=n("b622"),a=n("83ab"),s=i("species");e.exports=function(e){var t=r(e),n=o.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},"26dd":function(e,t,n){"use strict";var r=n("6f4f"),o=n("10db"),i=n("92f0"),a={};n("051b")(a,n("cc15")("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},"26ee":function(e,t,n){"use strict";var r=n("5ea3"),o="object"==typeof self&&self&&self.Object===Object&&self,i=r["a"]||o||Function("return this")();t["a"]=i},2877:function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):o&&(c=s?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},2909:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("6b75");function o(e){if(Array.isArray(e))return Object(r["a"])(e)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function i(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var a=n("06c5");n("d9e2");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return o(e)||i(e)||Object(a["a"])(e)||s()}},2954:function(e,t,n){"use strict";var r=n("ebb5"),o=n("b6b7"),i=n("d039"),a=n("f36a"),s=r.aTypedArray,c=r.exportTypedArrayMethod,u=i((function(){new Int8Array(1).slice()}));c("slice",(function(e,t){var n=a(s(this),e,t),r=o(this),i=0,c=n.length,u=new r(c);while(c>i)u[i]=n[i++];return u}),u)},"299c":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=136)}({136:function(e,t,n){"use strict";n.r(t);var r=n(5),o=n.n(r),i=n(19),a=n.n(i),s=n(2),c=n(3),u=n(7),l=n.n(u),f={name:"ElTooltip",mixins:[o.a],props:{openDelay:{type:Number,default:0},disabled:Boolean,manual:Boolean,effect:{type:String,default:"dark"},arrowOffset:{type:Number,default:0},popperClass:String,content:String,visibleArrow:{default:!0},transition:{type:String,default:"el-fade-in-linear"},popperOptions:{default:function(){return{boundariesPadding:10,gpuAcceleration:!1}}},enterable:{type:Boolean,default:!0},hideAfter:{type:Number,default:0},tabindex:{type:Number,default:0}},data:function(){return{tooltipId:"el-tooltip-"+Object(c["generateId"])(),timeoutPending:null,focusing:!1}},beforeCreate:function(){var e=this;this.$isServer||(this.popperVM=new l.a({data:{node:""},render:function(e){return this.node}}).$mount(),this.debounceClose=a()(200,(function(){return e.handleClosePopper()})))},render:function(e){var t=this;this.popperVM&&(this.popperVM.node=e("transition",{attrs:{name:this.transition},on:{afterLeave:this.doDestroy}},[e("div",{on:{mouseleave:function(){t.setExpectedState(!1),t.debounceClose()},mouseenter:function(){t.setExpectedState(!0)}},ref:"popper",attrs:{role:"tooltip",id:this.tooltipId,"aria-hidden":this.disabled||!this.showPopper?"true":"false"},directives:[{name:"show",value:!this.disabled&&this.showPopper}],class:["el-tooltip__popper","is-"+this.effect,this.popperClass]},[this.$slots.content||this.content])]));var n=this.getFirstElement();if(!n)return null;var r=n.data=n.data||{};return r.staticClass=this.addTooltipClass(r.staticClass),n},mounted:function(){var e=this;this.referenceElm=this.$el,1===this.$el.nodeType&&(this.$el.setAttribute("aria-describedby",this.tooltipId),this.$el.setAttribute("tabindex",this.tabindex),Object(s["on"])(this.referenceElm,"mouseenter",this.show),Object(s["on"])(this.referenceElm,"mouseleave",this.hide),Object(s["on"])(this.referenceElm,"focus",(function(){if(e.$slots.default&&e.$slots.default.length){var t=e.$slots.default[0].componentInstance;t&&t.focus?t.focus():e.handleFocus()}else e.handleFocus()})),Object(s["on"])(this.referenceElm,"blur",this.handleBlur),Object(s["on"])(this.referenceElm,"click",this.removeFocusing)),this.value&&this.popperVM&&this.popperVM.$nextTick((function(){e.value&&e.updatePopper()}))},watch:{focusing:function(e){e?Object(s["addClass"])(this.referenceElm,"focusing"):Object(s["removeClass"])(this.referenceElm,"focusing")}},methods:{show:function(){this.setExpectedState(!0),this.handleShowPopper()},hide:function(){this.setExpectedState(!1),this.debounceClose()},handleFocus:function(){this.focusing=!0,this.show()},handleBlur:function(){this.focusing=!1,this.hide()},removeFocusing:function(){this.focusing=!1},addTooltipClass:function(e){return e?"el-tooltip "+e.replace("el-tooltip",""):"el-tooltip"},handleShowPopper:function(){var e=this;this.expectedState&&!this.manual&&(clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.showPopper=!0}),this.openDelay),this.hideAfter>0&&(this.timeoutPending=setTimeout((function(){e.showPopper=!1}),this.hideAfter)))},handleClosePopper:function(){this.enterable&&this.expectedState||this.manual||(clearTimeout(this.timeout),this.timeoutPending&&clearTimeout(this.timeoutPending),this.showPopper=!1,this.disabled&&this.doDestroy())},setExpectedState:function(e){!1===e&&clearTimeout(this.timeoutPending),this.expectedState=e},getFirstElement:function(){var e=this.$slots.default;if(!Array.isArray(e))return null;for(var t=null,n=0;n<e.length;n++)if(e[n]&&e[n].tag){t=e[n];break}return t}},beforeDestroy:function(){this.popperVM&&this.popperVM.$destroy()},destroyed:function(){var e=this.referenceElm;1===e.nodeType&&(Object(s["off"])(e,"mouseenter",this.show),Object(s["off"])(e,"mouseleave",this.hide),Object(s["off"])(e,"focus",this.handleFocus),Object(s["off"])(e,"blur",this.handleBlur),Object(s["off"])(e,"click",this.removeFocusing))},install:function(e){e.component(f.name,f)}};t["default"]=f},19:function(e,t){e.exports=n("0e15")},2:function(e,t){e.exports=n("5924")},3:function(e,t){e.exports=n("8122")},5:function(e,t){e.exports=n("e974")},7:function(e,t){e.exports=n("2b0e")}})},"2a5e":function(e,t,n){"use strict";t.__esModule=!0,t.default=a;var r=n("2b0e"),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!o.default.prototype.$isServer)if(t){var n=[],r=t.offsetParent;while(r&&e!==r&&e.contains(r))n.push(r),r=r.offsetParent;var i=t.offsetTop+n.reduce((function(e,t){return e+t.offsetTop}),0),a=i+t.offsetHeight,s=e.scrollTop,c=s+e.clientHeight;i<s?e.scrollTop=i:a>c&&(e.scrollTop=a-e.clientHeight)}else e.scrollTop=0}},"2a62":function(e,t,n){var r=n("c65b"),o=n("825a"),i=n("dc4a");e.exports=function(e,t,n){var a,s;o(e);try{if(a=i(e,"return"),!a){if("throw"===t)throw n;return n}a=r(a,e)}catch(c){s=!0,a=c}if("throw"===t)throw n;if(s)throw a;return o(a),n}},"2b0e":function(e,t,n){"use strict";n.r(t),function(e){
/*!
 * Vue.js v2.6.14
 * (c) 2014-2021 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function r(e){return void 0===e||null===e}function o(e){return void 0!==e&&null!==e}function i(e){return!0===e}function a(e){return!1===e}function s(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e||"boolean"===typeof e}function c(e){return null!==e&&"object"===typeof e}var u=Object.prototype.toString;function l(e){return"[object Object]"===u.call(e)}function f(e){return"[object RegExp]"===u.call(e)}function p(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function d(e){return o(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function h(e){return null==e?"":Array.isArray(e)||l(e)&&e.toString===u?JSON.stringify(e,null,2):String(e)}function g(e){var t=parseFloat(e);return isNaN(t)?e:t}function v(e,t){for(var n=Object.create(null),r=e.split(","),o=0;o<r.length;o++)n[r[o]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}v("slot,component",!0);var m=v("key,ref,slot,slot-scope,is");function _(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}var y=Object.prototype.hasOwnProperty;function b(e,t){return y.call(e,t)}function M(e){var t=Object.create(null);return function(n){var r=t[n];return r||(t[n]=e(n))}}var E=/-(\w)/g,I=M((function(e){return e.replace(E,(function(e,t){return t?t.toUpperCase():""}))})),S=M((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),T=/\B([A-Z])/g,O=M((function(e){return e.replace(T,"-$1").toLowerCase()}));function C(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n}function A(e,t){return e.bind(t)}var w=Function.prototype.bind?A:C;function R(e,t){t=t||0;var n=e.length-t,r=new Array(n);while(n--)r[n]=e[n+t];return r}function D(e,t){for(var n in t)e[n]=t[n];return e}function N(e){for(var t={},n=0;n<e.length;n++)e[n]&&D(t,e[n]);return t}function k(e,t,n){}var L=function(e,t,n){return!1},P=function(e){return e};function x(e,t){if(e===t)return!0;var n=c(e),r=c(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var o=Array.isArray(e),i=Array.isArray(t);if(o&&i)return e.length===t.length&&e.every((function(e,n){return x(e,t[n])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(o||i)return!1;var a=Object.keys(e),s=Object.keys(t);return a.length===s.length&&a.every((function(n){return x(e[n],t[n])}))}catch(u){return!1}}function G(e,t){for(var n=0;n<e.length;n++)if(x(e[n],t))return n;return-1}function U(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var F="data-server-rendered",j=["component","directive","filter"],q=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],B={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:L,isReservedAttr:L,isUnknownElement:L,getTagNamespace:k,parsePlatformTagName:P,mustUseProp:L,async:!0,_lifecycleHooks:q},V=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function $(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function H(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var K=new RegExp("[^"+V.source+".$_\\d]");function W(e){if(!K.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}var z,Y="__proto__"in{},J="undefined"!==typeof window,X="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,Q=X&&WXEnvironment.platform.toLowerCase(),Z=J&&window.navigator.userAgent.toLowerCase(),ee=Z&&/msie|trident/.test(Z),te=Z&&Z.indexOf("msie 9.0")>0,ne=Z&&Z.indexOf("edge/")>0,re=(Z&&Z.indexOf("android"),Z&&/iphone|ipad|ipod|ios/.test(Z)||"ios"===Q),oe=(Z&&/chrome\/\d+/.test(Z),Z&&/phantomjs/.test(Z),Z&&Z.match(/firefox\/(\d+)/)),ie={}.watch,ae=!1;if(J)try{var se={};Object.defineProperty(se,"passive",{get:function(){ae=!0}}),window.addEventListener("test-passive",null,se)}catch(Sa){}var ce=function(){return void 0===z&&(z=!J&&!X&&"undefined"!==typeof e&&(e["process"]&&"server"===e["process"].env.VUE_ENV)),z},ue=J&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function le(e){return"function"===typeof e&&/native code/.test(e.toString())}var fe,pe="undefined"!==typeof Symbol&&le(Symbol)&&"undefined"!==typeof Reflect&&le(Reflect.ownKeys);fe="undefined"!==typeof Set&&le(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var de=k,he=0,ge=function(){this.id=he++,this.subs=[]};ge.prototype.addSub=function(e){this.subs.push(e)},ge.prototype.removeSub=function(e){_(this.subs,e)},ge.prototype.depend=function(){ge.target&&ge.target.addDep(this)},ge.prototype.notify=function(){var e=this.subs.slice();for(var t=0,n=e.length;t<n;t++)e[t].update()},ge.target=null;var ve=[];function me(e){ve.push(e),ge.target=e}function _e(){ve.pop(),ge.target=ve[ve.length-1]}var ye=function(e,t,n,r,o,i,a,s){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=o,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},be={child:{configurable:!0}};be.child.get=function(){return this.componentInstance},Object.defineProperties(ye.prototype,be);var Me=function(e){void 0===e&&(e="");var t=new ye;return t.text=e,t.isComment=!0,t};function Ee(e){return new ye(void 0,void 0,void 0,String(e))}function Ie(e){var t=new ye(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var Se=Array.prototype,Te=Object.create(Se),Oe=["push","pop","shift","unshift","splice","sort","reverse"];Oe.forEach((function(e){var t=Se[e];H(Te,e,(function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];var o,i=t.apply(this,n),a=this.__ob__;switch(e){case"push":case"unshift":o=n;break;case"splice":o=n.slice(2);break}return o&&a.observeArray(o),a.dep.notify(),i}))}));var Ce=Object.getOwnPropertyNames(Te),Ae=!0;function we(e){Ae=e}var Re=function(e){this.value=e,this.dep=new ge,this.vmCount=0,H(e,"__ob__",this),Array.isArray(e)?(Y?De(e,Te):Ne(e,Te,Ce),this.observeArray(e)):this.walk(e)};function De(e,t){e.__proto__=t}function Ne(e,t,n){for(var r=0,o=n.length;r<o;r++){var i=n[r];H(e,i,t[i])}}function ke(e,t){var n;if(c(e)&&!(e instanceof ye))return b(e,"__ob__")&&e.__ob__ instanceof Re?n=e.__ob__:Ae&&!ce()&&(Array.isArray(e)||l(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new Re(e)),t&&n&&n.vmCount++,n}function Le(e,t,n,r,o){var i=new ge,a=Object.getOwnPropertyDescriptor(e,t);if(!a||!1!==a.configurable){var s=a&&a.get,c=a&&a.set;s&&!c||2!==arguments.length||(n=e[t]);var u=!o&&ke(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):n;return ge.target&&(i.depend(),u&&(u.dep.depend(),Array.isArray(t)&&Ge(t))),t},set:function(t){var r=s?s.call(e):n;t===r||t!==t&&r!==r||s&&!c||(c?c.call(e,t):n=t,u=!o&&ke(t),i.notify())}})}}function Pe(e,t,n){if(Array.isArray(e)&&p(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var r=e.__ob__;return e._isVue||r&&r.vmCount?n:r?(Le(r.value,t,n),r.dep.notify(),n):(e[t]=n,n)}function xe(e,t){if(Array.isArray(e)&&p(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||b(e,t)&&(delete e[t],n&&n.dep.notify())}}function Ge(e){for(var t=void 0,n=0,r=e.length;n<r;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&Ge(t)}Re.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)Le(e,t[n])},Re.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)ke(e[t])};var Ue=B.optionMergeStrategies;function Fe(e,t){if(!t)return e;for(var n,r,o,i=pe?Reflect.ownKeys(t):Object.keys(t),a=0;a<i.length;a++)n=i[a],"__ob__"!==n&&(r=e[n],o=t[n],b(e,n)?r!==o&&l(r)&&l(o)&&Fe(r,o):Pe(e,n,o));return e}function je(e,t,n){return n?function(){var r="function"===typeof t?t.call(n,n):t,o="function"===typeof e?e.call(n,n):e;return r?Fe(r,o):o}:t?e?function(){return Fe("function"===typeof t?t.call(this,this):t,"function"===typeof e?e.call(this,this):e)}:t:e}function qe(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?Be(n):n}function Be(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}function Ve(e,t,n,r){var o=Object.create(e||null);return t?D(o,t):o}Ue.data=function(e,t,n){return n?je(e,t,n):t&&"function"!==typeof t?e:je(e,t)},q.forEach((function(e){Ue[e]=qe})),j.forEach((function(e){Ue[e+"s"]=Ve})),Ue.watch=function(e,t,n,r){if(e===ie&&(e=void 0),t===ie&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var o={};for(var i in D(o,e),t){var a=o[i],s=t[i];a&&!Array.isArray(a)&&(a=[a]),o[i]=a?a.concat(s):Array.isArray(s)?s:[s]}return o},Ue.props=Ue.methods=Ue.inject=Ue.computed=function(e,t,n,r){if(!e)return t;var o=Object.create(null);return D(o,e),t&&D(o,t),o},Ue.provide=je;var $e=function(e,t){return void 0===t?e:t};function He(e,t){var n=e.props;if(n){var r,o,i,a={};if(Array.isArray(n)){r=n.length;while(r--)o=n[r],"string"===typeof o&&(i=I(o),a[i]={type:null})}else if(l(n))for(var s in n)o=n[s],i=I(s),a[i]=l(o)?o:{type:o};else 0;e.props=a}}function Ke(e,t){var n=e.inject;if(n){var r=e.inject={};if(Array.isArray(n))for(var o=0;o<n.length;o++)r[n[o]]={from:n[o]};else if(l(n))for(var i in n){var a=n[i];r[i]=l(a)?D({from:i},a):{from:a}}else 0}}function We(e){var t=e.directives;if(t)for(var n in t){var r=t[n];"function"===typeof r&&(t[n]={bind:r,update:r})}}function ze(e,t,n){if("function"===typeof t&&(t=t.options),He(t,n),Ke(t,n),We(t),!t._base&&(t.extends&&(e=ze(e,t.extends,n)),t.mixins))for(var r=0,o=t.mixins.length;r<o;r++)e=ze(e,t.mixins[r],n);var i,a={};for(i in e)s(i);for(i in t)b(e,i)||s(i);function s(r){var o=Ue[r]||$e;a[r]=o(e[r],t[r],n,r)}return a}function Ye(e,t,n,r){if("string"===typeof n){var o=e[t];if(b(o,n))return o[n];var i=I(n);if(b(o,i))return o[i];var a=S(i);if(b(o,a))return o[a];var s=o[n]||o[i]||o[a];return s}}function Je(e,t,n,r){var o=t[e],i=!b(n,e),a=n[e],s=tt(Boolean,o.type);if(s>-1)if(i&&!b(o,"default"))a=!1;else if(""===a||a===O(e)){var c=tt(String,o.type);(c<0||s<c)&&(a=!0)}if(void 0===a){a=Xe(r,o,e);var u=Ae;we(!0),ke(a),we(u)}return a}function Xe(e,t,n){if(b(t,"default")){var r=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"===typeof r&&"Function"!==Ze(t.type)?r.call(e):r}}var Qe=/^\s*function (\w+)/;function Ze(e){var t=e&&e.toString().match(Qe);return t?t[1]:""}function et(e,t){return Ze(e)===Ze(t)}function tt(e,t){if(!Array.isArray(t))return et(t,e)?0:-1;for(var n=0,r=t.length;n<r;n++)if(et(t[n],e))return n;return-1}function nt(e,t,n){me();try{if(t){var r=t;while(r=r.$parent){var o=r.$options.errorCaptured;if(o)for(var i=0;i<o.length;i++)try{var a=!1===o[i].call(r,e,t,n);if(a)return}catch(Sa){ot(Sa,r,"errorCaptured hook")}}}ot(e,t,n)}finally{_e()}}function rt(e,t,n,r,o){var i;try{i=n?e.apply(t,n):e.call(t),i&&!i._isVue&&d(i)&&!i._handled&&(i.catch((function(e){return nt(e,r,o+" (Promise/async)")})),i._handled=!0)}catch(Sa){nt(Sa,r,o)}return i}function ot(e,t,n){if(B.errorHandler)try{return B.errorHandler.call(null,e,t,n)}catch(Sa){Sa!==e&&it(Sa,null,"config.errorHandler")}it(e,t,n)}function it(e,t,n){if(!J&&!X||"undefined"===typeof console)throw e;console.error(e)}var at,st=!1,ct=[],ut=!1;function lt(){ut=!1;var e=ct.slice(0);ct.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!==typeof Promise&&le(Promise)){var ft=Promise.resolve();at=function(){ft.then(lt),re&&setTimeout(k)},st=!0}else if(ee||"undefined"===typeof MutationObserver||!le(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())at="undefined"!==typeof setImmediate&&le(setImmediate)?function(){setImmediate(lt)}:function(){setTimeout(lt,0)};else{var pt=1,dt=new MutationObserver(lt),ht=document.createTextNode(String(pt));dt.observe(ht,{characterData:!0}),at=function(){pt=(pt+1)%2,ht.data=String(pt)},st=!0}function gt(e,t){var n;if(ct.push((function(){if(e)try{e.call(t)}catch(Sa){nt(Sa,t,"nextTick")}else n&&n(t)})),ut||(ut=!0,at()),!e&&"undefined"!==typeof Promise)return new Promise((function(e){n=e}))}var vt=new fe;function mt(e){_t(e,vt),vt.clear()}function _t(e,t){var n,r,o=Array.isArray(e);if(!(!o&&!c(e)||Object.isFrozen(e)||e instanceof ye)){if(e.__ob__){var i=e.__ob__.dep.id;if(t.has(i))return;t.add(i)}if(o){n=e.length;while(n--)_t(e[n],t)}else{r=Object.keys(e),n=r.length;while(n--)_t(e[r[n]],t)}}}var yt=M((function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var n="~"===e.charAt(0);e=n?e.slice(1):e;var r="!"===e.charAt(0);return e=r?e.slice(1):e,{name:e,once:n,capture:r,passive:t}}));function bt(e,t){function n(){var e=arguments,r=n.fns;if(!Array.isArray(r))return rt(r,null,arguments,t,"v-on handler");for(var o=r.slice(),i=0;i<o.length;i++)rt(o[i],null,e,t,"v-on handler")}return n.fns=e,n}function Mt(e,t,n,o,a,s){var c,u,l,f;for(c in e)u=e[c],l=t[c],f=yt(c),r(u)||(r(l)?(r(u.fns)&&(u=e[c]=bt(u,s)),i(f.once)&&(u=e[c]=a(f.name,u,f.capture)),n(f.name,u,f.capture,f.passive,f.params)):u!==l&&(l.fns=u,e[c]=l));for(c in t)r(e[c])&&(f=yt(c),o(f.name,t[c],f.capture))}function Et(e,t,n){var a;e instanceof ye&&(e=e.data.hook||(e.data.hook={}));var s=e[t];function c(){n.apply(this,arguments),_(a.fns,c)}r(s)?a=bt([c]):o(s.fns)&&i(s.merged)?(a=s,a.fns.push(c)):a=bt([s,c]),a.merged=!0,e[t]=a}function It(e,t,n){var i=t.options.props;if(!r(i)){var a={},s=e.attrs,c=e.props;if(o(s)||o(c))for(var u in i){var l=O(u);St(a,c,u,l,!0)||St(a,s,u,l,!1)}return a}}function St(e,t,n,r,i){if(o(t)){if(b(t,n))return e[n]=t[n],i||delete t[n],!0;if(b(t,r))return e[n]=t[r],i||delete t[r],!0}return!1}function Tt(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function Ot(e){return s(e)?[Ee(e)]:Array.isArray(e)?At(e):void 0}function Ct(e){return o(e)&&o(e.text)&&a(e.isComment)}function At(e,t){var n,a,c,u,l=[];for(n=0;n<e.length;n++)a=e[n],r(a)||"boolean"===typeof a||(c=l.length-1,u=l[c],Array.isArray(a)?a.length>0&&(a=At(a,(t||"")+"_"+n),Ct(a[0])&&Ct(u)&&(l[c]=Ee(u.text+a[0].text),a.shift()),l.push.apply(l,a)):s(a)?Ct(u)?l[c]=Ee(u.text+a):""!==a&&l.push(Ee(a)):Ct(a)&&Ct(u)?l[c]=Ee(u.text+a.text):(i(e._isVList)&&o(a.tag)&&r(a.key)&&o(t)&&(a.key="__vlist"+t+"_"+n+"__"),l.push(a)));return l}function wt(e){var t=e.$options.provide;t&&(e._provided="function"===typeof t?t.call(e):t)}function Rt(e){var t=Dt(e.$options.inject,e);t&&(we(!1),Object.keys(t).forEach((function(n){Le(e,n,t[n])})),we(!0))}function Dt(e,t){if(e){for(var n=Object.create(null),r=pe?Reflect.ownKeys(e):Object.keys(e),o=0;o<r.length;o++){var i=r[o];if("__ob__"!==i){var a=e[i].from,s=t;while(s){if(s._provided&&b(s._provided,a)){n[i]=s._provided[a];break}s=s.$parent}if(!s)if("default"in e[i]){var c=e[i].default;n[i]="function"===typeof c?c.call(t):c}else 0}}return n}}function Nt(e,t){if(!e||!e.length)return{};for(var n={},r=0,o=e.length;r<o;r++){var i=e[r],a=i.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,i.context!==t&&i.fnContext!==t||!a||null==a.slot)(n.default||(n.default=[])).push(i);else{var s=a.slot,c=n[s]||(n[s]=[]);"template"===i.tag?c.push.apply(c,i.children||[]):c.push(i)}}for(var u in n)n[u].every(kt)&&delete n[u];return n}function kt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function Lt(e){return e.isComment&&e.asyncFactory}function Pt(e,t,r){var o,i=Object.keys(t).length>0,a=e?!!e.$stable:!i,s=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(a&&r&&r!==n&&s===r.$key&&!i&&!r.$hasNormal)return r;for(var c in o={},e)e[c]&&"$"!==c[0]&&(o[c]=xt(t,c,e[c]))}else o={};for(var u in t)u in o||(o[u]=Gt(t,u));return e&&Object.isExtensible(e)&&(e._normalized=o),H(o,"$stable",a),H(o,"$key",s),H(o,"$hasNormal",i),o}function xt(e,t,n){var r=function(){var e=arguments.length?n.apply(null,arguments):n({});e=e&&"object"===typeof e&&!Array.isArray(e)?[e]:Ot(e);var t=e&&e[0];return e&&(!t||1===e.length&&t.isComment&&!Lt(t))?void 0:e};return n.proxy&&Object.defineProperty(e,t,{get:r,enumerable:!0,configurable:!0}),r}function Gt(e,t){return function(){return e[t]}}function Ut(e,t){var n,r,i,a,s;if(Array.isArray(e)||"string"===typeof e)for(n=new Array(e.length),r=0,i=e.length;r<i;r++)n[r]=t(e[r],r);else if("number"===typeof e)for(n=new Array(e),r=0;r<e;r++)n[r]=t(r+1,r);else if(c(e))if(pe&&e[Symbol.iterator]){n=[];var u=e[Symbol.iterator](),l=u.next();while(!l.done)n.push(t(l.value,n.length)),l=u.next()}else for(a=Object.keys(e),n=new Array(a.length),r=0,i=a.length;r<i;r++)s=a[r],n[r]=t(e[s],s,r);return o(n)||(n=[]),n._isVList=!0,n}function Ft(e,t,n,r){var o,i=this.$scopedSlots[e];i?(n=n||{},r&&(n=D(D({},r),n)),o=i(n)||("function"===typeof t?t():t)):o=this.$slots[e]||("function"===typeof t?t():t);var a=n&&n.slot;return a?this.$createElement("template",{slot:a},o):o}function jt(e){return Ye(this.$options,"filters",e,!0)||P}function qt(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function Bt(e,t,n,r,o){var i=B.keyCodes[t]||n;return o&&r&&!B.keyCodes[t]?qt(o,r):i?qt(i,e):r?O(r)!==t:void 0===e}function Vt(e,t,n,r,o){if(n)if(c(n)){var i;Array.isArray(n)&&(n=N(n));var a=function(a){if("class"===a||"style"===a||m(a))i=e;else{var s=e.attrs&&e.attrs.type;i=r||B.mustUseProp(t,s,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var c=I(a),u=O(a);if(!(c in i)&&!(u in i)&&(i[a]=n[a],o)){var l=e.on||(e.on={});l["update:"+a]=function(e){n[a]=e}}};for(var s in n)a(s)}else;return e}function $t(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t||(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),Kt(r,"__static__"+e,!1)),r}function Ht(e,t,n){return Kt(e,"__once__"+t+(n?"_"+n:""),!0),e}function Kt(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&"string"!==typeof e[r]&&Wt(e[r],t+"_"+r,n);else Wt(e,t,n)}function Wt(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function zt(e,t){if(t)if(l(t)){var n=e.on=e.on?D({},e.on):{};for(var r in t){var o=n[r],i=t[r];n[r]=o?[].concat(o,i):i}}else;return e}function Yt(e,t,n,r){t=t||{$stable:!n};for(var o=0;o<e.length;o++){var i=e[o];Array.isArray(i)?Yt(i,t,n):i&&(i.proxy&&(i.fn.proxy=!0),t[i.key]=i.fn)}return r&&(t.$key=r),t}function Jt(e,t){for(var n=0;n<t.length;n+=2){var r=t[n];"string"===typeof r&&r&&(e[t[n]]=t[n+1])}return e}function Xt(e,t){return"string"===typeof e?t+e:e}function Qt(e){e._o=Ht,e._n=g,e._s=h,e._l=Ut,e._t=Ft,e._q=x,e._i=G,e._m=$t,e._f=jt,e._k=Bt,e._b=Vt,e._v=Ee,e._e=Me,e._u=Yt,e._g=zt,e._d=Jt,e._p=Xt}function Zt(e,t,r,o,a){var s,c=this,u=a.options;b(o,"_uid")?(s=Object.create(o),s._original=o):(s=o,o=o._original);var l=i(u._compiled),f=!l;this.data=e,this.props=t,this.children=r,this.parent=o,this.listeners=e.on||n,this.injections=Dt(u.inject,o),this.slots=function(){return c.$slots||Pt(e.scopedSlots,c.$slots=Nt(r,o)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Pt(e.scopedSlots,this.slots())}}),l&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=Pt(e.scopedSlots,this.$slots)),u._scopeId?this._c=function(e,t,n,r){var i=dn(s,e,t,n,r,f);return i&&!Array.isArray(i)&&(i.fnScopeId=u._scopeId,i.fnContext=o),i}:this._c=function(e,t,n,r){return dn(s,e,t,n,r,f)}}function en(e,t,r,i,a){var s=e.options,c={},u=s.props;if(o(u))for(var l in u)c[l]=Je(l,u,t||n);else o(r.attrs)&&nn(c,r.attrs),o(r.props)&&nn(c,r.props);var f=new Zt(r,c,a,i,e),p=s.render.call(null,f._c,f);if(p instanceof ye)return tn(p,r,f.parent,s,f);if(Array.isArray(p)){for(var d=Ot(p)||[],h=new Array(d.length),g=0;g<d.length;g++)h[g]=tn(d[g],r,f.parent,s,f);return h}}function tn(e,t,n,r,o){var i=Ie(e);return i.fnContext=n,i.fnOptions=r,t.slot&&((i.data||(i.data={})).slot=t.slot),i}function nn(e,t){for(var n in t)e[I(n)]=t[n]}Qt(Zt.prototype);var rn={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;rn.prepatch(n,n)}else{var r=e.componentInstance=sn(e,Dn);r.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var n=t.componentOptions,r=t.componentInstance=e.componentInstance;xn(r,n.propsData,n.listeners,t,n.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,jn(n,"mounted")),e.data.keepAlive&&(t._isMounted?Zn(n):Un(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Fn(t,!0):t.$destroy())}},on=Object.keys(rn);function an(e,t,n,a,s){if(!r(e)){var u=n.$options._base;if(c(e)&&(e=u.extend(e)),"function"===typeof e){var l;if(r(e.cid)&&(l=e,e=In(l,u),void 0===e))return En(l,t,n,a,s);t=t||{},Er(e),o(t.model)&&ln(e.options,t);var f=It(t,e,s);if(i(e.options.functional))return en(e,f,t,n,a);var p=t.on;if(t.on=t.nativeOn,i(e.options.abstract)){var d=t.slot;t={},d&&(t.slot=d)}cn(t);var h=e.options.name||s,g=new ye("vue-component-"+e.cid+(h?"-"+h:""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:f,listeners:p,tag:s,children:a},l);return g}}}function sn(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;return o(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new e.componentOptions.Ctor(n)}function cn(e){for(var t=e.hook||(e.hook={}),n=0;n<on.length;n++){var r=on[n],o=t[r],i=rn[r];o===i||o&&o._merged||(t[r]=o?un(i,o):i)}}function un(e,t){var n=function(n,r){e(n,r),t(n,r)};return n._merged=!0,n}function ln(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var i=t.on||(t.on={}),a=i[r],s=t.model.callback;o(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(i[r]=[s].concat(a)):i[r]=s}var fn=1,pn=2;function dn(e,t,n,r,o,a){return(Array.isArray(n)||s(n))&&(o=r,r=n,n=void 0),i(a)&&(o=pn),hn(e,t,n,r,o)}function hn(e,t,n,r,i){if(o(n)&&o(n.__ob__))return Me();if(o(n)&&o(n.is)&&(t=n.is),!t)return Me();var a,s,c;(Array.isArray(r)&&"function"===typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),i===pn?r=Ot(r):i===fn&&(r=Tt(r)),"string"===typeof t)?(s=e.$vnode&&e.$vnode.ns||B.getTagNamespace(t),a=B.isReservedTag(t)?new ye(B.parsePlatformTagName(t),n,r,void 0,void 0,e):n&&n.pre||!o(c=Ye(e.$options,"components",t))?new ye(t,n,r,void 0,void 0,e):an(c,n,e,r,t)):a=an(t,n,e,r);return Array.isArray(a)?a:o(a)?(o(s)&&gn(a,s),o(n)&&vn(n),a):Me()}function gn(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),o(e.children))for(var a=0,s=e.children.length;a<s;a++){var c=e.children[a];o(c.tag)&&(r(c.ns)||i(n)&&"svg"!==c.tag)&&gn(c,t,n)}}function vn(e){c(e.style)&&mt(e.style),c(e.class)&&mt(e.class)}function mn(e){e._vnode=null,e._staticTrees=null;var t=e.$options,r=e.$vnode=t._parentVnode,o=r&&r.context;e.$slots=Nt(t._renderChildren,o),e.$scopedSlots=n,e._c=function(t,n,r,o){return dn(e,t,n,r,o,!1)},e.$createElement=function(t,n,r,o){return dn(e,t,n,r,o,!0)};var i=r&&r.data;Le(e,"$attrs",i&&i.attrs||n,null,!0),Le(e,"$listeners",t._parentListeners||n,null,!0)}var _n,yn=null;function bn(e){Qt(e.prototype),e.prototype.$nextTick=function(e){return gt(e,this)},e.prototype._render=function(){var e,t=this,n=t.$options,r=n.render,o=n._parentVnode;o&&(t.$scopedSlots=Pt(o.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=o;try{yn=t,e=r.call(t._renderProxy,t.$createElement)}catch(Sa){nt(Sa,t,"render"),e=t._vnode}finally{yn=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof ye||(e=Me()),e.parent=o,e}}function Mn(e,t){return(e.__esModule||pe&&"Module"===e[Symbol.toStringTag])&&(e=e.default),c(e)?t.extend(e):e}function En(e,t,n,r,o){var i=Me();return i.asyncFactory=e,i.asyncMeta={data:t,context:n,children:r,tag:o},i}function In(e,t){if(i(e.error)&&o(e.errorComp))return e.errorComp;if(o(e.resolved))return e.resolved;var n=yn;if(n&&o(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),i(e.loading)&&o(e.loadingComp))return e.loadingComp;if(n&&!o(e.owners)){var a=e.owners=[n],s=!0,u=null,l=null;n.$on("hook:destroyed",(function(){return _(a,n)}));var f=function(e){for(var t=0,n=a.length;t<n;t++)a[t].$forceUpdate();e&&(a.length=0,null!==u&&(clearTimeout(u),u=null),null!==l&&(clearTimeout(l),l=null))},p=U((function(n){e.resolved=Mn(n,t),s?a.length=0:f(!0)})),h=U((function(t){o(e.errorComp)&&(e.error=!0,f(!0))})),g=e(p,h);return c(g)&&(d(g)?r(e.resolved)&&g.then(p,h):d(g.component)&&(g.component.then(p,h),o(g.error)&&(e.errorComp=Mn(g.error,t)),o(g.loading)&&(e.loadingComp=Mn(g.loading,t),0===g.delay?e.loading=!0:u=setTimeout((function(){u=null,r(e.resolved)&&r(e.error)&&(e.loading=!0,f(!1))}),g.delay||200)),o(g.timeout)&&(l=setTimeout((function(){l=null,r(e.resolved)&&h(null)}),g.timeout)))),s=!1,e.loading?e.loadingComp:e.resolved}}function Sn(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(o(n)&&(o(n.componentOptions)||Lt(n)))return n}}function Tn(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&wn(e,t)}function On(e,t){_n.$on(e,t)}function Cn(e,t){_n.$off(e,t)}function An(e,t){var n=_n;return function r(){var o=t.apply(null,arguments);null!==o&&n.$off(e,r)}}function wn(e,t,n){_n=e,Mt(t,n||{},On,Cn,An,e),_n=void 0}function Rn(e){var t=/^hook:/;e.prototype.$on=function(e,n){var r=this;if(Array.isArray(e))for(var o=0,i=e.length;o<i;o++)r.$on(e[o],n);else(r._events[e]||(r._events[e]=[])).push(n),t.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,t){var n=this;function r(){n.$off(e,r),t.apply(n,arguments)}return r.fn=t,n.$on(e,r),n},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var r=0,o=e.length;r<o;r++)n.$off(e[r],t);return n}var i,a=n._events[e];if(!a)return n;if(!t)return n._events[e]=null,n;var s=a.length;while(s--)if(i=a[s],i===t||i.fn===t){a.splice(s,1);break}return n},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?R(n):n;for(var r=R(arguments,1),o='event handler for "'+e+'"',i=0,a=n.length;i<a;i++)rt(n[i],t,r,t,o)}return t}}var Dn=null;function Nn(e){var t=Dn;return Dn=e,function(){Dn=t}}function kn(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function Ln(e){e.prototype._update=function(e,t){var n=this,r=n.$el,o=n._vnode,i=Nn(n);n._vnode=e,n.$el=o?n.__patch__(o,e):n.__patch__(n.$el,e,t,!1),i(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){jn(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||_(t.$children,e),e._watcher&&e._watcher.teardown();var n=e._watchers.length;while(n--)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),jn(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function Pn(e,t,n){var r;return e.$el=t,e.$options.render||(e.$options.render=Me),jn(e,"beforeMount"),r=function(){e._update(e._render(),n)},new rr(e,r,k,{before:function(){e._isMounted&&!e._isDestroyed&&jn(e,"beforeUpdate")}},!0),n=!1,null==e.$vnode&&(e._isMounted=!0,jn(e,"mounted")),e}function xn(e,t,r,o,i){var a=o.data.scopedSlots,s=e.$scopedSlots,c=!!(a&&!a.$stable||s!==n&&!s.$stable||a&&e.$scopedSlots.$key!==a.$key||!a&&e.$scopedSlots.$key),u=!!(i||e.$options._renderChildren||c);if(e.$options._parentVnode=o,e.$vnode=o,e._vnode&&(e._vnode.parent=o),e.$options._renderChildren=i,e.$attrs=o.data.attrs||n,e.$listeners=r||n,t&&e.$options.props){we(!1);for(var l=e._props,f=e.$options._propKeys||[],p=0;p<f.length;p++){var d=f[p],h=e.$options.props;l[d]=Je(d,h,t,e)}we(!0),e.$options.propsData=t}r=r||n;var g=e.$options._parentListeners;e.$options._parentListeners=r,wn(e,r,g),u&&(e.$slots=Nt(i,o.context),e.$forceUpdate())}function Gn(e){while(e&&(e=e.$parent))if(e._inactive)return!0;return!1}function Un(e,t){if(t){if(e._directInactive=!1,Gn(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Un(e.$children[n]);jn(e,"activated")}}function Fn(e,t){if((!t||(e._directInactive=!0,!Gn(e)))&&!e._inactive){e._inactive=!0;for(var n=0;n<e.$children.length;n++)Fn(e.$children[n]);jn(e,"deactivated")}}function jn(e,t){me();var n=e.$options[t],r=t+" hook";if(n)for(var o=0,i=n.length;o<i;o++)rt(n[o],e,null,e,r);e._hasHookEvent&&e.$emit("hook:"+t),_e()}var qn=[],Bn=[],Vn={},$n=!1,Hn=!1,Kn=0;function Wn(){Kn=qn.length=Bn.length=0,Vn={},$n=Hn=!1}var zn=0,Yn=Date.now;if(J&&!ee){var Jn=window.performance;Jn&&"function"===typeof Jn.now&&Yn()>document.createEvent("Event").timeStamp&&(Yn=function(){return Jn.now()})}function Xn(){var e,t;for(zn=Yn(),Hn=!0,qn.sort((function(e,t){return e.id-t.id})),Kn=0;Kn<qn.length;Kn++)e=qn[Kn],e.before&&e.before(),t=e.id,Vn[t]=null,e.run();var n=Bn.slice(),r=qn.slice();Wn(),er(n),Qn(r),ue&&B.devtools&&ue.emit("flush")}function Qn(e){var t=e.length;while(t--){var n=e[t],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&jn(r,"updated")}}function Zn(e){e._inactive=!1,Bn.push(e)}function er(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Un(e[t],!0)}function tr(e){var t=e.id;if(null==Vn[t]){if(Vn[t]=!0,Hn){var n=qn.length-1;while(n>Kn&&qn[n].id>e.id)n--;qn.splice(n+1,0,e)}else qn.push(e);$n||($n=!0,gt(Xn))}}var nr=0,rr=function(e,t,n,r,o){this.vm=e,o&&(e._watcher=this),e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++nr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new fe,this.newDepIds=new fe,this.expression="","function"===typeof t?this.getter=t:(this.getter=W(t),this.getter||(this.getter=k)),this.value=this.lazy?void 0:this.get()};rr.prototype.get=function(){var e;me(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(Sa){if(!this.user)throw Sa;nt(Sa,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&mt(e),_e(),this.cleanupDeps()}return e},rr.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},rr.prototype.cleanupDeps=function(){var e=this.deps.length;while(e--){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},rr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():tr(this)},rr.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||c(e)||this.deep){var t=this.value;if(this.value=e,this.user){var n='callback for watcher "'+this.expression+'"';rt(this.cb,this.vm,[e,t],this.vm,n)}else this.cb.call(this.vm,e,t)}}},rr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},rr.prototype.depend=function(){var e=this.deps.length;while(e--)this.deps[e].depend()},rr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||_(this.vm._watchers,this);var e=this.deps.length;while(e--)this.deps[e].removeSub(this);this.active=!1}};var or={enumerable:!0,configurable:!0,get:k,set:k};function ir(e,t,n){or.get=function(){return this[t][n]},or.set=function(e){this[t][n]=e},Object.defineProperty(e,n,or)}function ar(e){e._watchers=[];var t=e.$options;t.props&&sr(e,t.props),t.methods&&gr(e,t.methods),t.data?cr(e):ke(e._data={},!0),t.computed&&fr(e,t.computed),t.watch&&t.watch!==ie&&vr(e,t.watch)}function sr(e,t){var n=e.$options.propsData||{},r=e._props={},o=e.$options._propKeys=[],i=!e.$parent;i||we(!1);var a=function(i){o.push(i);var a=Je(i,t,n,e);Le(r,i,a),i in e||ir(e,"_props",i)};for(var s in t)a(s);we(!0)}function cr(e){var t=e.$options.data;t=e._data="function"===typeof t?ur(t,e):t||{},l(t)||(t={});var n=Object.keys(t),r=e.$options.props,o=(e.$options.methods,n.length);while(o--){var i=n[o];0,r&&b(r,i)||$(i)||ir(e,"_data",i)}ke(t,!0)}function ur(e,t){me();try{return e.call(t,t)}catch(Sa){return nt(Sa,t,"data()"),{}}finally{_e()}}var lr={lazy:!0};function fr(e,t){var n=e._computedWatchers=Object.create(null),r=ce();for(var o in t){var i=t[o],a="function"===typeof i?i:i.get;0,r||(n[o]=new rr(e,a||k,k,lr)),o in e||pr(e,o,i)}}function pr(e,t,n){var r=!ce();"function"===typeof n?(or.get=r?dr(t):hr(n),or.set=k):(or.get=n.get?r&&!1!==n.cache?dr(t):hr(n.get):k,or.set=n.set||k),Object.defineProperty(e,t,or)}function dr(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),ge.target&&t.depend(),t.value}}function hr(e){return function(){return e.call(this,this)}}function gr(e,t){e.$options.props;for(var n in t)e[n]="function"!==typeof t[n]?k:w(t[n],e)}function vr(e,t){for(var n in t){var r=t[n];if(Array.isArray(r))for(var o=0;o<r.length;o++)mr(e,n,r[o]);else mr(e,n,r)}}function mr(e,t,n,r){return l(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=e[n]),e.$watch(t,n,r)}function _r(e){var t={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=Pe,e.prototype.$delete=xe,e.prototype.$watch=function(e,t,n){var r=this;if(l(t))return mr(r,e,t,n);n=n||{},n.user=!0;var o=new rr(r,e,t,n);if(n.immediate){var i='callback for immediate watcher "'+o.expression+'"';me(),rt(t,r,[o.value],r,i),_e()}return function(){o.teardown()}}}var yr=0;function br(e){e.prototype._init=function(e){var t=this;t._uid=yr++,t._isVue=!0,e&&e._isComponent?Mr(t,e):t.$options=ze(Er(t.constructor),e||{},t),t._renderProxy=t,t._self=t,kn(t),Tn(t),mn(t),jn(t,"beforeCreate"),Rt(t),ar(t),wt(t),jn(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function Mr(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent,n._parentVnode=r;var o=r.componentOptions;n.propsData=o.propsData,n._parentListeners=o.listeners,n._renderChildren=o.children,n._componentTag=o.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function Er(e){var t=e.options;if(e.super){var n=Er(e.super),r=e.superOptions;if(n!==r){e.superOptions=n;var o=Ir(e);o&&D(e.extendOptions,o),t=e.options=ze(n,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function Ir(e){var t,n=e.options,r=e.sealedOptions;for(var o in n)n[o]!==r[o]&&(t||(t={}),t[o]=n[o]);return t}function Sr(e){this._init(e)}function Tr(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=R(arguments,1);return n.unshift(this),"function"===typeof e.install?e.install.apply(e,n):"function"===typeof e&&e.apply(null,n),t.push(e),this}}function Or(e){e.mixin=function(e){return this.options=ze(this.options,e),this}}function Cr(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,o=e._Ctor||(e._Ctor={});if(o[r])return o[r];var i=e.name||n.options.name;var a=function(e){this._init(e)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=t++,a.options=ze(n.options,e),a["super"]=n,a.options.props&&Ar(a),a.options.computed&&wr(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,j.forEach((function(e){a[e]=n[e]})),i&&(a.options.components[i]=a),a.superOptions=n.options,a.extendOptions=e,a.sealedOptions=D({},a.options),o[r]=a,a}}function Ar(e){var t=e.options.props;for(var n in t)ir(e.prototype,"_props",n)}function wr(e){var t=e.options.computed;for(var n in t)pr(e.prototype,n,t[n])}function Rr(e){j.forEach((function(t){e[t]=function(e,n){return n?("component"===t&&l(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"===typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}}))}function Dr(e){return e&&(e.Ctor.options.name||e.tag)}function Nr(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"===typeof e?e.split(",").indexOf(t)>-1:!!f(e)&&e.test(t)}function kr(e,t){var n=e.cache,r=e.keys,o=e._vnode;for(var i in n){var a=n[i];if(a){var s=a.name;s&&!t(s)&&Lr(n,i,r,o)}}}function Lr(e,t,n,r){var o=e[t];!o||r&&o.tag===r.tag||o.componentInstance.$destroy(),e[t]=null,_(n,t)}br(Sr),_r(Sr),Rn(Sr),Ln(Sr),bn(Sr);var Pr=[String,RegExp,Array],xr={name:"keep-alive",abstract:!0,props:{include:Pr,exclude:Pr,max:[String,Number]},methods:{cacheVNode:function(){var e=this,t=e.cache,n=e.keys,r=e.vnodeToCache,o=e.keyToCache;if(r){var i=r.tag,a=r.componentInstance,s=r.componentOptions;t[o]={name:Dr(s),tag:i,componentInstance:a},n.push(o),this.max&&n.length>parseInt(this.max)&&Lr(t,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Lr(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",(function(t){kr(e,(function(e){return Nr(t,e)}))})),this.$watch("exclude",(function(t){kr(e,(function(e){return!Nr(t,e)}))}))},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,t=Sn(e),n=t&&t.componentOptions;if(n){var r=Dr(n),o=this,i=o.include,a=o.exclude;if(i&&(!r||!Nr(i,r))||a&&r&&Nr(a,r))return t;var s=this,c=s.cache,u=s.keys,l=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;c[l]?(t.componentInstance=c[l].componentInstance,_(u,l),u.push(l)):(this.vnodeToCache=t,this.keyToCache=l),t.data.keepAlive=!0}return t||e&&e[0]}},Gr={KeepAlive:xr};function Ur(e){var t={get:function(){return B}};Object.defineProperty(e,"config",t),e.util={warn:de,extend:D,mergeOptions:ze,defineReactive:Le},e.set=Pe,e.delete=xe,e.nextTick=gt,e.observable=function(e){return ke(e),e},e.options=Object.create(null),j.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,D(e.options.components,Gr),Tr(e),Or(e),Cr(e),Rr(e)}Ur(Sr),Object.defineProperty(Sr.prototype,"$isServer",{get:ce}),Object.defineProperty(Sr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Sr,"FunctionalRenderContext",{value:Zt}),Sr.version="2.6.14";var Fr=v("style,class"),jr=v("input,textarea,option,select,progress"),qr=function(e,t,n){return"value"===n&&jr(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},Br=v("contenteditable,draggable,spellcheck"),Vr=v("events,caret,typing,plaintext-only"),$r=function(e,t){return Yr(t)||"false"===t?"false":"contenteditable"===e&&Vr(t)?t:"true"},Hr=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Kr="http://www.w3.org/1999/xlink",Wr=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},zr=function(e){return Wr(e)?e.slice(6,e.length):""},Yr=function(e){return null==e||!1===e};function Jr(e){var t=e.data,n=e,r=e;while(o(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(t=Xr(r.data,t));while(o(n=n.parent))n&&n.data&&(t=Xr(t,n.data));return Qr(t.staticClass,t.class)}function Xr(e,t){return{staticClass:Zr(e.staticClass,t.staticClass),class:o(e.class)?[e.class,t.class]:t.class}}function Qr(e,t){return o(e)||o(t)?Zr(e,eo(t)):""}function Zr(e,t){return e?t?e+" "+t:e:t||""}function eo(e){return Array.isArray(e)?to(e):c(e)?no(e):"string"===typeof e?e:""}function to(e){for(var t,n="",r=0,i=e.length;r<i;r++)o(t=eo(e[r]))&&""!==t&&(n&&(n+=" "),n+=t);return n}function no(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}var ro={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},oo=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),io=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),ao=function(e){return oo(e)||io(e)};function so(e){return io(e)?"svg":"math"===e?"math":void 0}var co=Object.create(null);function uo(e){if(!J)return!0;if(ao(e))return!1;if(e=e.toLowerCase(),null!=co[e])return co[e];var t=document.createElement(e);return e.indexOf("-")>-1?co[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:co[e]=/HTMLUnknownElement/.test(t.toString())}var lo=v("text,number,password,search,email,tel,url");function fo(e){if("string"===typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function po(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function ho(e,t){return document.createElementNS(ro[e],t)}function go(e){return document.createTextNode(e)}function vo(e){return document.createComment(e)}function mo(e,t,n){e.insertBefore(t,n)}function _o(e,t){e.removeChild(t)}function yo(e,t){e.appendChild(t)}function bo(e){return e.parentNode}function Mo(e){return e.nextSibling}function Eo(e){return e.tagName}function Io(e,t){e.textContent=t}function So(e,t){e.setAttribute(t,"")}var To=Object.freeze({createElement:po,createElementNS:ho,createTextNode:go,createComment:vo,insertBefore:mo,removeChild:_o,appendChild:yo,parentNode:bo,nextSibling:Mo,tagName:Eo,setTextContent:Io,setStyleScope:So}),Oo={create:function(e,t){Co(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Co(e,!0),Co(t))},destroy:function(e){Co(e,!0)}};function Co(e,t){var n=e.data.ref;if(o(n)){var r=e.context,i=e.componentInstance||e.elm,a=r.$refs;t?Array.isArray(a[n])?_(a[n],i):a[n]===i&&(a[n]=void 0):e.data.refInFor?Array.isArray(a[n])?a[n].indexOf(i)<0&&a[n].push(i):a[n]=[i]:a[n]=i}}var Ao=new ye("",{},[]),wo=["create","activate","update","remove","destroy"];function Ro(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&o(e.data)===o(t.data)&&Do(e,t)||i(e.isAsyncPlaceholder)&&r(t.asyncFactory.error))}function Do(e,t){if("input"!==e.tag)return!0;var n,r=o(n=e.data)&&o(n=n.attrs)&&n.type,i=o(n=t.data)&&o(n=n.attrs)&&n.type;return r===i||lo(r)&&lo(i)}function No(e,t,n){var r,i,a={};for(r=t;r<=n;++r)i=e[r].key,o(i)&&(a[i]=r);return a}function ko(e){var t,n,a={},c=e.modules,u=e.nodeOps;for(t=0;t<wo.length;++t)for(a[wo[t]]=[],n=0;n<c.length;++n)o(c[n][wo[t]])&&a[wo[t]].push(c[n][wo[t]]);function l(e){return new ye(u.tagName(e).toLowerCase(),{},[],void 0,e)}function f(e,t){function n(){0===--n.listeners&&p(e)}return n.listeners=t,n}function p(e){var t=u.parentNode(e);o(t)&&u.removeChild(t,e)}function d(e,t,n,r,a,s,c){if(o(e.elm)&&o(s)&&(e=s[c]=Ie(e)),e.isRootInsert=!a,!h(e,t,n,r)){var l=e.data,f=e.children,p=e.tag;o(p)?(e.elm=e.ns?u.createElementNS(e.ns,p):u.createElement(p,e),E(e),y(e,f,t),o(l)&&M(e,t),_(n,e.elm,r)):i(e.isComment)?(e.elm=u.createComment(e.text),_(n,e.elm,r)):(e.elm=u.createTextNode(e.text),_(n,e.elm,r))}}function h(e,t,n,r){var a=e.data;if(o(a)){var s=o(e.componentInstance)&&a.keepAlive;if(o(a=a.hook)&&o(a=a.init)&&a(e,!1),o(e.componentInstance))return g(e,t),_(n,e.elm,r),i(s)&&m(e,t,n,r),!0}}function g(e,t){o(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,b(e)?(M(e,t),E(e)):(Co(e),t.push(e))}function m(e,t,n,r){var i,s=e;while(s.componentInstance)if(s=s.componentInstance._vnode,o(i=s.data)&&o(i=i.transition)){for(i=0;i<a.activate.length;++i)a.activate[i](Ao,s);t.push(s);break}_(n,e.elm,r)}function _(e,t,n){o(e)&&(o(n)?u.parentNode(n)===e&&u.insertBefore(e,t,n):u.appendChild(e,t))}function y(e,t,n){if(Array.isArray(t)){0;for(var r=0;r<t.length;++r)d(t[r],n,e.elm,null,!0,t,r)}else s(e.text)&&u.appendChild(e.elm,u.createTextNode(String(e.text)))}function b(e){while(e.componentInstance)e=e.componentInstance._vnode;return o(e.tag)}function M(e,n){for(var r=0;r<a.create.length;++r)a.create[r](Ao,e);t=e.data.hook,o(t)&&(o(t.create)&&t.create(Ao,e),o(t.insert)&&n.push(e))}function E(e){var t;if(o(t=e.fnScopeId))u.setStyleScope(e.elm,t);else{var n=e;while(n)o(t=n.context)&&o(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t),n=n.parent}o(t=Dn)&&t!==e.context&&t!==e.fnContext&&o(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t)}function I(e,t,n,r,o,i){for(;r<=o;++r)d(n[r],i,e,t,!1,n,r)}function S(e){var t,n,r=e.data;if(o(r))for(o(t=r.hook)&&o(t=t.destroy)&&t(e),t=0;t<a.destroy.length;++t)a.destroy[t](e);if(o(t=e.children))for(n=0;n<e.children.length;++n)S(e.children[n])}function T(e,t,n){for(;t<=n;++t){var r=e[t];o(r)&&(o(r.tag)?(O(r),S(r)):p(r.elm))}}function O(e,t){if(o(t)||o(e.data)){var n,r=a.remove.length+1;for(o(t)?t.listeners+=r:t=f(e.elm,r),o(n=e.componentInstance)&&o(n=n._vnode)&&o(n.data)&&O(n,t),n=0;n<a.remove.length;++n)a.remove[n](e,t);o(n=e.data.hook)&&o(n=n.remove)?n(e,t):t()}else p(e.elm)}function C(e,t,n,i,a){var s,c,l,f,p=0,h=0,g=t.length-1,v=t[0],m=t[g],_=n.length-1,y=n[0],b=n[_],M=!a;while(p<=g&&h<=_)r(v)?v=t[++p]:r(m)?m=t[--g]:Ro(v,y)?(w(v,y,i,n,h),v=t[++p],y=n[++h]):Ro(m,b)?(w(m,b,i,n,_),m=t[--g],b=n[--_]):Ro(v,b)?(w(v,b,i,n,_),M&&u.insertBefore(e,v.elm,u.nextSibling(m.elm)),v=t[++p],b=n[--_]):Ro(m,y)?(w(m,y,i,n,h),M&&u.insertBefore(e,m.elm,v.elm),m=t[--g],y=n[++h]):(r(s)&&(s=No(t,p,g)),c=o(y.key)?s[y.key]:A(y,t,p,g),r(c)?d(y,i,e,v.elm,!1,n,h):(l=t[c],Ro(l,y)?(w(l,y,i,n,h),t[c]=void 0,M&&u.insertBefore(e,l.elm,v.elm)):d(y,i,e,v.elm,!1,n,h)),y=n[++h]);p>g?(f=r(n[_+1])?null:n[_+1].elm,I(e,f,n,h,_,i)):h>_&&T(t,p,g)}function A(e,t,n,r){for(var i=n;i<r;i++){var a=t[i];if(o(a)&&Ro(e,a))return i}}function w(e,t,n,s,c,l){if(e!==t){o(t.elm)&&o(s)&&(t=s[c]=Ie(t));var f=t.elm=e.elm;if(i(e.isAsyncPlaceholder))o(t.asyncFactory.resolved)?N(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(i(t.isStatic)&&i(e.isStatic)&&t.key===e.key&&(i(t.isCloned)||i(t.isOnce)))t.componentInstance=e.componentInstance;else{var p,d=t.data;o(d)&&o(p=d.hook)&&o(p=p.prepatch)&&p(e,t);var h=e.children,g=t.children;if(o(d)&&b(t)){for(p=0;p<a.update.length;++p)a.update[p](e,t);o(p=d.hook)&&o(p=p.update)&&p(e,t)}r(t.text)?o(h)&&o(g)?h!==g&&C(f,h,g,n,l):o(g)?(o(e.text)&&u.setTextContent(f,""),I(f,null,g,0,g.length-1,n)):o(h)?T(h,0,h.length-1):o(e.text)&&u.setTextContent(f,""):e.text!==t.text&&u.setTextContent(f,t.text),o(d)&&o(p=d.hook)&&o(p=p.postpatch)&&p(e,t)}}}function R(e,t,n){if(i(n)&&o(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}var D=v("attrs,class,staticClass,staticStyle,key");function N(e,t,n,r){var a,s=t.tag,c=t.data,u=t.children;if(r=r||c&&c.pre,t.elm=e,i(t.isComment)&&o(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(o(c)&&(o(a=c.hook)&&o(a=a.init)&&a(t,!0),o(a=t.componentInstance)))return g(t,n),!0;if(o(s)){if(o(u))if(e.hasChildNodes())if(o(a=c)&&o(a=a.domProps)&&o(a=a.innerHTML)){if(a!==e.innerHTML)return!1}else{for(var l=!0,f=e.firstChild,p=0;p<u.length;p++){if(!f||!N(f,u[p],n,r)){l=!1;break}f=f.nextSibling}if(!l||f)return!1}else y(t,u,n);if(o(c)){var d=!1;for(var h in c)if(!D(h)){d=!0,M(t,n);break}!d&&c["class"]&&mt(c["class"])}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,s){if(!r(t)){var c=!1,f=[];if(r(e))c=!0,d(t,f);else{var p=o(e.nodeType);if(!p&&Ro(e,t))w(e,t,f,null,null,s);else{if(p){if(1===e.nodeType&&e.hasAttribute(F)&&(e.removeAttribute(F),n=!0),i(n)&&N(e,t,f))return R(t,f,!0),e;e=l(e)}var h=e.elm,g=u.parentNode(h);if(d(t,f,h._leaveCb?null:g,u.nextSibling(h)),o(t.parent)){var v=t.parent,m=b(t);while(v){for(var _=0;_<a.destroy.length;++_)a.destroy[_](v);if(v.elm=t.elm,m){for(var y=0;y<a.create.length;++y)a.create[y](Ao,v);var M=v.data.hook.insert;if(M.merged)for(var E=1;E<M.fns.length;E++)M.fns[E]()}else Co(v);v=v.parent}}o(g)?T([e],0,0):o(e.tag)&&S(e)}}return R(t,f,c),t.elm}o(e)&&S(e)}}var Lo={create:Po,update:Po,destroy:function(e){Po(e,Ao)}};function Po(e,t){(e.data.directives||t.data.directives)&&xo(e,t)}function xo(e,t){var n,r,o,i=e===Ao,a=t===Ao,s=Uo(e.data.directives,e.context),c=Uo(t.data.directives,t.context),u=[],l=[];for(n in c)r=s[n],o=c[n],r?(o.oldValue=r.value,o.oldArg=r.arg,jo(o,"update",t,e),o.def&&o.def.componentUpdated&&l.push(o)):(jo(o,"bind",t,e),o.def&&o.def.inserted&&u.push(o));if(u.length){var f=function(){for(var n=0;n<u.length;n++)jo(u[n],"inserted",t,e)};i?Et(t,"insert",f):f()}if(l.length&&Et(t,"postpatch",(function(){for(var n=0;n<l.length;n++)jo(l[n],"componentUpdated",t,e)})),!i)for(n in s)c[n]||jo(s[n],"unbind",e,e,a)}var Go=Object.create(null);function Uo(e,t){var n,r,o=Object.create(null);if(!e)return o;for(n=0;n<e.length;n++)r=e[n],r.modifiers||(r.modifiers=Go),o[Fo(r)]=r,r.def=Ye(t.$options,"directives",r.name,!0);return o}function Fo(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function jo(e,t,n,r,o){var i=e.def&&e.def[t];if(i)try{i(n.elm,e,n,r,o)}catch(Sa){nt(Sa,n.context,"directive "+e.name+" "+t+" hook")}}var qo=[Oo,Lo];function Bo(e,t){var n=t.componentOptions;if((!o(n)||!1!==n.Ctor.options.inheritAttrs)&&(!r(e.data.attrs)||!r(t.data.attrs))){var i,a,s,c=t.elm,u=e.data.attrs||{},l=t.data.attrs||{};for(i in o(l.__ob__)&&(l=t.data.attrs=D({},l)),l)a=l[i],s=u[i],s!==a&&Vo(c,i,a,t.data.pre);for(i in(ee||ne)&&l.value!==u.value&&Vo(c,"value",l.value),u)r(l[i])&&(Wr(i)?c.removeAttributeNS(Kr,zr(i)):Br(i)||c.removeAttribute(i))}}function Vo(e,t,n,r){r||e.tagName.indexOf("-")>-1?$o(e,t,n):Hr(t)?Yr(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):Br(t)?e.setAttribute(t,$r(t,n)):Wr(t)?Yr(n)?e.removeAttributeNS(Kr,zr(t)):e.setAttributeNS(Kr,t,n):$o(e,t,n)}function $o(e,t,n){if(Yr(n))e.removeAttribute(t);else{if(ee&&!te&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}var Ho={create:Bo,update:Bo};function Ko(e,t){var n=t.elm,i=t.data,a=e.data;if(!(r(i.staticClass)&&r(i.class)&&(r(a)||r(a.staticClass)&&r(a.class)))){var s=Jr(t),c=n._transitionClasses;o(c)&&(s=Zr(s,eo(c))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var Wo,zo={create:Ko,update:Ko},Yo="__r",Jo="__c";function Xo(e){if(o(e[Yo])){var t=ee?"change":"input";e[t]=[].concat(e[Yo],e[t]||[]),delete e[Yo]}o(e[Jo])&&(e.change=[].concat(e[Jo],e.change||[]),delete e[Jo])}function Qo(e,t,n){var r=Wo;return function o(){var i=t.apply(null,arguments);null!==i&&ti(e,o,n,r)}}var Zo=st&&!(oe&&Number(oe[1])<=53);function ei(e,t,n,r){if(Zo){var o=zn,i=t;t=i._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=o||e.timeStamp<=0||e.target.ownerDocument!==document)return i.apply(this,arguments)}}Wo.addEventListener(e,t,ae?{capture:n,passive:r}:n)}function ti(e,t,n,r){(r||Wo).removeEventListener(e,t._wrapper||t,n)}function ni(e,t){if(!r(e.data.on)||!r(t.data.on)){var n=t.data.on||{},o=e.data.on||{};Wo=t.elm,Xo(n),Mt(n,o,ei,ti,Qo,t.context),Wo=void 0}}var ri,oi={create:ni,update:ni};function ii(e,t){if(!r(e.data.domProps)||!r(t.data.domProps)){var n,i,a=t.elm,s=e.data.domProps||{},c=t.data.domProps||{};for(n in o(c.__ob__)&&(c=t.data.domProps=D({},c)),s)n in c||(a[n]="");for(n in c){if(i=c[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),i===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=i;var u=r(i)?"":String(i);ai(a,u)&&(a.value=u)}else if("innerHTML"===n&&io(a.tagName)&&r(a.innerHTML)){ri=ri||document.createElement("div"),ri.innerHTML="<svg>"+i+"</svg>";var l=ri.firstChild;while(a.firstChild)a.removeChild(a.firstChild);while(l.firstChild)a.appendChild(l.firstChild)}else if(i!==s[n])try{a[n]=i}catch(Sa){}}}}function ai(e,t){return!e.composing&&("OPTION"===e.tagName||si(e,t)||ci(e,t))}function si(e,t){var n=!0;try{n=document.activeElement!==e}catch(Sa){}return n&&e.value!==t}function ci(e,t){var n=e.value,r=e._vModifiers;if(o(r)){if(r.number)return g(n)!==g(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}var ui={create:ii,update:ii},li=M((function(e){var t={},n=/;(?![^(]*\))/g,r=/:(.+)/;return e.split(n).forEach((function(e){if(e){var n=e.split(r);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}));function fi(e){var t=pi(e.style);return e.staticStyle?D(e.staticStyle,t):t}function pi(e){return Array.isArray(e)?N(e):"string"===typeof e?li(e):e}function di(e,t){var n,r={};if(t){var o=e;while(o.componentInstance)o=o.componentInstance._vnode,o&&o.data&&(n=fi(o.data))&&D(r,n)}(n=fi(e.data))&&D(r,n);var i=e;while(i=i.parent)i.data&&(n=fi(i.data))&&D(r,n);return r}var hi,gi=/^--/,vi=/\s*!important$/,mi=function(e,t,n){if(gi.test(t))e.style.setProperty(t,n);else if(vi.test(n))e.style.setProperty(O(t),n.replace(vi,""),"important");else{var r=yi(t);if(Array.isArray(n))for(var o=0,i=n.length;o<i;o++)e.style[r]=n[o];else e.style[r]=n}},_i=["Webkit","Moz","ms"],yi=M((function(e){if(hi=hi||document.createElement("div").style,e=I(e),"filter"!==e&&e in hi)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<_i.length;n++){var r=_i[n]+t;if(r in hi)return r}}));function bi(e,t){var n=t.data,i=e.data;if(!(r(n.staticStyle)&&r(n.style)&&r(i.staticStyle)&&r(i.style))){var a,s,c=t.elm,u=i.staticStyle,l=i.normalizedStyle||i.style||{},f=u||l,p=pi(t.data.style)||{};t.data.normalizedStyle=o(p.__ob__)?D({},p):p;var d=di(t,!0);for(s in f)r(d[s])&&mi(c,s,"");for(s in d)a=d[s],a!==f[s]&&mi(c,s,null==a?"":a)}}var Mi={create:bi,update:bi},Ei=/\s+/;function Ii(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Ei).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function Si(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Ei).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?e.setAttribute("class",n):e.removeAttribute("class")}}function Ti(e){if(e){if("object"===typeof e){var t={};return!1!==e.css&&D(t,Oi(e.name||"v")),D(t,e),t}return"string"===typeof e?Oi(e):void 0}}var Oi=M((function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}})),Ci=J&&!te,Ai="transition",wi="animation",Ri="transition",Di="transitionend",Ni="animation",ki="animationend";Ci&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Ri="WebkitTransition",Di="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Ni="WebkitAnimation",ki="webkitAnimationEnd"));var Li=J?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function Pi(e){Li((function(){Li(e)}))}function xi(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),Ii(e,t))}function Gi(e,t){e._transitionClasses&&_(e._transitionClasses,t),Si(e,t)}function Ui(e,t,n){var r=ji(e,t),o=r.type,i=r.timeout,a=r.propCount;if(!o)return n();var s=o===Ai?Di:ki,c=0,u=function(){e.removeEventListener(s,l),n()},l=function(t){t.target===e&&++c>=a&&u()};setTimeout((function(){c<a&&u()}),i+1),e.addEventListener(s,l)}var Fi=/\b(transform|all)(,|$)/;function ji(e,t){var n,r=window.getComputedStyle(e),o=(r[Ri+"Delay"]||"").split(", "),i=(r[Ri+"Duration"]||"").split(", "),a=qi(o,i),s=(r[Ni+"Delay"]||"").split(", "),c=(r[Ni+"Duration"]||"").split(", "),u=qi(s,c),l=0,f=0;t===Ai?a>0&&(n=Ai,l=a,f=i.length):t===wi?u>0&&(n=wi,l=u,f=c.length):(l=Math.max(a,u),n=l>0?a>u?Ai:wi:null,f=n?n===Ai?i.length:c.length:0);var p=n===Ai&&Fi.test(r[Ri+"Property"]);return{type:n,timeout:l,propCount:f,hasTransform:p}}function qi(e,t){while(e.length<t.length)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return Bi(t)+Bi(e[n])})))}function Bi(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Vi(e,t){var n=e.elm;o(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var i=Ti(e.data.transition);if(!r(i)&&!o(n._enterCb)&&1===n.nodeType){var a=i.css,s=i.type,u=i.enterClass,l=i.enterToClass,f=i.enterActiveClass,p=i.appearClass,d=i.appearToClass,h=i.appearActiveClass,v=i.beforeEnter,m=i.enter,_=i.afterEnter,y=i.enterCancelled,b=i.beforeAppear,M=i.appear,E=i.afterAppear,I=i.appearCancelled,S=i.duration,T=Dn,O=Dn.$vnode;while(O&&O.parent)T=O.context,O=O.parent;var C=!T._isMounted||!e.isRootInsert;if(!C||M||""===M){var A=C&&p?p:u,w=C&&h?h:f,R=C&&d?d:l,D=C&&b||v,N=C&&"function"===typeof M?M:m,k=C&&E||_,L=C&&I||y,P=g(c(S)?S.enter:S);0;var x=!1!==a&&!te,G=Ki(N),F=n._enterCb=U((function(){x&&(Gi(n,R),Gi(n,w)),F.cancelled?(x&&Gi(n,A),L&&L(n)):k&&k(n),n._enterCb=null}));e.data.show||Et(e,"insert",(function(){var t=n.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),N&&N(n,F)})),D&&D(n),x&&(xi(n,A),xi(n,w),Pi((function(){Gi(n,A),F.cancelled||(xi(n,R),G||(Hi(P)?setTimeout(F,P):Ui(n,s,F)))}))),e.data.show&&(t&&t(),N&&N(n,F)),x||G||F()}}}function $i(e,t){var n=e.elm;o(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var i=Ti(e.data.transition);if(r(i)||1!==n.nodeType)return t();if(!o(n._leaveCb)){var a=i.css,s=i.type,u=i.leaveClass,l=i.leaveToClass,f=i.leaveActiveClass,p=i.beforeLeave,d=i.leave,h=i.afterLeave,v=i.leaveCancelled,m=i.delayLeave,_=i.duration,y=!1!==a&&!te,b=Ki(d),M=g(c(_)?_.leave:_);0;var E=n._leaveCb=U((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),y&&(Gi(n,l),Gi(n,f)),E.cancelled?(y&&Gi(n,u),v&&v(n)):(t(),h&&h(n)),n._leaveCb=null}));m?m(I):I()}function I(){E.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),p&&p(n),y&&(xi(n,u),xi(n,f),Pi((function(){Gi(n,u),E.cancelled||(xi(n,l),b||(Hi(M)?setTimeout(E,M):Ui(n,s,E)))}))),d&&d(n,E),y||b||E())}}function Hi(e){return"number"===typeof e&&!isNaN(e)}function Ki(e){if(r(e))return!1;var t=e.fns;return o(t)?Ki(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Wi(e,t){!0!==t.data.show&&Vi(t)}var zi=J?{create:Wi,activate:Wi,remove:function(e,t){!0!==e.data.show?$i(e,t):t()}}:{},Yi=[Ho,zo,oi,ui,Mi,zi],Ji=Yi.concat(qo),Xi=ko({nodeOps:To,modules:Ji});te&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&ia(e,"input")}));var Qi={inserted:function(e,t,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?Et(n,"postpatch",(function(){Qi.componentUpdated(e,t,n)})):Zi(e,t,n.context),e._vOptions=[].map.call(e.options,na)):("textarea"===n.tag||lo(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",ra),e.addEventListener("compositionend",oa),e.addEventListener("change",oa),te&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Zi(e,t,n.context);var r=e._vOptions,o=e._vOptions=[].map.call(e.options,na);if(o.some((function(e,t){return!x(e,r[t])}))){var i=e.multiple?t.value.some((function(e){return ta(e,o)})):t.value!==t.oldValue&&ta(t.value,o);i&&ia(e,"change")}}}};function Zi(e,t,n){ea(e,t,n),(ee||ne)&&setTimeout((function(){ea(e,t,n)}),0)}function ea(e,t,n){var r=t.value,o=e.multiple;if(!o||Array.isArray(r)){for(var i,a,s=0,c=e.options.length;s<c;s++)if(a=e.options[s],o)i=G(r,na(a))>-1,a.selected!==i&&(a.selected=i);else if(x(na(a),r))return void(e.selectedIndex!==s&&(e.selectedIndex=s));o||(e.selectedIndex=-1)}}function ta(e,t){return t.every((function(t){return!x(t,e)}))}function na(e){return"_value"in e?e._value:e.value}function ra(e){e.target.composing=!0}function oa(e){e.target.composing&&(e.target.composing=!1,ia(e.target,"input"))}function ia(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function aa(e){return!e.componentInstance||e.data&&e.data.transition?e:aa(e.componentInstance._vnode)}var sa={bind:function(e,t,n){var r=t.value;n=aa(n);var o=n.data&&n.data.transition,i=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&o?(n.data.show=!0,Vi(n,(function(){e.style.display=i}))):e.style.display=r?i:"none"},update:function(e,t,n){var r=t.value,o=t.oldValue;if(!r!==!o){n=aa(n);var i=n.data&&n.data.transition;i?(n.data.show=!0,r?Vi(n,(function(){e.style.display=e.__vOriginalDisplay})):$i(n,(function(){e.style.display="none"}))):e.style.display=r?e.__vOriginalDisplay:"none"}},unbind:function(e,t,n,r,o){o||(e.style.display=e.__vOriginalDisplay)}},ca={model:Qi,show:sa},ua={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function la(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?la(Sn(t.children)):e}function fa(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var o=n._parentListeners;for(var i in o)t[I(i)]=o[i];return t}function pa(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function da(e){while(e=e.parent)if(e.data.transition)return!0}function ha(e,t){return t.key===e.key&&t.tag===e.tag}var ga=function(e){return e.tag||Lt(e)},va=function(e){return"show"===e.name},ma={name:"transition",props:ua,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(ga),n.length)){0;var r=this.mode;0;var o=n[0];if(da(this.$vnode))return o;var i=la(o);if(!i)return o;if(this._leaving)return pa(e,o);var a="__transition-"+this._uid+"-";i.key=null==i.key?i.isComment?a+"comment":a+i.tag:s(i.key)?0===String(i.key).indexOf(a)?i.key:a+i.key:i.key;var c=(i.data||(i.data={})).transition=fa(this),u=this._vnode,l=la(u);if(i.data.directives&&i.data.directives.some(va)&&(i.data.show=!0),l&&l.data&&!ha(i,l)&&!Lt(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var f=l.data.transition=D({},c);if("out-in"===r)return this._leaving=!0,Et(f,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),pa(e,o);if("in-out"===r){if(Lt(i))return u;var p,d=function(){p()};Et(c,"afterEnter",d),Et(c,"enterCancelled",d),Et(f,"delayLeave",(function(e){p=e}))}}return o}}},_a=D({tag:String,moveClass:String},ua);delete _a.mode;var ya={props:_a,beforeMount:function(){var e=this,t=this._update;this._update=function(n,r){var o=Nn(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,o(),t.call(e,n,r)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,o=this.$slots.default||[],i=this.children=[],a=fa(this),s=0;s<o.length;s++){var c=o[s];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))i.push(c),n[c.key]=c,(c.data||(c.data={})).transition=a;else;}if(r){for(var u=[],l=[],f=0;f<r.length;f++){var p=r[f];p.data.transition=a,p.data.pos=p.elm.getBoundingClientRect(),n[p.key]?u.push(p):l.push(p)}this.kept=e(t,null,u),this.removed=l}return e(t,null,i)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(ba),e.forEach(Ma),e.forEach(Ea),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var n=e.elm,r=n.style;xi(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(Di,n._moveCb=function e(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(Di,e),n._moveCb=null,Gi(n,t))})}})))},methods:{hasMove:function(e,t){if(!Ci)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){Si(n,e)})),Ii(n,t),n.style.display="none",this.$el.appendChild(n);var r=ji(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function ba(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Ma(e){e.data.newPos=e.elm.getBoundingClientRect()}function Ea(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,o=t.top-n.top;if(r||o){e.data.moved=!0;var i=e.elm.style;i.transform=i.WebkitTransform="translate("+r+"px,"+o+"px)",i.transitionDuration="0s"}}var Ia={Transition:ma,TransitionGroup:ya};Sr.config.mustUseProp=qr,Sr.config.isReservedTag=ao,Sr.config.isReservedAttr=Fr,Sr.config.getTagNamespace=so,Sr.config.isUnknownElement=uo,D(Sr.options.directives,ca),D(Sr.options.components,Ia),Sr.prototype.__patch__=J?Xi:k,Sr.prototype.$mount=function(e,t){return e=e&&J?fo(e):void 0,Pn(this,e,t)},J&&setTimeout((function(){B.devtools&&ue&&ue.emit("init",Sr)}),0),t["default"]=Sr}.call(this,n("c8ba"))},"2b79":function(e,t,n){(function(t,r,o){e.exports=r(n("21bf"),n("df2f"),n("5980"))})(0,(function(e){return function(){var t=e,n=t.lib,r=n.Base,o=n.WordArray,i=t.algo,a=i.MD5,s=i.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){var n,r=this.cfg,i=r.hasher.create(),a=o.create(),s=a.words,c=r.keySize,u=r.iterations;while(s.length<c){n&&i.update(n),n=i.update(e).finalize(t),i.reset();for(var l=1;l<u;l++)n=i.finalize(n),i.reset();a.concat(n)}return a.sigBytes=4*c,a}});t.EvpKDF=function(e,t,n){return s.create(n).compute(e,t)}}(),e.EvpKDF}))},"2ba4":function(e,t,n){var r=n("40d5"),o=Function.prototype,i=o.apply,a=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},"2bb5":function(e,t,n){"use strict";t.__esModule=!0;n("8122");t.default={mounted:function(){},methods:{getMigratingConfig:function(){return{props:{},events:{}}}}}},"2c3e":function(e,t,n){var r=n("83ab"),o=n("9f7f").MISSED_STICKY,i=n("c6b6"),a=n("edd0"),s=n("69f3").get,c=RegExp.prototype,u=TypeError;r&&o&&a(c,"sticky",{configurable:!0,get:function(){if(this!==c){if("RegExp"===i(this))return!!s(this).sticky;throw u("Incompatible receiver, RegExp required")}}})},"2cf4":function(e,t,n){var r,o,i,a,s=n("da84"),c=n("2ba4"),u=n("0366"),l=n("1626"),f=n("1a2d"),p=n("d039"),d=n("1be4"),h=n("f36a"),g=n("cc12"),v=n("d6d6"),m=n("1cdc"),_=n("605d"),y=s.setImmediate,b=s.clearImmediate,M=s.process,E=s.Dispatch,I=s.Function,S=s.MessageChannel,T=s.String,O=0,C={},A="onreadystatechange";try{r=s.location}catch(k){}var w=function(e){if(f(C,e)){var t=C[e];delete C[e],t()}},R=function(e){return function(){w(e)}},D=function(e){w(e.data)},N=function(e){s.postMessage(T(e),r.protocol+"//"+r.host)};y&&b||(y=function(e){v(arguments.length,1);var t=l(e)?e:I(e),n=h(arguments,1);return C[++O]=function(){c(t,void 0,n)},o(O),O},b=function(e){delete C[e]},_?o=function(e){M.nextTick(R(e))}:E&&E.now?o=function(e){E.now(R(e))}:S&&!m?(i=new S,a=i.port2,i.port1.onmessage=D,o=u(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!p(N)?(o=N,s.addEventListener("message",D,!1)):o=A in g("script")?function(e){d.appendChild(g("script"))[A]=function(){d.removeChild(this),w(e)}}:function(e){setTimeout(R(e),0)}),e.exports={set:y,clear:b}},"2d00":function(e,t,n){var r,o,i=n("da84"),a=n("342f"),s=i.process,c=i.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(r=l.split("."),o=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(o=+r[1]))),e.exports=o},"2d83":function(e,t,n){"use strict";var r=n("387f");e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},"2e67":function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"2f62":function(e,t,n){"use strict";(function(e){
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function r(e){var t=Number(e.version.split(".")[0]);if(t>=2)e.mixin({beforeCreate:r});else{var n=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[r].concat(e.init):r,n.call(this,e)}}function r(){var e=this.$options;e.store?this.$store="function"===typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}n.d(t,"b",(function(){return k}));var o="undefined"!==typeof window?window:"undefined"!==typeof e?e:{},i=o.__VUE_DEVTOOLS_GLOBAL_HOOK__;function a(e){i&&(e._devtoolHook=i,i.emit("vuex:init",e),i.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){i.emit("vuex:mutation",e,t)}),{prepend:!0}),e.subscribeAction((function(e,t){i.emit("vuex:action",e,t)}),{prepend:!0}))}function s(e,t){return e.filter(t)[0]}function c(e,t){if(void 0===t&&(t=[]),null===e||"object"!==typeof e)return e;var n=s(t,(function(t){return t.original===e}));if(n)return n.copy;var r=Array.isArray(e)?[]:{};return t.push({original:e,copy:r}),Object.keys(e).forEach((function(n){r[n]=c(e[n],t)})),r}function u(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function l(e){return null!==e&&"object"===typeof e}function f(e){return e&&"function"===typeof e.then}function p(e,t){return function(){return e(t)}}var d=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"===typeof n?n():n)||{}},h={namespaced:{configurable:!0}};h.namespaced.get=function(){return!!this._rawModule.namespaced},d.prototype.addChild=function(e,t){this._children[e]=t},d.prototype.removeChild=function(e){delete this._children[e]},d.prototype.getChild=function(e){return this._children[e]},d.prototype.hasChild=function(e){return e in this._children},d.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},d.prototype.forEachChild=function(e){u(this._children,e)},d.prototype.forEachGetter=function(e){this._rawModule.getters&&u(this._rawModule.getters,e)},d.prototype.forEachAction=function(e){this._rawModule.actions&&u(this._rawModule.actions,e)},d.prototype.forEachMutation=function(e){this._rawModule.mutations&&u(this._rawModule.mutations,e)},Object.defineProperties(d.prototype,h);var g=function(e){this.register([],e,!1)};function v(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return void 0;v(e.concat(r),t.getChild(r),n.modules[r])}}g.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},g.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")}),"")},g.prototype.update=function(e){v([],this.root,e)},g.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0);var o=new d(t,n);if(0===e.length)this.root=o;else{var i=this.get(e.slice(0,-1));i.addChild(e[e.length-1],o)}t.modules&&u(t.modules,(function(t,o){r.register(e.concat(o),t,n)}))},g.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],r=t.getChild(n);r&&r.runtime&&t.removeChild(n)},g.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var m;var _=function(e){var t=this;void 0===e&&(e={}),!m&&"undefined"!==typeof window&&window.Vue&&N(window.Vue);var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new g(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new m,this._makeLocalGettersCache=Object.create(null);var o=this,i=this,s=i.dispatch,c=i.commit;this.dispatch=function(e,t){return s.call(o,e,t)},this.commit=function(e,t,n){return c.call(o,e,t,n)},this.strict=r;var u=this._modules.root.state;I(this,u,[],this._modules.root),E(this,u),n.forEach((function(e){return e(t)}));var l=void 0!==e.devtools?e.devtools:m.config.devtools;l&&a(this)},y={state:{configurable:!0}};function b(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function M(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;I(e,n,[],e._modules.root,!0),E(e,n,t)}function E(e,t,n){var r=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var o=e._wrappedGetters,i={};u(o,(function(t,n){i[n]=p(t,e),Object.defineProperty(e.getters,n,{get:function(){return e._vm[n]},enumerable:!0})}));var a=m.config.silent;m.config.silent=!0,e._vm=new m({data:{$$state:t},computed:i}),m.config.silent=a,e.strict&&w(e),r&&(n&&e._withCommit((function(){r._data.$$state=null})),m.nextTick((function(){return r.$destroy()})))}function I(e,t,n,r,o){var i=!n.length,a=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[a],e._modulesNamespaceMap[a]=r),!i&&!o){var s=R(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit((function(){m.set(s,c,r.state)}))}var u=r.context=S(e,a,n);r.forEachMutation((function(t,n){var r=a+n;O(e,r,t,u)})),r.forEachAction((function(t,n){var r=t.root?n:a+n,o=t.handler||t;C(e,r,o,u)})),r.forEachGetter((function(t,n){var r=a+n;A(e,r,t,u)})),r.forEachChild((function(r,i){I(e,t,n.concat(i),r,o)}))}function S(e,t,n){var r=""===t,o={dispatch:r?e.dispatch:function(n,r,o){var i=D(n,r,o),a=i.payload,s=i.options,c=i.type;return s&&s.root||(c=t+c),e.dispatch(c,a)},commit:r?e.commit:function(n,r,o){var i=D(n,r,o),a=i.payload,s=i.options,c=i.type;s&&s.root||(c=t+c),e.commit(c,a,s)}};return Object.defineProperties(o,{getters:{get:r?function(){return e.getters}:function(){return T(e,t)}},state:{get:function(){return R(e.state,n)}}}),o}function T(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(o){if(o.slice(0,r)===t){var i=o.slice(r);Object.defineProperty(n,i,{get:function(){return e.getters[o]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function O(e,t,n,r){var o=e._mutations[t]||(e._mutations[t]=[]);o.push((function(t){n.call(e,r.state,t)}))}function C(e,t,n,r){var o=e._actions[t]||(e._actions[t]=[]);o.push((function(t){var o=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return f(o)||(o=Promise.resolve(o)),e._devtoolHook?o.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):o}))}function A(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)})}function w(e){e._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function R(e,t){return t.reduce((function(e,t){return e[t]}),e)}function D(e,t,n){return l(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}function N(e){m&&e===m||(m=e,r(m))}y.state.get=function(){return this._vm._data.$$state},y.state.set=function(e){0},_.prototype.commit=function(e,t,n){var r=this,o=D(e,t,n),i=o.type,a=o.payload,s=(o.options,{type:i,payload:a}),c=this._mutations[i];c&&(this._withCommit((function(){c.forEach((function(e){e(a)}))})),this._subscribers.slice().forEach((function(e){return e(s,r.state)})))},_.prototype.dispatch=function(e,t){var n=this,r=D(e,t),o=r.type,i=r.payload,a={type:o,payload:i},s=this._actions[o];if(s){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(a,n.state)}))}catch(u){0}var c=s.length>1?Promise.all(s.map((function(e){return e(i)}))):s[0](i);return new Promise((function(e,t){c.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(a,n.state)}))}catch(u){0}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(a,n.state,e)}))}catch(u){0}t(e)}))}))}},_.prototype.subscribe=function(e,t){return b(e,this._subscribers,t)},_.prototype.subscribeAction=function(e,t){var n="function"===typeof e?{before:e}:e;return b(n,this._actionSubscribers,t)},_.prototype.watch=function(e,t,n){var r=this;return this._watcherVM.$watch((function(){return e(r.state,r.getters)}),t,n)},_.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._vm._data.$$state=e}))},_.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),I(this,this.state,e,this._modules.get(e),n.preserveState),E(this,this.state)},_.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var n=R(t.state,e.slice(0,-1));m.delete(n,e[e.length-1])})),M(this)},_.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),this._modules.isRegistered(e)},_.prototype.hotUpdate=function(e){this._modules.update(e),M(this,!0)},_.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(_.prototype,y);var k=j((function(e,t){var n={};return U(t).forEach((function(t){var r=t.key,o=t.val;n[r]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var r=q(this.$store,"mapState",e);if(!r)return;t=r.context.state,n=r.context.getters}return"function"===typeof o?o.call(this,t,n):t[o]},n[r].vuex=!0})),n})),L=j((function(e,t){var n={};return U(t).forEach((function(t){var r=t.key,o=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.commit;if(e){var i=q(this.$store,"mapMutations",e);if(!i)return;r=i.context.commit}return"function"===typeof o?o.apply(this,[r].concat(t)):r.apply(this.$store,[o].concat(t))}})),n})),P=j((function(e,t){var n={};return U(t).forEach((function(t){var r=t.key,o=t.val;o=e+o,n[r]=function(){if(!e||q(this.$store,"mapGetters",e))return this.$store.getters[o]},n[r].vuex=!0})),n})),x=j((function(e,t){var n={};return U(t).forEach((function(t){var r=t.key,o=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.dispatch;if(e){var i=q(this.$store,"mapActions",e);if(!i)return;r=i.context.dispatch}return"function"===typeof o?o.apply(this,[r].concat(t)):r.apply(this.$store,[o].concat(t))}})),n})),G=function(e){return{mapState:k.bind(null,e),mapGetters:P.bind(null,e),mapMutations:L.bind(null,e),mapActions:x.bind(null,e)}};function U(e){return F(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function F(e){return Array.isArray(e)||l(e)}function j(e){return function(t,n){return"string"!==typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function q(e,t,n){var r=e._modulesNamespaceMap[n];return r}function B(e){void 0===e&&(e={});var t=e.collapsed;void 0===t&&(t=!0);var n=e.filter;void 0===n&&(n=function(e,t,n){return!0});var r=e.transformer;void 0===r&&(r=function(e){return e});var o=e.mutationTransformer;void 0===o&&(o=function(e){return e});var i=e.actionFilter;void 0===i&&(i=function(e,t){return!0});var a=e.actionTransformer;void 0===a&&(a=function(e){return e});var s=e.logMutations;void 0===s&&(s=!0);var u=e.logActions;void 0===u&&(u=!0);var l=e.logger;return void 0===l&&(l=console),function(e){var f=c(e.state);"undefined"!==typeof l&&(s&&e.subscribe((function(e,i){var a=c(i);if(n(e,f,a)){var s=H(),u=o(e),p="mutation "+e.type+s;V(l,p,t),l.log("%c prev state","color: #9E9E9E; font-weight: bold",r(f)),l.log("%c mutation","color: #03A9F4; font-weight: bold",u),l.log("%c next state","color: #4CAF50; font-weight: bold",r(a)),$(l)}f=a})),u&&e.subscribeAction((function(e,n){if(i(e,n)){var r=H(),o=a(e),s="action "+e.type+r;V(l,s,t),l.log("%c action","color: #03A9F4; font-weight: bold",o),$(l)}})))}}function V(e,t,n){var r=n?e.groupCollapsed:e.group;try{r.call(e,t)}catch(o){e.log(t)}}function $(e){try{e.groupEnd()}catch(t){e.log("—— log end ——")}}function H(){var e=new Date;return" @ "+W(e.getHours(),2)+":"+W(e.getMinutes(),2)+":"+W(e.getSeconds(),2)+"."+W(e.getMilliseconds(),3)}function K(e,t){return new Array(t+1).join(e)}function W(e,t){return K("0",t-e.toString().length)+e}var z={Store:_,install:N,version:"3.6.2",mapState:k,mapMutations:L,mapGetters:P,mapActions:x,createNamespacedHelpers:G,createLogger:B};t["a"]=z}).call(this,n("c8ba"))},"2f74":function(e,t,n){"use strict";function r(){return!1}t["a"]=r},"2f9a":function(e,t){e.exports=function(){}},"301c":function(e,t,n){n("e198")("asyncIterator")},"30b5":function(e,t,n){"use strict";var r=n("c532");function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},3280:function(e,t,n){"use strict";var r=n("ebb5"),o=n("2ba4"),i=n("e58c"),a=r.aTypedArray,s=r.exportTypedArrayMethod;s("lastIndexOf",(function(e){var t=arguments.length;return o(i,a(this),t>1?[e,arguments[1]]:[e])}))},3397:function(e,t,n){var r=n("7a41");e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},3410:function(e,t,n){var r=n("23e7"),o=n("d039"),i=n("7b0b"),a=n("e163"),s=n("e177"),c=o((function(){a(1)}));r({target:"Object",stat:!0,forced:c,sham:!s},{getPrototypeOf:function(e){return a(i(e))}})},"342f":function(e,t,n){var r=n("d066");e.exports=r("navigator","userAgent")||""},3511:function(e,t){var n=TypeError,r=9007199254740991;e.exports=function(e){if(e>r)throw n("Maximum allowed index exceeded");return e}},3529:function(e,t,n){"use strict";var r=n("23e7"),o=n("c65b"),i=n("59ed"),a=n("f069"),s=n("e667"),c=n("2266"),u=n("5eed");r({target:"Promise",stat:!0,forced:u},{race:function(e){var t=this,n=a.f(t),r=n.reject,u=s((function(){var a=i(t.resolve);c(e,(function(e){o(a,t,e).then(n.resolve,r)}))}));return u.error&&r(u.value),n.promise}})},"35a1":function(e,t,n){var r=n("f5df"),o=n("dc4a"),i=n("3f8c"),a=n("b622"),s=a("iterator");e.exports=function(e){if(void 0!=e)return o(e,s)||o(e,"@@iterator")||i[r(e)]}},3787:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=69)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):o&&(c=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},3:function(e,t){e.exports=n("8122")},4:function(e,t){e.exports=n("d010")},48:function(e,t){e.exports=n("a15e")},69:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-form-item",class:[{"el-form-item--feedback":e.elForm&&e.elForm.statusIcon,"is-error":"error"===e.validateState,"is-validating":"validating"===e.validateState,"is-success":"success"===e.validateState,"is-required":e.isRequired||e.required,"is-no-asterisk":e.elForm&&e.elForm.hideRequiredAsterisk},e.sizeClass?"el-form-item--"+e.sizeClass:""]},[n("label-wrap",{attrs:{"is-auto-width":e.labelStyle&&"auto"===e.labelStyle.width,"update-all":"auto"===e.form.labelWidth}},[e.label||e.$slots.label?n("label",{staticClass:"el-form-item__label",style:e.labelStyle,attrs:{for:e.labelFor}},[e._t("label",[e._v(e._s(e.label+e.form.labelSuffix))])],2):e._e()]),n("div",{staticClass:"el-form-item__content",style:e.contentStyle},[e._t("default"),n("transition",{attrs:{name:"el-zoom-in-top"}},["error"===e.validateState&&e.showMessage&&e.form.showMessage?e._t("error",[n("div",{staticClass:"el-form-item__error",class:{"el-form-item__error--inline":"boolean"===typeof e.inlineMessage?e.inlineMessage:e.elForm&&e.elForm.inlineMessage||!1}},[e._v("\n          "+e._s(e.validateMessage)+"\n        ")])],{error:e.validateMessage}):e._e()],2)],2)],1)},o=[];r._withStripped=!0;var i,a,s=n(48),c=n.n(s),u=n(4),l=n.n(u),f=n(9),p=n.n(f),d=n(3),h={props:{isAutoWidth:Boolean,updateAll:Boolean},inject:["elForm","elFormItem"],render:function(){var e=arguments[0],t=this.$slots.default;if(!t)return null;if(this.isAutoWidth){var n=this.elForm.autoLabelWidth,r={};if(n&&"auto"!==n){var o=parseInt(n,10)-this.computedWidth;o&&(r.marginLeft=o+"px")}return e("div",{class:"el-form-item__label-wrap",style:r},[t])}return t[0]},methods:{getLabelWidth:function(){if(this.$el&&this.$el.firstElementChild){var e=window.getComputedStyle(this.$el.firstElementChild).width;return Math.ceil(parseFloat(e))}return 0},updateLabelWidth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"update";this.$slots.default&&this.isAutoWidth&&this.$el.firstElementChild&&("update"===e?this.computedWidth=this.getLabelWidth():"remove"===e&&this.elForm.deregisterLabelWidth(this.computedWidth))}},watch:{computedWidth:function(e,t){this.updateAll&&(this.elForm.registerLabelWidth(e,t),this.elFormItem.updateComputedLabelWidth(e))}},data:function(){return{computedWidth:0}},mounted:function(){this.updateLabelWidth("update")},updated:function(){this.updateLabelWidth("update")},beforeDestroy:function(){this.updateLabelWidth("remove")}},g=h,v=n(0),m=Object(v["a"])(g,i,a,!1,null,null,null);m.options.__file="packages/form/src/label-wrap.vue";var _=m.exports,y={name:"ElFormItem",componentName:"ElFormItem",mixins:[l.a],provide:function(){return{elFormItem:this}},inject:["elForm"],props:{label:String,labelWidth:String,prop:String,required:{type:Boolean,default:void 0},rules:[Object,Array],error:String,validateStatus:String,for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:String},components:{LabelWrap:_},watch:{error:{immediate:!0,handler:function(e){this.validateMessage=e,this.validateState=e?"error":""}},validateStatus:function(e){this.validateState=e},rules:function(e){e&&0!==e.length||void 0!==this.required||this.clearValidate()}},computed:{labelFor:function(){return this.for||this.prop},labelStyle:function(){var e={};if("top"===this.form.labelPosition)return e;var t=this.labelWidth||this.form.labelWidth;return t&&(e.width=t),e},contentStyle:function(){var e={},t=this.label;if("top"===this.form.labelPosition||this.form.inline)return e;if(!t&&!this.labelWidth&&this.isNested)return e;var n=this.labelWidth||this.form.labelWidth;return"auto"===n?"auto"===this.labelWidth?e.marginLeft=this.computedLabelWidth:"auto"===this.form.labelWidth&&(e.marginLeft=this.elForm.autoLabelWidth):e.marginLeft=n,e},form:function(){var e=this.$parent,t=e.$options.componentName;while("ElForm"!==t)"ElFormItem"===t&&(this.isNested=!0),e=e.$parent,t=e.$options.componentName;return e},fieldValue:function(){var e=this.form.model;if(e&&this.prop){var t=this.prop;return-1!==t.indexOf(":")&&(t=t.replace(/:/,".")),Object(d["getPropByPath"])(e,t,!0).v}},isRequired:function(){var e=this.getRules(),t=!1;return e&&e.length&&e.every((function(e){return!e.required||(t=!0,!1)})),t},_formSize:function(){return this.elForm.size},elFormItemSize:function(){return this.size||this._formSize},sizeClass:function(){return this.elFormItemSize||(this.$ELEMENT||{}).size}},data:function(){return{validateState:"",validateMessage:"",validateDisabled:!1,validator:{},isNested:!1,computedLabelWidth:""}},methods:{validate:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d["noop"];this.validateDisabled=!1;var r=this.getFilteredRule(e);if((!r||0===r.length)&&void 0===this.required)return n(),!0;this.validateState="validating";var o={};r&&r.length>0&&r.forEach((function(e){delete e.trigger})),o[this.prop]=r;var i=new c.a(o),a={};a[this.prop]=this.fieldValue,i.validate(a,{firstFields:!0},(function(e,r){t.validateState=e?"error":"success",t.validateMessage=e?e[0].message:"",n(t.validateMessage,r),t.elForm&&t.elForm.$emit("validate",t.prop,!e,t.validateMessage||null)}))},clearValidate:function(){this.validateState="",this.validateMessage="",this.validateDisabled=!1},resetField:function(){var e=this;this.validateState="",this.validateMessage="";var t=this.form.model,n=this.fieldValue,r=this.prop;-1!==r.indexOf(":")&&(r=r.replace(/:/,"."));var o=Object(d["getPropByPath"])(t,r,!0);this.validateDisabled=!0,Array.isArray(n)?o.o[o.k]=[].concat(this.initialValue):o.o[o.k]=this.initialValue,this.$nextTick((function(){e.validateDisabled=!1})),this.broadcast("ElTimeSelect","fieldReset",this.initialValue)},getRules:function(){var e=this.form.rules,t=this.rules,n=void 0!==this.required?{required:!!this.required}:[],r=Object(d["getPropByPath"])(e,this.prop||"");return e=e?r.o[this.prop||""]||r.v:[],[].concat(t||e||[]).concat(n)},getFilteredRule:function(e){var t=this.getRules();return t.filter((function(t){return!t.trigger||""===e||(Array.isArray(t.trigger)?t.trigger.indexOf(e)>-1:t.trigger===e)})).map((function(e){return p()({},e)}))},onFieldBlur:function(){this.validate("blur")},onFieldChange:function(){this.validateDisabled?this.validateDisabled=!1:this.validate("change")},updateComputedLabelWidth:function(e){this.computedLabelWidth=e?e+"px":""},addValidateEvents:function(){var e=this.getRules();(e.length||void 0!==this.required)&&(this.$on("el.form.blur",this.onFieldBlur),this.$on("el.form.change",this.onFieldChange))},removeValidateEvents:function(){this.$off()}},mounted:function(){if(this.prop){this.dispatch("ElForm","el.form.addField",[this]);var e=this.fieldValue;Array.isArray(e)&&(e=[].concat(e)),Object.defineProperty(this,"initialValue",{value:e}),this.addValidateEvents()}},beforeDestroy:function(){this.dispatch("ElForm","el.form.removeField",[this])}},b=y,M=Object(v["a"])(b,r,o,!1,null,null,null);M.options.__file="packages/form/src/form-item.vue";var E=M.exports;E.install=function(e){e.component(E.name,E)};t["default"]=E},9:function(e,t){e.exports=n("7f4d")}})},"37e8":function(e,t,n){var r=n("83ab"),o=n("aed9"),i=n("9bf2"),a=n("825a"),s=n("fc6a"),c=n("df75");t.f=r&&!o?Object.defineProperties:function(e,t){a(e);var n,r=s(t),o=c(t),u=o.length,l=0;while(u>l)i.f(e,n=o[l++],r[n]);return e}},"387f":function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},"38ba":function(e,t,n){(function(t,r,o){e.exports=r(n("21bf"),n("2b79"))})(0,(function(e){e.lib.Cipher||function(t){var n=e,r=n.lib,o=r.Base,i=r.WordArray,a=r.BufferedBlockAlgorithm,s=n.enc,c=(s.Utf8,s.Base64),u=n.algo,l=u.EvpKDF,f=r.Cipher=a.extend({cfg:o.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?I:b}return function(t){return{encrypt:function(n,r,o){return e(r).encrypt(t,n,r,o)},decrypt:function(n,r,o){return e(r).decrypt(t,n,r,o)}}}}()}),p=(r.StreamCipher=f.extend({_doFinalize:function(){var e=this._process(!0);return e},blockSize:1}),n.mode={}),d=r.BlockCipherMode=o.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=p.CBC=function(){var e=d.extend();function n(e,n,r){var o,i=this._iv;i?(o=i,this._iv=t):o=this._prevBlock;for(var a=0;a<r;a++)e[n+a]^=o[a]}return e.Encryptor=e.extend({processBlock:function(e,t){var r=this._cipher,o=r.blockSize;n.call(this,e,t,o),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+o)}}),e.Decryptor=e.extend({processBlock:function(e,t){var r=this._cipher,o=r.blockSize,i=e.slice(t,t+o);r.decryptBlock(e,t),n.call(this,e,t,o),this._prevBlock=i}}),e}(),g=n.pad={},v=g.Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,o=r<<24|r<<16|r<<8|r,a=[],s=0;s<r;s+=4)a.push(o);var c=i.create(a,r);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},m=(r.BlockCipher=f.extend({cfg:f.cfg.extend({mode:h,padding:v}),reset:function(){var e;f.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),r.CipherParams=o.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),_=n.format={},y=_.OpenSSL={stringify:function(e){var t,n=e.ciphertext,r=e.salt;return t=r?i.create([1398893684,1701076831]).concat(r).concat(n):n,t.toString(c)},parse:function(e){var t,n=c.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=i.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),m.create({ciphertext:n,salt:t})}},b=r.SerializableCipher=o.extend({cfg:o.extend({format:y}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var o=e.createEncryptor(n,r),i=o.finalize(t),a=o.cfg;return m.create({ciphertext:i,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var o=e.createDecryptor(n,r).finalize(t.ciphertext);return o},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),M=n.kdf={},E=M.OpenSSL={execute:function(e,t,n,r){r||(r=i.random(8));var o=l.create({keySize:t+n}).compute(e,r),a=i.create(o.words.slice(t),4*n);return o.sigBytes=4*t,m.create({key:o,iv:a,salt:r})}},I=r.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:E}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var o=r.kdf.execute(n,e.keySize,e.ivSize);r.iv=o.iv;var i=b.encrypt.call(this,e,t,o.key,r);return i.mixIn(o),i},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var o=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);r.iv=o.iv;var i=b.decrypt.call(this,e,t,o.key,r);return i}})}()}))},3934:function(e,t,n){"use strict";var r=n("c532");e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return function(){return!0}}()},"393a":function(e,t,n){"use strict";var r=n("e444"),o=n("512c"),i=n("ba01"),a=n("051b"),s=n("8a0d"),c=n("26dd"),u=n("92f0"),l=n("ce7a"),f=n("cc15")("iterator"),p=!([].keys&&"next"in[].keys()),d="@@iterator",h="keys",g="values",v=function(){return this};e.exports=function(e,t,n,m,_,y,b){c(n,t,m);var M,E,I,S=function(e){if(!p&&e in A)return A[e];switch(e){case h:return function(){return new n(this,e)};case g:return function(){return new n(this,e)}}return function(){return new n(this,e)}},T=t+" Iterator",O=_==g,C=!1,A=e.prototype,w=A[f]||A[d]||_&&A[_],R=w||S(_),D=_?O?S("entries"):R:void 0,N="Array"==t&&A.entries||w;if(N&&(I=l(N.call(new e)),I!==Object.prototype&&I.next&&(u(I,T,!0),r||"function"==typeof I[f]||a(I,f,v))),O&&w&&w.name!==g&&(C=!0,R=function(){return w.call(this)}),r&&!b||!p&&!C&&A[f]||a(A,f,R),s[t]=R,s[T]=v,_)if(M={values:O?R:S(g),keys:y?R:S(h),entries:D},b)for(E in M)E in A||i(A,E,M[E]);else o(o.P+o.F*(p||C),t,M);return M}},"39ad":function(e,t,n){var r=n("6ca1"),o=n("d16a"),i=n("9d11");e.exports=function(e){return function(t,n,a){var s,c=r(t),u=o(c.length),l=i(a,u);if(e&&n!=n){while(u>l)if(s=c[l++],s!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},"3a7b":function(e,t,n){"use strict";var r=n("ebb5"),o=n("b727").findIndex,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("findIndex",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},"3a9b":function(e,t,n){var r=n("e330");e.exports=r({}.isPrototypeOf)},"3bbe":function(e,t,n){var r=n("1626"),o=String,i=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw i("Can't set "+o(e)+" as a prototype")}},"3c5d":function(e,t,n){"use strict";var r=n("da84"),o=n("c65b"),i=n("ebb5"),a=n("07fa"),s=n("182d"),c=n("7b0b"),u=n("d039"),l=r.RangeError,f=r.Int8Array,p=f&&f.prototype,d=p&&p.set,h=i.aTypedArray,g=i.exportTypedArrayMethod,v=!u((function(){var e=new Uint8ClampedArray(2);return o(d,e,{length:1,0:3},1),3!==e[1]})),m=v&&i.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var e=new f(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));g("set",(function(e){h(this);var t=s(arguments.length>1?arguments[1]:void 0,1),n=c(e);if(v)return o(d,this,n,t);var r=this.length,i=a(n),u=0;if(i+t>r)throw l("Wrong length");while(u<i)this[t+u]=n[u++]}),!v||m)},"3ca3":function(e,t,n){"use strict";var r=n("6547").charAt,o=n("577e"),i=n("69f3"),a=n("7dd0"),s="String Iterator",c=i.set,u=i.getterFor(s);a(String,"String",(function(e){c(this,{type:s,string:o(e),index:0})}),(function(){var e,t=u(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=r(n,o),t.index+=e.length,{value:e,done:!1})}))},"3d87":function(e,t,n){var r=n("4930");e.exports=r&&!!Symbol["for"]&&!!Symbol.keyFor},"3f6b":function(e,t,n){e.exports={default:n("b9c7"),__esModule:!0}},"3f8c":function(e,t){e.exports={}},"3fcc":function(e,t,n){"use strict";var r=n("ebb5"),o=n("b727").map,i=n("b6b7"),a=r.aTypedArray,s=r.exportTypedArrayMethod;s("map",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(i(e))(t)}))}))},4010:function(e,t,n){"use strict";t.__esModule=!0,t.removeResizeListener=t.addResizeListener=void 0;var r=n("6dd8"),o=a(r),i=n("9619");function a(e){return e&&e.__esModule?e:{default:e}}var s="undefined"===typeof window,c=function(e){var t=e,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if(r=t.next(),r.done)break;o=r.value}var i=o,a=i.target.__resizeListeners__||[];a.length&&a.forEach((function(e){e()}))}};t.addResizeListener=function(e,t){s||(e.__resizeListeners__||(e.__resizeListeners__=[],e.__ro__=new o.default((0,i.debounce)(16,c)),e.__ro__.observe(e)),e.__resizeListeners__.push(t))},t.removeResizeListener=function(e,t){e&&e.__resizeListeners__&&(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||e.__ro__.disconnect())}},"408a":function(e,t,n){var r=n("e330");e.exports=r(1..valueOf)},"40d5":function(e,t,n){var r=n("d039");e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},"40da":function(e,t,n){"use strict";function r(){this.__data__=[],this.size=0}n.d(t,"a",(function(){return Hs}));var o=r;function i(e,t){return e===t||e!==e&&t!==t}var a=i;function s(e,t){var n=e.length;while(n--)if(a(e[n][0],t))return n;return-1}var c=s,u=Array.prototype,l=u.splice;function f(e){var t=this.__data__,n=c(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():l.call(t,n,1),--this.size,!0}var p=f;function d(e){var t=this.__data__,n=c(t,e);return n<0?void 0:t[n][1]}var h=d;function g(e){return c(this.__data__,e)>-1}var v=g;function m(e,t){var n=this.__data__,r=c(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var _=m;function y(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}y.prototype.clear=o,y.prototype["delete"]=p,y.prototype.get=h,y.prototype.has=v,y.prototype.set=_;var b=y;function M(){this.__data__=new b,this.size=0}var E=M;function I(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}var S=I;function T(e){return this.__data__.get(e)}var O=T;function C(e){return this.__data__.has(e)}var A=C,w=n("26ee"),R=w["a"].Symbol,D=R,N=Object.prototype,k=N.hasOwnProperty,L=N.toString,P=D?D.toStringTag:void 0;function x(e){var t=k.call(e,P),n=e[P];try{e[P]=void 0;var r=!0}catch(i){}var o=L.call(e);return r&&(t?e[P]=n:delete e[P]),o}var G=x,U=Object.prototype,F=U.toString;function j(e){return F.call(e)}var q=j,B="[object Null]",V="[object Undefined]",$=D?D.toStringTag:void 0;function H(e){return null==e?void 0===e?V:B:$&&$ in Object(e)?G(e):q(e)}var K=H;function W(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var z=W,Y="[object AsyncFunction]",J="[object Function]",X="[object GeneratorFunction]",Q="[object Proxy]";function Z(e){if(!z(e))return!1;var t=K(e);return t==J||t==X||t==Y||t==Q}var ee=Z,te=w["a"]["__core-js_shared__"],ne=te,re=function(){var e=/[^.]+$/.exec(ne&&ne.keys&&ne.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function oe(e){return!!re&&re in e}var ie=oe,ae=Function.prototype,se=ae.toString;function ce(e){if(null!=e){try{return se.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var ue=ce,le=/[\\^$.*+?()[\]{}|]/g,fe=/^\[object .+?Constructor\]$/,pe=Function.prototype,de=Object.prototype,he=pe.toString,ge=de.hasOwnProperty,ve=RegExp("^"+he.call(ge).replace(le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function me(e){if(!z(e)||ie(e))return!1;var t=ee(e)?ve:fe;return t.test(ue(e))}var _e=me;function ye(e,t){return null==e?void 0:e[t]}var be=ye;function Me(e,t){var n=be(e,t);return _e(n)?n:void 0}var Ee=Me,Ie=Ee(w["a"],"Map"),Se=Ie,Te=Ee(Object,"create"),Oe=Te;function Ce(){this.__data__=Oe?Oe(null):{},this.size=0}var Ae=Ce;function we(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Re=we,De="__lodash_hash_undefined__",Ne=Object.prototype,ke=Ne.hasOwnProperty;function Le(e){var t=this.__data__;if(Oe){var n=t[e];return n===De?void 0:n}return ke.call(t,e)?t[e]:void 0}var Pe=Le,xe=Object.prototype,Ge=xe.hasOwnProperty;function Ue(e){var t=this.__data__;return Oe?void 0!==t[e]:Ge.call(t,e)}var Fe=Ue,je="__lodash_hash_undefined__";function qe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Oe&&void 0===t?je:t,this}var Be=qe;function Ve(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}Ve.prototype.clear=Ae,Ve.prototype["delete"]=Re,Ve.prototype.get=Pe,Ve.prototype.has=Fe,Ve.prototype.set=Be;var $e=Ve;function He(){this.size=0,this.__data__={hash:new $e,map:new(Se||b),string:new $e}}var Ke=He;function We(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var ze=We;function Ye(e,t){var n=e.__data__;return ze(t)?n["string"==typeof t?"string":"hash"]:n.map}var Je=Ye;function Xe(e){var t=Je(this,e)["delete"](e);return this.size-=t?1:0,t}var Qe=Xe;function Ze(e){return Je(this,e).get(e)}var et=Ze;function tt(e){return Je(this,e).has(e)}var nt=tt;function rt(e,t){var n=Je(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var ot=rt;function it(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}it.prototype.clear=Ke,it.prototype["delete"]=Qe,it.prototype.get=et,it.prototype.has=nt,it.prototype.set=ot;var at=it,st=200;function ct(e,t){var n=this.__data__;if(n instanceof b){var r=n.__data__;if(!Se||r.length<st-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new at(r)}return n.set(e,t),this.size=n.size,this}var ut=ct;function lt(e){var t=this.__data__=new b(e);this.size=t.size}lt.prototype.clear=E,lt.prototype["delete"]=S,lt.prototype.get=O,lt.prototype.has=A,lt.prototype.set=ut;var ft=lt;function pt(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(!1===t(e[n],n,e))break;return e}var dt=pt,ht=function(){try{var e=Ee(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),gt=ht;function vt(e,t,n){"__proto__"==t&&gt?gt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var mt=vt,_t=Object.prototype,yt=_t.hasOwnProperty;function bt(e,t,n){var r=e[t];yt.call(e,t)&&a(r,n)&&(void 0!==n||t in e)||mt(e,t,n)}var Mt=bt;function Et(e,t,n,r){var o=!n;n||(n={});var i=-1,a=t.length;while(++i<a){var s=t[i],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),o?mt(n,s,c):Mt(n,s,c)}return n}var It=Et;function St(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}var Tt=St;function Ot(e){return null!=e&&"object"==typeof e}var Ct=Ot,At="[object Arguments]";function wt(e){return Ct(e)&&K(e)==At}var Rt=wt,Dt=Object.prototype,Nt=Dt.hasOwnProperty,kt=Dt.propertyIsEnumerable,Lt=Rt(function(){return arguments}())?Rt:function(e){return Ct(e)&&Nt.call(e,"callee")&&!kt.call(e,"callee")},Pt=Lt,xt=Array.isArray,Gt=xt,Ut=n("58e0"),Ft=9007199254740991,jt=/^(?:0|[1-9]\d*)$/;function qt(e,t){var n=typeof e;return t=null==t?Ft:t,!!t&&("number"==n||"symbol"!=n&&jt.test(e))&&e>-1&&e%1==0&&e<t}var Bt=qt,Vt=9007199254740991;function $t(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Vt}var Ht=$t,Kt="[object Arguments]",Wt="[object Array]",zt="[object Boolean]",Yt="[object Date]",Jt="[object Error]",Xt="[object Function]",Qt="[object Map]",Zt="[object Number]",en="[object Object]",tn="[object RegExp]",nn="[object Set]",rn="[object String]",on="[object WeakMap]",an="[object ArrayBuffer]",sn="[object DataView]",cn="[object Float32Array]",un="[object Float64Array]",ln="[object Int8Array]",fn="[object Int16Array]",pn="[object Int32Array]",dn="[object Uint8Array]",hn="[object Uint8ClampedArray]",gn="[object Uint16Array]",vn="[object Uint32Array]",mn={};function _n(e){return Ct(e)&&Ht(e.length)&&!!mn[K(e)]}mn[cn]=mn[un]=mn[ln]=mn[fn]=mn[pn]=mn[dn]=mn[hn]=mn[gn]=mn[vn]=!0,mn[Kt]=mn[Wt]=mn[an]=mn[zt]=mn[sn]=mn[Yt]=mn[Jt]=mn[Xt]=mn[Qt]=mn[Zt]=mn[en]=mn[tn]=mn[nn]=mn[rn]=mn[on]=!1;var yn=_n;function bn(e){return function(t){return e(t)}}var Mn=bn,En=n("c6eb"),In=En["a"]&&En["a"].isTypedArray,Sn=In?Mn(In):yn,Tn=Sn,On=Object.prototype,Cn=On.hasOwnProperty;function An(e,t){var n=Gt(e),r=!n&&Pt(e),o=!n&&!r&&Object(Ut["a"])(e),i=!n&&!r&&!o&&Tn(e),a=n||r||o||i,s=a?Tt(e.length,String):[],c=s.length;for(var u in e)!t&&!Cn.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Bt(u,c))||s.push(u);return s}var wn=An,Rn=Object.prototype;function Dn(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Rn;return e===n}var Nn=Dn;function kn(e,t){return function(n){return e(t(n))}}var Ln=kn,Pn=Ln(Object.keys,Object),xn=Pn,Gn=Object.prototype,Un=Gn.hasOwnProperty;function Fn(e){if(!Nn(e))return xn(e);var t=[];for(var n in Object(e))Un.call(e,n)&&"constructor"!=n&&t.push(n);return t}var jn=Fn;function qn(e){return null!=e&&Ht(e.length)&&!ee(e)}var Bn=qn;function Vn(e){return Bn(e)?wn(e):jn(e)}var $n=Vn;function Hn(e,t){return e&&It(t,$n(t),e)}var Kn=Hn;function Wn(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}var zn=Wn,Yn=Object.prototype,Jn=Yn.hasOwnProperty;function Xn(e){if(!z(e))return zn(e);var t=Nn(e),n=[];for(var r in e)("constructor"!=r||!t&&Jn.call(e,r))&&n.push(r);return n}var Qn=Xn;function Zn(e){return Bn(e)?wn(e,!0):Qn(e)}var er=Zn;function tr(e,t){return e&&It(t,er(t),e)}var nr=tr,rr=n("dff1");function or(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}var ir=or;function ar(e,t){var n=-1,r=null==e?0:e.length,o=0,i=[];while(++n<r){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}var sr=ar;function cr(){return[]}var ur=cr,lr=Object.prototype,fr=lr.propertyIsEnumerable,pr=Object.getOwnPropertySymbols,dr=pr?function(e){return null==e?[]:(e=Object(e),sr(pr(e),(function(t){return fr.call(e,t)})))}:ur,hr=dr;function gr(e,t){return It(e,hr(e),t)}var vr=gr;function mr(e,t){var n=-1,r=t.length,o=e.length;while(++n<r)e[o+n]=t[n];return e}var _r=mr,yr=Ln(Object.getPrototypeOf,Object),br=yr,Mr=Object.getOwnPropertySymbols,Er=Mr?function(e){var t=[];while(e)_r(t,hr(e)),e=br(e);return t}:ur,Ir=Er;function Sr(e,t){return It(e,Ir(e),t)}var Tr=Sr;function Or(e,t,n){var r=t(e);return Gt(e)?r:_r(r,n(e))}var Cr=Or;function Ar(e){return Cr(e,$n,hr)}var wr=Ar;function Rr(e){return Cr(e,er,Ir)}var Dr=Rr,Nr=Ee(w["a"],"DataView"),kr=Nr,Lr=Ee(w["a"],"Promise"),Pr=Lr,xr=Ee(w["a"],"Set"),Gr=xr,Ur=Ee(w["a"],"WeakMap"),Fr=Ur,jr="[object Map]",qr="[object Object]",Br="[object Promise]",Vr="[object Set]",$r="[object WeakMap]",Hr="[object DataView]",Kr=ue(kr),Wr=ue(Se),zr=ue(Pr),Yr=ue(Gr),Jr=ue(Fr),Xr=K;(kr&&Xr(new kr(new ArrayBuffer(1)))!=Hr||Se&&Xr(new Se)!=jr||Pr&&Xr(Pr.resolve())!=Br||Gr&&Xr(new Gr)!=Vr||Fr&&Xr(new Fr)!=$r)&&(Xr=function(e){var t=K(e),n=t==qr?e.constructor:void 0,r=n?ue(n):"";if(r)switch(r){case Kr:return Hr;case Wr:return jr;case zr:return Br;case Yr:return Vr;case Jr:return $r}return t});var Qr=Xr,Zr=Object.prototype,eo=Zr.hasOwnProperty;function to(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&eo.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var no=to,ro=w["a"].Uint8Array,oo=ro;function io(e){var t=new e.constructor(e.byteLength);return new oo(t).set(new oo(e)),t}var ao=io;function so(e,t){var n=t?ao(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var co=so,uo=/\w*$/;function lo(e){var t=new e.constructor(e.source,uo.exec(e));return t.lastIndex=e.lastIndex,t}var fo=lo,po=D?D.prototype:void 0,ho=po?po.valueOf:void 0;function go(e){return ho?Object(ho.call(e)):{}}var vo=go;function mo(e,t){var n=t?ao(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var _o=mo,yo="[object Boolean]",bo="[object Date]",Mo="[object Map]",Eo="[object Number]",Io="[object RegExp]",So="[object Set]",To="[object String]",Oo="[object Symbol]",Co="[object ArrayBuffer]",Ao="[object DataView]",wo="[object Float32Array]",Ro="[object Float64Array]",Do="[object Int8Array]",No="[object Int16Array]",ko="[object Int32Array]",Lo="[object Uint8Array]",Po="[object Uint8ClampedArray]",xo="[object Uint16Array]",Go="[object Uint32Array]";function Uo(e,t,n){var r=e.constructor;switch(t){case Co:return ao(e);case yo:case bo:return new r(+e);case Ao:return co(e,n);case wo:case Ro:case Do:case No:case ko:case Lo:case Po:case xo:case Go:return _o(e,n);case Mo:return new r;case Eo:case To:return new r(e);case Io:return fo(e);case So:return new r;case Oo:return vo(e)}}var Fo=Uo,jo=Object.create,qo=function(){function e(){}return function(t){if(!z(t))return{};if(jo)return jo(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Bo=qo;function Vo(e){return"function"!=typeof e.constructor||Nn(e)?{}:Bo(br(e))}var $o=Vo,Ho="[object Map]";function Ko(e){return Ct(e)&&Qr(e)==Ho}var Wo=Ko,zo=En["a"]&&En["a"].isMap,Yo=zo?Mn(zo):Wo,Jo=Yo,Xo="[object Set]";function Qo(e){return Ct(e)&&Qr(e)==Xo}var Zo=Qo,ei=En["a"]&&En["a"].isSet,ti=ei?Mn(ei):Zo,ni=ti,ri=1,oi=2,ii=4,ai="[object Arguments]",si="[object Array]",ci="[object Boolean]",ui="[object Date]",li="[object Error]",fi="[object Function]",pi="[object GeneratorFunction]",di="[object Map]",hi="[object Number]",gi="[object Object]",vi="[object RegExp]",mi="[object Set]",_i="[object String]",yi="[object Symbol]",bi="[object WeakMap]",Mi="[object ArrayBuffer]",Ei="[object DataView]",Ii="[object Float32Array]",Si="[object Float64Array]",Ti="[object Int8Array]",Oi="[object Int16Array]",Ci="[object Int32Array]",Ai="[object Uint8Array]",wi="[object Uint8ClampedArray]",Ri="[object Uint16Array]",Di="[object Uint32Array]",Ni={};function ki(e,t,n,r,o,i){var a,s=t&ri,c=t&oi,u=t&ii;if(n&&(a=o?n(e,r,o,i):n(e)),void 0!==a)return a;if(!z(e))return e;var l=Gt(e);if(l){if(a=no(e),!s)return ir(e,a)}else{var f=Qr(e),p=f==fi||f==pi;if(Object(Ut["a"])(e))return Object(rr["a"])(e,s);if(f==gi||f==ai||p&&!o){if(a=c||p?{}:$o(e),!s)return c?Tr(e,nr(a,e)):vr(e,Kn(a,e))}else{if(!Ni[f])return o?e:{};a=Fo(e,f,s)}}i||(i=new ft);var d=i.get(e);if(d)return d;i.set(e,a),ni(e)?e.forEach((function(r){a.add(ki(r,t,n,r,e,i))})):Jo(e)&&e.forEach((function(r,o){a.set(o,ki(r,t,n,o,e,i))}));var h=u?c?Dr:wr:c?er:$n,g=l?void 0:h(e);return dt(g||e,(function(r,o){g&&(o=r,r=e[o]),Mt(a,o,ki(r,t,n,o,e,i))})),a}Ni[ai]=Ni[si]=Ni[Mi]=Ni[Ei]=Ni[ci]=Ni[ui]=Ni[Ii]=Ni[Si]=Ni[Ti]=Ni[Oi]=Ni[Ci]=Ni[di]=Ni[hi]=Ni[gi]=Ni[vi]=Ni[mi]=Ni[_i]=Ni[yi]=Ni[Ai]=Ni[wi]=Ni[Ri]=Ni[Di]=!0,Ni[li]=Ni[fi]=Ni[bi]=!1;var Li=ki,Pi=1,xi=4;function Gi(e){return Li(e,Pi|xi)}var Ui=Gi,Fi=function(){function e(t,n){this.id=t,this.func=n,void 0===e.states[this.id]&&(e.states[this.id]=e.statusDefine.NOT)}return e.resetById=function(t){delete e.results[t],e.states[t]=e.statusDefine.NOT},e.prototype.runOnce=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new Promise((function(r,o){if(e.statusDefine.DONE===e.states[t.id])r(Ui(e.results[t.id]));else if(e.states[t.id]===e.statusDefine.IN)var i=setInterval((function(){e.states[t.id]===e.statusDefine.DONE?(clearInterval(i),r(Ui(e.results[t.id]))):e.states[t.id]===e.statusDefine.NOT&&(clearInterval(i),o("前次请求失败, 请重新发起"))}),100);else{e.states[t.id]=e.statusDefine.IN;var a=t.func.apply(t,n);a instanceof Promise?a.then((function(e){t.resolveResult(r,t.id,e)})).catch((function(n){e.states[t.id]=e.statusDefine.IN,o(n)})):t.resolveResult(r,t.id,a)}}))},e.prototype.resolveResult=function(t,n,r){e.states[n]=e.statusDefine.DONE,e.results[n]=r,t(Ui(e.results[n]))},e.statusDefine=Object.freeze({NOT:1,IN:2,DONE:3}),e.states={},e.results={},e}(),ji=function(e,t){return ji=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},ji(e,t)};function qi(e,t){function n(){this.constructor=e}ji(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Bi=function(){return Bi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Bi.apply(this,arguments)};function Vi(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r["throw"](e))}catch(t){i(t)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function $i(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}var Hi=function(){function e(){}return e.http=function(t,n){if(e.inRequest.has(t))return e.inRequest.get(t);var r=new Promise((function(r,o){n().then((function(n){e.inRequest.delete(t),r(n)})).catch((function(n){e.inRequest.delete(t),o(n)}))}));return e.inRequest.set(t,r),r},e.inRequest=new Map,e}(),Ki=n("c198"),Wi=n.n(Ki),zi=n("640f"),Yi=n.n(zi),Ji=n("f8d5"),Xi=n.n(Ji),Qi=n("1132"),Zi=n.n(Qi),ea=n("ead9"),ta=n.n(ea),na=function(){function e(){}return Object.defineProperty(e,"Instance",{get:function(){return this.instance},enumerable:!1,configurable:!0}),e.prototype.getMd5=function(e){"string"!==typeof e&&(e=JSON.stringify(e));var t,n,r,o,i,a,s,c,u,l=[],f=7,p=12,d=17,h=22,g=5,v=9,m=14,_=20,y=4,b=11,M=16,E=23,I=6,S=10,T=15,O=21;for(e=this.Utf8Encode(e),l=this.ConvertToWordArray(e),a=1732584193,s=4023233417,c=2562383102,u=271733878,t=0;t<l.length;t+=16)n=a,r=s,o=c,i=u,a=this.FF(a,s,c,u,l[t+0],f,3614090360),u=this.FF(u,a,s,c,l[t+1],p,3905402710),c=this.FF(c,u,a,s,l[t+2],d,606105819),s=this.FF(s,c,u,a,l[t+3],h,3250441966),a=this.FF(a,s,c,u,l[t+4],f,4118548399),u=this.FF(u,a,s,c,l[t+5],p,1200080426),c=this.FF(c,u,a,s,l[t+6],d,2821735955),s=this.FF(s,c,u,a,l[t+7],h,4249261313),a=this.FF(a,s,c,u,l[t+8],f,1770035416),u=this.FF(u,a,s,c,l[t+9],p,2336552879),c=this.FF(c,u,a,s,l[t+10],d,4294925233),s=this.FF(s,c,u,a,l[t+11],h,2304563134),a=this.FF(a,s,c,u,l[t+12],f,1804603682),u=this.FF(u,a,s,c,l[t+13],p,4254626195),c=this.FF(c,u,a,s,l[t+14],d,2792965006),s=this.FF(s,c,u,a,l[t+15],h,1236535329),a=this.GG(a,s,c,u,l[t+1],g,4129170786),u=this.GG(u,a,s,c,l[t+6],v,3225465664),c=this.GG(c,u,a,s,l[t+11],m,643717713),s=this.GG(s,c,u,a,l[t+0],_,3921069994),a=this.GG(a,s,c,u,l[t+5],g,3593408605),u=this.GG(u,a,s,c,l[t+10],v,38016083),c=this.GG(c,u,a,s,l[t+15],m,3634488961),s=this.GG(s,c,u,a,l[t+4],_,3889429448),a=this.GG(a,s,c,u,l[t+9],g,568446438),u=this.GG(u,a,s,c,l[t+14],v,3275163606),c=this.GG(c,u,a,s,l[t+3],m,4107603335),s=this.GG(s,c,u,a,l[t+8],_,1163531501),a=this.GG(a,s,c,u,l[t+13],g,2850285829),u=this.GG(u,a,s,c,l[t+2],v,4243563512),c=this.GG(c,u,a,s,l[t+7],m,1735328473),s=this.GG(s,c,u,a,l[t+12],_,2368359562),a=this.HH(a,s,c,u,l[t+5],y,4294588738),u=this.HH(u,a,s,c,l[t+8],b,2272392833),c=this.HH(c,u,a,s,l[t+11],M,1839030562),s=this.HH(s,c,u,a,l[t+14],E,4259657740),a=this.HH(a,s,c,u,l[t+1],y,2763975236),u=this.HH(u,a,s,c,l[t+4],b,1272893353),c=this.HH(c,u,a,s,l[t+7],M,4139469664),s=this.HH(s,c,u,a,l[t+10],E,3200236656),a=this.HH(a,s,c,u,l[t+13],y,681279174),u=this.HH(u,a,s,c,l[t+0],b,3936430074),c=this.HH(c,u,a,s,l[t+3],M,3572445317),s=this.HH(s,c,u,a,l[t+6],E,76029189),a=this.HH(a,s,c,u,l[t+9],y,3654602809),u=this.HH(u,a,s,c,l[t+12],b,3873151461),c=this.HH(c,u,a,s,l[t+15],M,530742520),s=this.HH(s,c,u,a,l[t+2],E,3299628645),a=this.II(a,s,c,u,l[t+0],I,4096336452),u=this.II(u,a,s,c,l[t+7],S,1126891415),c=this.II(c,u,a,s,l[t+14],T,2878612391),s=this.II(s,c,u,a,l[t+5],O,4237533241),a=this.II(a,s,c,u,l[t+12],I,1700485571),u=this.II(u,a,s,c,l[t+3],S,2399980690),c=this.II(c,u,a,s,l[t+10],T,4293915773),s=this.II(s,c,u,a,l[t+1],O,2240044497),a=this.II(a,s,c,u,l[t+8],I,1873313359),u=this.II(u,a,s,c,l[t+15],S,4264355552),c=this.II(c,u,a,s,l[t+6],T,2734768916),s=this.II(s,c,u,a,l[t+13],O,1309151649),a=this.II(a,s,c,u,l[t+4],I,4149444226),u=this.II(u,a,s,c,l[t+11],S,3174756917),c=this.II(c,u,a,s,l[t+2],T,718787259),s=this.II(s,c,u,a,l[t+9],O,3951481745),a=this.AddUnsigned(a,n),s=this.AddUnsigned(s,r),c=this.AddUnsigned(c,o),u=this.AddUnsigned(u,i);var C=this.WordToHex(a)+this.WordToHex(s)+this.WordToHex(c)+this.WordToHex(u);return C.toLowerCase()},e.prototype.RotateLeft=function(e,t){return e<<t|e>>>32-t},e.prototype.AddUnsigned=function(e,t){var n=2147483648&e,r=2147483648&t,o=1073741824&e,i=1073741824&t,a=(1073741823&e)+(1073741823&t);return o&i?2147483648^a^n^r:o|i?1073741824&a?3221225472^a^n^r:1073741824^a^n^r:a^n^r},e.prototype.F=function(e,t,n){return e&t|~e&n},e.prototype.G=function(e,t,n){return e&n|t&~n},e.prototype.H=function(e,t,n){return e^t^n},e.prototype.I=function(e,t,n){return t^(e|~n)},e.prototype.FF=function(e,t,n,r,o,i,a){return e=this.AddUnsigned(e,this.AddUnsigned(this.AddUnsigned(this.F(t,n,r),o),a)),this.AddUnsigned(this.RotateLeft(e,i),t)},e.prototype.GG=function(e,t,n,r,o,i,a){return e=this.AddUnsigned(e,this.AddUnsigned(this.AddUnsigned(this.G(t,n,r),o),a)),this.AddUnsigned(this.RotateLeft(e,i),t)},e.prototype.HH=function(e,t,n,r,o,i,a){return e=this.AddUnsigned(e,this.AddUnsigned(this.AddUnsigned(this.H(t,n,r),o),a)),this.AddUnsigned(this.RotateLeft(e,i),t)},e.prototype.II=function(e,t,n,r,o,i,a){return e=this.AddUnsigned(e,this.AddUnsigned(this.AddUnsigned(this.I(t,n,r),o),a)),this.AddUnsigned(this.RotateLeft(e,i),t)},e.prototype.ConvertToWordArray=function(e){var t,n=e.length,r=n+8,o=(r-r%64)/64,i=16*(o+1),a=Array(i-1),s=0,c=0;while(c<n)t=(c-c%4)/4,s=c%4*8,a[t]=a[t]|e.charCodeAt(c)<<s,c+=1;return t=(c-c%4)/4,s=c%4*8,a[t]=a[t]|128<<s,a[i-2]=n<<3,a[i-1]=n>>>29,a},e.prototype.WordToHex=function(e){var t,n,r="",o="";for(n=0;n<=3;n++)t=e>>>8*n&255,o="0".concat(t.toString(16)),r+=o.substr(o.length-2,2);return r},e.prototype.Utf8Encode=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},e.instance=new e,e}();function ra(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)}))}function oa(e){return void 0===e&&(e=16),ra().replace(/-/g,"").substring(0,e).toUpperCase()}function ia(e,t,n){var r=Yi.a.parse(e),o=Zi.a.stringify(r),i=Wi.a.decrypt(o,Xi.a.parse(t),{iv:Xi.a.parse(n),padding:ta.a}),a=i.toString(Xi.a);return a.toString()}function aa(e,t,n){var r=Xi.a.parse(e),o=Wi.a.encrypt(r,Xi.a.parse(t),{iv:Xi.a.parse(n),padding:ta.a});return o.ciphertext.toString().toUpperCase()}function sa(e){return na.Instance.getMd5(e)}function ca(){var e="client-id",t=pa.getLocal(e);return t||(t=ra(),pa.setLocal(e,t)),t}var ua=function(e){return void 0===e||null===e||""===e};function la(e){var t=new RegExp("(^| )".concat(e,"=([^;]*)(;|$)")),n=document.cookie.match(t);return n?unescape(n[2]):""}var fa=function(e){var t="web-persistence-",n=e;return e.substring(0,t.length)!==t&&(n=t+e),n},pa=function(){function e(){}return e.get=function(t,n){var r=fa(t),o=null;if(o=(null===n||void 0===n?void 0:n.getItem)?n.getItem(r):e.cache.get(r),!ua(o))try{return JSON.parse(o)}catch(i){return o}return null},e.set=function(t,n,r){var o=fa(t);(null===r||void 0===r?void 0:r.setItem)?r.setItem(o,JSON.stringify(n)):(console.warn("browser not support localStorage or sessionStorage"),e.cache.set(o,JSON.stringify(n)))},e.getSession=function(t){return e.get(t,sessionStorage)},e.getLocal=function(t){return e.get(t,localStorage)},e.setSession=function(t,n){e.set(t,n,sessionStorage)},e.setLocal=function(t,n){e.set(t,n,localStorage)},e.cache=new Map,e}(),da="time-diff",ha=function(){function e(){}return Object.defineProperty(e,"Diff",{get:function(){var e=pa.getSession(da);return e||this.diff},set:function(e){this.diff=e,pa.setSession(da,e)},enumerable:!1,configurable:!0}),e.setServerTime=function(t){var n=t;"string"===typeof t&&/^\d+$/.test(t)&&(n=Number(t)),"number"===typeof n&&n>0&&(e.isGetServerTime=!0,e.Diff=n-e.LocalTime)},Object.defineProperty(e,"LocalTime",{get:function(){return Math.round((new Date).valueOf()/1e3)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Now",{get:function(){return e.isGetServerTime?e.LocalTime+e.Diff:e.LocalTime},enumerable:!1,configurable:!0}),e.isGetServerTime=!1,e.diff=0,e}(),ga=n("6b28"),va=n("bc3a"),ma=n.n(va),_a=ma.a.create({headers:{"Trace-Id":ca()}});_a.interceptors.request.use((function(e){return e.headers["Request-Id"]=ra(),e.headers["x-persistence-code"]=la("ANDON_JWT")||la("andon_jwt"),e.headers["origin-url"]=(null===location||void 0===location?void 0:location.protocol)+(null===location||void 0===location?void 0:location.host)+(null===location||void 0===location?void 0:location.pathname),e.headers["x-persistence-ver"]="1.0.0",e}),(function(e){return Promise.reject(e)})),_a.interceptors.response.use((function(e){return e.headers.timestamp&&ha.setServerTime(e.headers.timestamp),e}),(function(e){var t,n;return(null===(n=null===(t=null===e||void 0===e?void 0:e.response)||void 0===t?void 0:t.headers)||void 0===n?void 0:n.timestamp)&&ha.setServerTime(e.response.headers.timestamp),Promise.reject(e)}));var ya=_a;function ba(e,t,n,r,o,i,a){var s={};return n&&(s["x-persistence-signature"]=n.sign),r&&(s["x-persistence-key"]=r),o&&(s["x-persistence-user"]=o),a&&(s["x-retry"]=a),new Promise((function(c,u){ya.request({headers:s,data:t,url:"".concat(i||ga.url).concat(e),method:"post"}).then((function(e){c(e)})).catch((function(s){var l,f,p,d;a||2e3!==(null===(f=null===(l=null===s||void 0===s?void 0:s.response)||void 0===l?void 0:l.data)||void 0===f?void 0:f.statusCode)?u(s):ba(e,t,n,r,o,i,null===(d=null===(p=null===s||void 0===s?void 0:s.response)||void 0===p?void 0:p.data)||void 0===d?void 0:d.requestId).then((function(e){c(e)})).catch((function(e){u(e)}))}))}))}function Ma(e){var t={};return ya.request({url:"".concat(e||ga.url,"/getpubkey"),method:"get",headers:t})}var Ea="0123456789abcdefghijklmnopqrstuvwxyz";function Ia(e){return Ea.charAt(e)}function Sa(e,t){return e&t}function Ta(e,t){return e|t}function Oa(e,t){return e^t}function Ca(e,t){return e&~t}function Aa(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function wa(e){var t=0;while(0!=e)e&=e-1,++t;return t}var Ra,Da="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Na="=";function ka(e){var t,n,r="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),r+=Da.charAt(n>>6)+Da.charAt(63&n);t+1==e.length?(n=parseInt(e.substring(t,t+1),16),r+=Da.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),r+=Da.charAt(n>>2)+Da.charAt((3&n)<<4));while((3&r.length)>0)r+=Na;return r}function La(e){var t,n="",r=0,o=0;for(t=0;t<e.length;++t){if(e.charAt(t)==Na)break;var i=Da.indexOf(e.charAt(t));i<0||(0==r?(n+=Ia(i>>2),o=3&i,r=1):1==r?(n+=Ia(o<<2|i>>4),o=15&i,r=2):2==r?(n+=Ia(o),n+=Ia(i>>2),o=3&i,r=3):(n+=Ia(o<<2|i>>4),n+=Ia(15&i),r=0))}return 1==r&&(n+=Ia(o<<2)),n}var Pa,xa={decode:function(e){var t;if(void 0===Ra){var n="0123456789ABCDEF",r=" \f\n\r\t \u2028\u2029";for(Ra={},t=0;t<16;++t)Ra[n.charAt(t)]=t;for(n=n.toLowerCase(),t=10;t<16;++t)Ra[n.charAt(t)]=t;for(t=0;t<r.length;++t)Ra[r.charAt(t)]=-1}var o=[],i=0,a=0;for(t=0;t<e.length;++t){var s=e.charAt(t);if("="==s)break;if(s=Ra[s],-1!=s){if(void 0===s)throw new Error("Illegal character at offset "+t);i|=s,++a>=2?(o[o.length]=i,i=0,a=0):i<<=4}}if(a)throw new Error("Hex encoding incomplete: 4 bits missing");return o}},Ga={decode:function(e){var t;if(void 0===Pa){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="= \f\n\r\t \u2028\u2029";for(Pa=Object.create(null),t=0;t<64;++t)Pa[n.charAt(t)]=t;for(Pa["-"]=62,Pa["_"]=63,t=0;t<r.length;++t)Pa[r.charAt(t)]=-1}var o=[],i=0,a=0;for(t=0;t<e.length;++t){var s=e.charAt(t);if("="==s)break;if(s=Pa[s],-1!=s){if(void 0===s)throw new Error("Illegal character at offset "+t);i|=s,++a>=4?(o[o.length]=i>>16,o[o.length]=i>>8&255,o[o.length]=255&i,i=0,a=0):i<<=6}}switch(a){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:o[o.length]=i>>10;break;case 3:o[o.length]=i>>16,o[o.length]=i>>8&255;break}return o},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(e){var t=Ga.re.exec(e);if(t)if(t[1])e=t[1];else{if(!t[2])throw new Error("RegExp out of sync");e=t[2]}return Ga.decode(e)}},Ua=1e13,Fa=function(){function e(e){this.buf=[+e||0]}return e.prototype.mulAdd=function(e,t){var n,r,o=this.buf,i=o.length;for(n=0;n<i;++n)r=o[n]*e+t,r<Ua?t=0:(t=0|r/Ua,r-=t*Ua),o[n]=r;t>0&&(o[n]=t)},e.prototype.sub=function(e){var t,n,r=this.buf,o=r.length;for(t=0;t<o;++t)n=r[t]-e,n<0?(n+=Ua,e=1):e=0,r[t]=n;while(0===r[r.length-1])r.pop()},e.prototype.toString=function(e){if(10!=(e||10))throw new Error("only base 10 is supported");for(var t=this.buf,n=t[t.length-1].toString(),r=t.length-2;r>=0;--r)n+=(Ua+t[r]).toString().substring(1);return n},e.prototype.valueOf=function(){for(var e=this.buf,t=0,n=e.length-1;n>=0;--n)t=t*Ua+e[n];return t},e.prototype.simplify=function(){var e=this.buf;return 1==e.length?e[0]:this},e}(),ja="…",qa=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,Ba=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function Va(e,t){return e.length>t&&(e=e.substring(0,t)+ja),e}var $a,Ha=function(){function e(t,n){this.hexDigits="0123456789ABCDEF",t instanceof e?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=n)}return e.prototype.get=function(e){if(void 0===e&&(e=this.pos++),e>=this.enc.length)throw new Error("Requesting byte offset "+e+" on a stream of length "+this.enc.length);return"string"===typeof this.enc?this.enc.charCodeAt(e):this.enc[e]},e.prototype.hexByte=function(e){return this.hexDigits.charAt(e>>4&15)+this.hexDigits.charAt(15&e)},e.prototype.hexDump=function(e,t,n){for(var r="",o=e;o<t;++o)if(r+=this.hexByte(this.get(o)),!0!==n)switch(15&o){case 7:r+="  ";break;case 15:r+="\n";break;default:r+=" "}return r},e.prototype.isASCII=function(e,t){for(var n=e;n<t;++n){var r=this.get(n);if(r<32||r>176)return!1}return!0},e.prototype.parseStringISO=function(e,t){for(var n="",r=e;r<t;++r)n+=String.fromCharCode(this.get(r));return n},e.prototype.parseStringUTF=function(e,t){for(var n="",r=e;r<t;){var o=this.get(r++);n+=o<128?String.fromCharCode(o):o>191&&o<224?String.fromCharCode((31&o)<<6|63&this.get(r++)):String.fromCharCode((15&o)<<12|(63&this.get(r++))<<6|63&this.get(r++))}return n},e.prototype.parseStringBMP=function(e,t){for(var n,r,o="",i=e;i<t;)n=this.get(i++),r=this.get(i++),o+=String.fromCharCode(n<<8|r);return o},e.prototype.parseTime=function(e,t,n){var r=this.parseStringISO(e,t),o=(n?qa:Ba).exec(r);return o?(n&&(o[1]=+o[1],o[1]+=+o[1]<70?2e3:1900),r=o[1]+"-"+o[2]+"-"+o[3]+" "+o[4],o[5]&&(r+=":"+o[5],o[6]&&(r+=":"+o[6],o[7]&&(r+="."+o[7]))),o[8]&&(r+=" UTC","Z"!=o[8]&&(r+=o[8],o[9]&&(r+=":"+o[9]))),r):"Unrecognized time: "+r},e.prototype.parseInteger=function(e,t){var n,r=this.get(e),o=r>127,i=o?255:0,a="";while(r==i&&++e<t)r=this.get(e);if(n=t-e,0===n)return o?-1:0;if(n>4){a=r,n<<=3;while(0==(128&(+a^i)))a=+a<<1,--n;a="("+n+" bit)\n"}o&&(r-=256);for(var s=new Fa(r),c=e+1;c<t;++c)s.mulAdd(256,this.get(c));return a+s.toString()},e.prototype.parseBitString=function(e,t,n){for(var r=this.get(e),o=(t-e-1<<3)-r,i="("+o+" bit)\n",a="",s=e+1;s<t;++s){for(var c=this.get(s),u=s==t-1?r:0,l=7;l>=u;--l)a+=c>>l&1?"1":"0";if(a.length>n)return i+Va(a,n)}return i+a},e.prototype.parseOctetString=function(e,t,n){if(this.isASCII(e,t))return Va(this.parseStringISO(e,t),n);var r=t-e,o="("+r+" byte)\n";n/=2,r>n&&(t=e+n);for(var i=e;i<t;++i)o+=this.hexByte(this.get(i));return r>n&&(o+=ja),o},e.prototype.parseOID=function(e,t,n){for(var r="",o=new Fa,i=0,a=e;a<t;++a){var s=this.get(a);if(o.mulAdd(128,127&s),i+=7,!(128&s)){if(""===r)if(o=o.simplify(),o instanceof Fa)o.sub(80),r="2."+o.toString();else{var c=o<80?o<40?0:1:2;r=c+"."+(o-40*c)}else r+="."+o.toString();if(r.length>n)return Va(r,n);o=new Fa,i=0}}return i>0&&(r+=".incomplete"),r},e}(),Ka=function(){function e(e,t,n,r,o){if(!(r instanceof Wa))throw new Error("Invalid tag value.");this.stream=e,this.header=t,this.length=n,this.tag=r,this.sub=o}return e.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},e.prototype.content=function(e){if(void 0===this.tag)return null;void 0===e&&(e=1/0);var t=this.posContent(),n=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(t,t+n,e);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(t)?"false":"true";case 2:return this.stream.parseInteger(t,t+n);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(t,t+n,e);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(t,t+n,e);case 6:return this.stream.parseOID(t,t+n,e);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return Va(this.stream.parseStringUTF(t,t+n),e);case 18:case 19:case 20:case 21:case 22:case 26:return Va(this.stream.parseStringISO(t,t+n),e);case 30:return Va(this.stream.parseStringBMP(t,t+n),e);case 23:case 24:return this.stream.parseTime(t,t+n,23==this.tag.tagNumber)}return null},e.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},e.prototype.toPrettyString=function(e){void 0===e&&(e="");var t=e+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(t+="+"),t+=this.length,this.tag.tagConstructed?t+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(t+=" (encapsulates)"),t+="\n",null!==this.sub){e+="  ";for(var n=0,r=this.sub.length;n<r;++n)t+=this.sub[n].toPrettyString(e)}return t},e.prototype.posStart=function(){return this.stream.pos},e.prototype.posContent=function(){return this.stream.pos+this.header},e.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},e.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},e.decodeLength=function(e){var t=e.get(),n=127&t;if(n==t)return n;if(n>6)throw new Error("Length over 48 bits not supported at position "+(e.pos-1));if(0===n)return null;t=0;for(var r=0;r<n;++r)t=256*t+e.get();return t},e.prototype.getHexStringValue=function(){var e=this.toHexString(),t=2*this.header,n=2*this.length;return e.substr(t,n)},e.decode=function(t){var n;n=t instanceof Ha?t:new Ha(t,0);var r=new Ha(n),o=new Wa(n),i=e.decodeLength(n),a=n.pos,s=a-r.pos,c=null,u=function(){var t=[];if(null!==i){var r=a+i;while(n.pos<r)t[t.length]=e.decode(n);if(n.pos!=r)throw new Error("Content size is not correct for container starting at offset "+a)}else try{for(;;){var o=e.decode(n);if(o.tag.isEOC())break;t[t.length]=o}i=a-n.pos}catch(s){throw new Error("Exception while decoding undefined length content: "+s)}return t};if(o.tagConstructed)c=u();else if(o.isUniversal()&&(3==o.tagNumber||4==o.tagNumber))try{if(3==o.tagNumber&&0!=n.get())throw new Error("BIT STRINGs with unused bits cannot encapsulate.");c=u();for(var l=0;l<c.length;++l)if(c[l].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch(f){c=null}if(null===c){if(null===i)throw new Error("We can't skip over an invalid tag with undefined length at offset "+a);n.pos=a+Math.abs(i)}return new e(r,s,i,o,c)},e}(),Wa=function(){function e(e){var t=e.get();if(this.tagClass=t>>6,this.tagConstructed=0!==(32&t),this.tagNumber=31&t,31==this.tagNumber){var n=new Fa;do{t=e.get(),n.mulAdd(128,127&t)}while(128&t);this.tagNumber=n.simplify()}}return e.prototype.isUniversal=function(){return 0===this.tagClass},e.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},e}(),za=0xdeadbeefcafe,Ya=15715070==(16777215&za),Ja=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Xa=(1<<26)/Ja[Ja.length-1],Qa=function(){function e(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}return e.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,o=!1,i="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0){s<this.DB&&(n=this[a]>>s)>0&&(o=!0,i=Ia(n));while(a>=0)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&r,s<=0&&(s+=this.DB,--a)),n>0&&(o=!0),o&&(i+=Ia(n))}return o?i:"0"},e.prototype.negate=function(){var t=rs();return e.ZERO.subTo(this,t),t},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(t=n-e.t,0!=t)return this.s<0?-t:t;while(--n>=0)if(0!=(t=this[n]-e[n]))return t;return 0},e.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+ps(this[this.t-1]^this.s&this.DM)},e.prototype.mod=function(t){var n=rs();return this.abs().divRemTo(t,null,n),this.s<0&&n.compareTo(e.ZERO)>0&&t.subTo(n,n),n},e.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new es(t):new ts(t),this.exp(e,n)},e.prototype.clone=function(){var e=rs();return this.copyTo(e),e},e.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},e.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},e.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},e.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},e.prototype.toByteArray=function(){var e=this.t,t=[];t[0]=this.s;var n,r=this.DB-e*this.DB%8,o=0;if(e-- >0){r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[o++]=n|this.s<<this.DB-r);while(e>=0)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==o&&(128&this.s)!=(128&n)&&++o,(o>0||n!=this.s)&&(t[o++]=n)}return t},e.prototype.equals=function(e){return 0==this.compareTo(e)},e.prototype.min=function(e){return this.compareTo(e)<0?this:e},e.prototype.max=function(e){return this.compareTo(e)>0?this:e},e.prototype.and=function(e){var t=rs();return this.bitwiseTo(e,Sa,t),t},e.prototype.or=function(e){var t=rs();return this.bitwiseTo(e,Ta,t),t},e.prototype.xor=function(e){var t=rs();return this.bitwiseTo(e,Oa,t),t},e.prototype.andNot=function(e){var t=rs();return this.bitwiseTo(e,Ca,t),t},e.prototype.not=function(){for(var e=rs(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},e.prototype.shiftLeft=function(e){var t=rs();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},e.prototype.shiftRight=function(e){var t=rs();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},e.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+Aa(this[e]);return this.s<0?this.t*this.DB:-1},e.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=wa(this[n]^t);return e},e.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},e.prototype.setBit=function(e){return this.changeBit(e,Ta)},e.prototype.clearBit=function(e){return this.changeBit(e,Ca)},e.prototype.flipBit=function(e){return this.changeBit(e,Oa)},e.prototype.add=function(e){var t=rs();return this.addTo(e,t),t},e.prototype.subtract=function(e){var t=rs();return this.subTo(e,t),t},e.prototype.multiply=function(e){var t=rs();return this.multiplyTo(e,t),t},e.prototype.divide=function(e){var t=rs();return this.divRemTo(e,t,null),t},e.prototype.remainder=function(e){var t=rs();return this.divRemTo(e,null,t),t},e.prototype.divideAndRemainder=function(e){var t=rs(),n=rs();return this.divRemTo(e,t,n),[t,n]},e.prototype.modPow=function(e,t){var n,r,o=e.bitLength(),i=fs(1);if(o<=0)return i;n=o<18?1:o<48?3:o<144?4:o<768?5:6,r=o<8?new es(t):t.isEven()?new ns(t):new ts(t);var a=[],s=3,c=n-1,u=(1<<n)-1;if(a[1]=r.convert(this),n>1){var l=rs();r.sqrTo(a[1],l);while(s<=u)a[s]=rs(),r.mulTo(l,a[s-2],a[s]),s+=2}var f,p,d=e.t-1,h=!0,g=rs();o=ps(e[d])-1;while(d>=0){o>=c?f=e[d]>>o-c&u:(f=(e[d]&(1<<o+1)-1)<<c-o,d>0&&(f|=e[d-1]>>this.DB+o-c)),s=n;while(0==(1&f))f>>=1,--s;if((o-=s)<0&&(o+=this.DB,--d),h)a[f].copyTo(i),h=!1;else{while(s>1)r.sqrTo(i,g),r.sqrTo(g,i),s-=2;s>0?r.sqrTo(i,g):(p=i,i=g,g=p),r.mulTo(g,a[f],i)}while(d>=0&&0==(e[d]&1<<o))r.sqrTo(i,g),p=i,i=g,g=p,--o<0&&(o=this.DB-1,--d)}return r.revert(i)},e.prototype.modInverse=function(t){var n=t.isEven();if(this.isEven()&&n||0==t.signum())return e.ZERO;var r=t.clone(),o=this.clone(),i=fs(1),a=fs(0),s=fs(0),c=fs(1);while(0!=r.signum()){while(r.isEven())r.rShiftTo(1,r),n?(i.isEven()&&a.isEven()||(i.addTo(this,i),a.subTo(t,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);while(o.isEven())o.rShiftTo(1,o),n?(s.isEven()&&c.isEven()||(s.addTo(this,s),c.subTo(t,c)),s.rShiftTo(1,s)):c.isEven()||c.subTo(t,c),c.rShiftTo(1,c);r.compareTo(o)>=0?(r.subTo(o,r),n&&i.subTo(s,i),a.subTo(c,a)):(o.subTo(r,o),n&&s.subTo(i,s),c.subTo(a,c))}return 0!=o.compareTo(e.ONE)?e.ZERO:c.compareTo(t)>=0?c.subtract(t):c.signum()<0?(c.addTo(t,c),c.signum()<0?c.add(t):c):c},e.prototype.pow=function(e){return this.exp(e,new Za)},e.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var o=t.getLowestSetBit(),i=n.getLowestSetBit();if(i<0)return t;o<i&&(i=o),i>0&&(t.rShiftTo(i,t),n.rShiftTo(i,n));while(t.signum()>0)(o=t.getLowestSetBit())>0&&t.rShiftTo(o,t),(o=n.getLowestSetBit())>0&&n.rShiftTo(o,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return i>0&&n.lShiftTo(i,n),n},e.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=Ja[Ja.length-1]){for(t=0;t<Ja.length;++t)if(n[0]==Ja[t])return!0;return!1}if(n.isEven())return!1;t=1;while(t<Ja.length){var r=Ja[t],o=t+1;while(o<Ja.length&&r<Xa)r*=Ja[o++];r=n.modInt(r);while(t<o)if(r%Ja[t++]==0)return!1}return n.millerRabin(e)},e.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},e.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},e.prototype.fromString=function(t,n){var r;if(16==n)r=4;else if(8==n)r=3;else if(256==n)r=8;else if(2==n)r=1;else if(32==n)r=5;else{if(4!=n)return void this.fromRadix(t,n);r=2}this.t=0,this.s=0;var o=t.length,i=!1,a=0;while(--o>=0){var s=8==r?255&+t[o]:ls(t,o);s<0?"-"==t.charAt(o)&&(i=!0):(i=!1,0==a?this[this.t++]=s:a+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,a+=r,a>=this.DB&&(a-=this.DB))}8==r&&0!=(128&+t[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&e.ZERO.subTo(this,this)},e.prototype.clamp=function(){var e=this.s&this.DM;while(this.t>0&&this[this.t-1]==e)--this.t},e.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},e.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},e.prototype.lShiftTo=function(e,t){for(var n=e%this.DB,r=this.DB-n,o=(1<<r)-1,i=Math.floor(e/this.DB),a=this.s<<n&this.DM,s=this.t-1;s>=0;--s)t[s+i+1]=this[s]>>r|a,a=(this[s]&o)<<n;for(s=i-1;s>=0;--s)t[s]=0;t[i]=a,t.t=this.t+i+1,t.s=this.s,t.clamp()},e.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,o=this.DB-r,i=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&i)<<o,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&i)<<o),t.t=this.t-n,t.clamp()}},e.prototype.subTo=function(e,t){var n=0,r=0,o=Math.min(e.t,this.t);while(n<o)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){r-=e.s;while(n<this.t)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{r+=this.s;while(n<e.t)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},e.prototype.multiplyTo=function(t,n){var r=this.abs(),o=t.abs(),i=r.t;n.t=i+o.t;while(--i>=0)n[i]=0;for(i=0;i<o.t;++i)n[i+r.t]=r.am(0,o[i],n,i,0,r.t);n.s=0,n.clamp(),this.s!=t.s&&e.ZERO.subTo(n,n)},e.prototype.squareTo=function(e){var t=this.abs(),n=e.t=2*t.t;while(--n>=0)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},e.prototype.divRemTo=function(t,n,r){var o=t.abs();if(!(o.t<=0)){var i=this.abs();if(i.t<o.t)return null!=n&&n.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=rs());var a=rs(),s=this.s,c=t.s,u=this.DB-ps(o[o.t-1]);u>0?(o.lShiftTo(u,a),i.lShiftTo(u,r)):(o.copyTo(a),i.copyTo(r));var l=a.t,f=a[l-1];if(0!=f){var p=f*(1<<this.F1)+(l>1?a[l-2]>>this.F2:0),d=this.FV/p,h=(1<<this.F1)/p,g=1<<this.F2,v=r.t,m=v-l,_=null==n?rs():n;a.dlShiftTo(m,_),r.compareTo(_)>=0&&(r[r.t++]=1,r.subTo(_,r)),e.ONE.dlShiftTo(l,_),_.subTo(a,a);while(a.t<l)a[a.t++]=0;while(--m>=0){var y=r[--v]==f?this.DM:Math.floor(r[v]*d+(r[v-1]+g)*h);if((r[v]+=a.am(0,y,r,m,0,l))<y){a.dlShiftTo(m,_),r.subTo(_,r);while(r[v]<--y)r.subTo(_,r)}}null!=n&&(r.drShiftTo(l,n),s!=c&&e.ZERO.subTo(n,n)),r.t=l,r.clamp(),u>0&&r.rShiftTo(u,r),s<0&&e.ZERO.subTo(r,r)}}},e.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t},e.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},e.prototype.exp=function(t,n){if(t>4294967295||t<1)return e.ONE;var r=rs(),o=rs(),i=n.convert(this),a=ps(t)-1;i.copyTo(r);while(--a>=0)if(n.sqrTo(r,o),(t&1<<a)>0)n.mulTo(o,i,r);else{var s=r;r=o,o=s}return n.revert(r)},e.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},e.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=fs(n),o=rs(),i=rs(),a="";this.divRemTo(r,o,i);while(o.signum()>0)a=(n+i.intValue()).toString(e).substr(1)+a,o.divRemTo(r,o,i);return i.intValue().toString(e)+a},e.prototype.fromRadix=function(t,n){this.fromInt(0),null==n&&(n=10);for(var r=this.chunkSize(n),o=Math.pow(n,r),i=!1,a=0,s=0,c=0;c<t.length;++c){var u=ls(t,c);u<0?"-"==t.charAt(c)&&0==this.signum()&&(i=!0):(s=n*s+u,++a>=r&&(this.dMultiply(o),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(n,a)),this.dAddOffset(s,0)),i&&e.ZERO.subTo(this,this)},e.prototype.fromNumber=function(t,n,r){if("number"==typeof n)if(t<2)this.fromInt(1);else{this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),Ta,this),this.isEven()&&this.dAddOffset(1,0);while(!this.isProbablePrime(n))this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this)}else{var o=[],i=7&t;o.length=1+(t>>3),n.nextBytes(o),i>0?o[0]&=(1<<i)-1:o[0]=0,this.fromString(o,256)}},e.prototype.bitwiseTo=function(e,t,n){var r,o,i=Math.min(e.t,this.t);for(r=0;r<i;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(o=e.s&this.DM,r=i;r<this.t;++r)n[r]=t(this[r],o);n.t=this.t}else{for(o=this.s&this.DM,r=i;r<e.t;++r)n[r]=t(o,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},e.prototype.changeBit=function(t,n){var r=e.ONE.shiftLeft(t);return this.bitwiseTo(r,n,r),r},e.prototype.addTo=function(e,t){var n=0,r=0,o=Math.min(e.t,this.t);while(n<o)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){r+=e.s;while(n<this.t)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{r+=this.s;while(n<e.t)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},e.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},e.prototype.dAddOffset=function(e,t){if(0!=e){while(this.t<=t)this[this.t++]=0;this[t]+=e;while(this[t]>=this.DV)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},e.prototype.multiplyLowerTo=function(e,t,n){var r=Math.min(this.t+e.t,t);n.s=0,n.t=r;while(r>0)n[--r]=0;for(var o=n.t-this.t;r<o;++r)n[r+this.t]=this.am(0,e[r],n,r,0,this.t);for(o=Math.min(e.t,t);r<o;++r)this.am(0,e[r],n,r,0,t-r);n.clamp()},e.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;n.s=0;while(--r>=0)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},e.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n},e.prototype.millerRabin=function(t){var n=this.subtract(e.ONE),r=n.getLowestSetBit();if(r<=0)return!1;var o=n.shiftRight(r);t=t+1>>1,t>Ja.length&&(t=Ja.length);for(var i=rs(),a=0;a<t;++a){i.fromInt(Ja[Math.floor(Math.random()*Ja.length)]);var s=i.modPow(o,this);if(0!=s.compareTo(e.ONE)&&0!=s.compareTo(n)){var c=1;while(c++<r&&0!=s.compareTo(n))if(s=s.modPowInt(2,this),0==s.compareTo(e.ONE))return!1;if(0!=s.compareTo(n))return!1}}return!0},e.prototype.square=function(){var e=rs();return this.squareTo(e),e},e.prototype.gcda=function(e,t){var n=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(n.compareTo(r)<0){var o=n;n=r,r=o}var i=n.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)t(n);else{i<a&&(a=i),a>0&&(n.rShiftTo(a,n),r.rShiftTo(a,r));var s=function(){(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),n.compareTo(r)>=0?(n.subTo(r,n),n.rShiftTo(1,n)):(r.subTo(n,r),r.rShiftTo(1,r)),n.signum()>0?setTimeout(s,0):(a>0&&r.lShiftTo(a,r),setTimeout((function(){t(r)}),0))};setTimeout(s,10)}},e.prototype.fromNumberAsync=function(t,n,r,o){if("number"==typeof n)if(t<2)this.fromInt(1);else{this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),Ta,this),this.isEven()&&this.dAddOffset(1,0);var i=this,a=function(){i.dAddOffset(2,0),i.bitLength()>t&&i.subTo(e.ONE.shiftLeft(t-1),i),i.isProbablePrime(n)?setTimeout((function(){o()}),0):setTimeout(a,0)};setTimeout(a,0)}else{var s=[],c=7&t;s.length=1+(t>>3),n.nextBytes(s),c>0?s[0]&=(1<<c)-1:s[0]=0,this.fromString(s,256)}},e}(),Za=function(){function e(){}return e.prototype.convert=function(e){return e},e.prototype.revert=function(e){return e},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},e.prototype.sqrTo=function(e,t){e.squareTo(t)},e}(),es=function(){function e(e){this.m=e}return e.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),ts=function(){function e(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return e.prototype.convert=function(e){var t=rs();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(Qa.ZERO)>0&&this.m.subTo(t,t),t},e.prototype.revert=function(e){var t=rs();return e.copyTo(t),this.reduce(t),t},e.prototype.reduce=function(e){while(e.t<=this.mt2)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;n=t+this.m.t,e[n]+=this.m.am(0,r,e,t,0,this.m.t);while(e[n]>=e.DV)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),ns=function(){function e(e){this.m=e,this.r2=rs(),this.q3=rs(),Qa.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e)}return e.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=rs();return e.copyTo(t),this.reduce(t),t},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(e.compareTo(this.r2)<0)e.dAddOffset(1,this.m.t+1);e.subTo(this.r2,e);while(e.compareTo(this.m)>=0)e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}();function rs(){return new Qa(null)}function os(e,t){return new Qa(e,t)}var is="undefined"!==typeof navigator;is&&Ya&&"Microsoft Internet Explorer"==navigator.appName?(Qa.prototype.am=function(e,t,n,r,o,i){var a=32767&t,s=t>>15;while(--i>=0){var c=32767&this[e],u=this[e++]>>15,l=s*c+u*a;c=a*c+((32767&l)<<15)+n[r]+(1073741823&o),o=(c>>>30)+(l>>>15)+s*u+(o>>>30),n[r++]=1073741823&c}return o},$a=30):is&&Ya&&"Netscape"!=navigator.appName?(Qa.prototype.am=function(e,t,n,r,o,i){while(--i>=0){var a=t*this[e++]+n[r]+o;o=Math.floor(a/67108864),n[r++]=67108863&a}return o},$a=26):(Qa.prototype.am=function(e,t,n,r,o,i){var a=16383&t,s=t>>14;while(--i>=0){var c=16383&this[e],u=this[e++]>>14,l=s*c+u*a;c=a*c+((16383&l)<<14)+n[r]+o,o=(c>>28)+(l>>14)+s*u,n[r++]=268435455&c}return o},$a=28),Qa.prototype.DB=$a,Qa.prototype.DM=(1<<$a)-1,Qa.prototype.DV=1<<$a;var as=52;Qa.prototype.FV=Math.pow(2,as),Qa.prototype.F1=as-$a,Qa.prototype.F2=2*$a-as;var ss,cs,us=[];for(ss="0".charCodeAt(0),cs=0;cs<=9;++cs)us[ss++]=cs;for(ss="a".charCodeAt(0),cs=10;cs<36;++cs)us[ss++]=cs;for(ss="A".charCodeAt(0),cs=10;cs<36;++cs)us[ss++]=cs;function ls(e,t){var n=us[e.charCodeAt(t)];return null==n?-1:n}function fs(e){var t=rs();return t.fromInt(e),t}function ps(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}Qa.ZERO=fs(0),Qa.ONE=fs(1);var ds=function(){function e(){this.i=0,this.j=0,this.S=[]}return e.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0},e.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},e}();function hs(){return new ds}var gs,vs,ms=256,_s=null;if(null==_s){_s=[],vs=0;var ys=void 0;if(window.crypto&&window.crypto.getRandomValues){var bs=new Uint32Array(256);for(window.crypto.getRandomValues(bs),ys=0;ys<bs.length;++ys)_s[vs++]=255&bs[ys]}var Ms=0,Es=function(e){if(Ms=Ms||0,Ms>=256||vs>=ms)window.removeEventListener?window.removeEventListener("mousemove",Es,!1):window.detachEvent&&window.detachEvent("onmousemove",Es);else try{var t=e.x+e.y;_s[vs++]=255&t,Ms+=1}catch(n){}};window.addEventListener?window.addEventListener("mousemove",Es,!1):window.attachEvent&&window.attachEvent("onmousemove",Es)}function Is(){if(null==gs){gs=hs();while(vs<ms){var e=Math.floor(65536*Math.random());_s[vs++]=255&e}for(gs.init(_s),vs=0;vs<_s.length;++vs)_s[vs]=0;vs=0}return gs.next()}var Ss=function(){function e(){}return e.prototype.nextBytes=function(e){for(var t=0;t<e.length;++t)e[t]=Is()},e}();function Ts(e,t){if(t<e.length+22)return console.error("Message too long for RSA"),null;for(var n=t-e.length-6,r="",o=0;o<n;o+=2)r+="ff";var i="0001"+r+"00"+e;return os(i,16)}function Os(e,t){if(t<e.length+11)return console.error("Message too long for RSA"),null;var n=[],r=e.length-1;while(r>=0&&t>0){var o=e.charCodeAt(r--);o<128?n[--t]=o:o>127&&o<2048?(n[--t]=63&o|128,n[--t]=o>>6|192):(n[--t]=63&o|128,n[--t]=o>>6&63|128,n[--t]=o>>12|224)}n[--t]=0;var i=new Ss,a=[];while(t>2){a[0]=0;while(0==a[0])i.nextBytes(a);n[--t]=a[0]}return n[--t]=2,n[--t]=0,new Qa(n)}var Cs=function(){function e(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return e.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},e.prototype.doPrivate=function(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);var t=e.mod(this.p).modPow(this.dmp1,this.p),n=e.mod(this.q).modPow(this.dmq1,this.q);while(t.compareTo(n)<0)t=t.add(this.p);return t.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},e.prototype.setPublic=function(e,t){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=os(e,16),this.e=parseInt(t,16)):console.error("Invalid RSA public key")},e.prototype.encrypt=function(e){var t=this.n.bitLength()+7>>3,n=Os(e,t);if(null==n)return null;var r=this.doPublic(n);if(null==r)return null;for(var o=r.toString(16),i=o.length,a=0;a<2*t-i;a++)o="0"+o;return o},e.prototype.setPrivate=function(e,t,n){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=os(e,16),this.e=parseInt(t,16),this.d=os(n,16)):console.error("Invalid RSA private key")},e.prototype.setPrivateEx=function(e,t,n,r,o,i,a,s){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=os(e,16),this.e=parseInt(t,16),this.d=os(n,16),this.p=os(r,16),this.q=os(o,16),this.dmp1=os(i,16),this.dmq1=os(a,16),this.coeff=os(s,16)):console.error("Invalid RSA private key")},e.prototype.generate=function(e,t){var n=new Ss,r=e>>1;this.e=parseInt(t,16);for(var o=new Qa(t,16);;){for(;;)if(this.p=new Qa(e-r,1,n),0==this.p.subtract(Qa.ONE).gcd(o).compareTo(Qa.ONE)&&this.p.isProbablePrime(10))break;for(;;)if(this.q=new Qa(r,1,n),0==this.q.subtract(Qa.ONE).gcd(o).compareTo(Qa.ONE)&&this.q.isProbablePrime(10))break;if(this.p.compareTo(this.q)<=0){var i=this.p;this.p=this.q,this.q=i}var a=this.p.subtract(Qa.ONE),s=this.q.subtract(Qa.ONE),c=a.multiply(s);if(0==c.gcd(o).compareTo(Qa.ONE)){this.n=this.p.multiply(this.q),this.d=o.modInverse(c),this.dmp1=this.d.mod(a),this.dmq1=this.d.mod(s),this.coeff=this.q.modInverse(this.p);break}}},e.prototype.decrypt=function(e){var t=os(e,16),n=this.doPrivate(t);return null==n?null:As(n,this.n.bitLength()+7>>3)},e.prototype.generateAsync=function(e,t,n){var r=new Ss,o=e>>1;this.e=parseInt(t,16);var i=new Qa(t,16),a=this,s=function(){var t=function(){if(a.p.compareTo(a.q)<=0){var e=a.p;a.p=a.q,a.q=e}var t=a.p.subtract(Qa.ONE),r=a.q.subtract(Qa.ONE),o=t.multiply(r);0==o.gcd(i).compareTo(Qa.ONE)?(a.n=a.p.multiply(a.q),a.d=i.modInverse(o),a.dmp1=a.d.mod(t),a.dmq1=a.d.mod(r),a.coeff=a.q.modInverse(a.p),setTimeout((function(){n()}),0)):setTimeout(s,0)},c=function(){a.q=rs(),a.q.fromNumberAsync(o,1,r,(function(){a.q.subtract(Qa.ONE).gcda(i,(function(e){0==e.compareTo(Qa.ONE)&&a.q.isProbablePrime(10)?setTimeout(t,0):setTimeout(c,0)}))}))},u=function(){a.p=rs(),a.p.fromNumberAsync(e-o,1,r,(function(){a.p.subtract(Qa.ONE).gcda(i,(function(e){0==e.compareTo(Qa.ONE)&&a.p.isProbablePrime(10)?setTimeout(c,0):setTimeout(u,0)}))}))};setTimeout(u,0)};setTimeout(s,0)},e.prototype.sign=function(e,t,n){var r=Rs(n),o=r+t(e).toString(),i=Ts(o,this.n.bitLength()/4);if(null==i)return null;var a=this.doPrivate(i);if(null==a)return null;var s=a.toString(16);return 0==(1&s.length)?s:"0"+s},e.prototype.verify=function(e,t,n){var r=os(t,16),o=this.doPublic(r);if(null==o)return null;var i=o.toString(16).replace(/^1f+00/,""),a=Ds(i);return a==n(e).toString()},e}();function As(e,t){var n=e.toByteArray(),r=0;while(r<n.length&&0==n[r])++r;if(n.length-r!=t-1||2!=n[r])return null;++r;while(0!=n[r])if(++r>=n.length)return null;var o="";while(++r<n.length){var i=255&n[r];i<128?o+=String.fromCharCode(i):i>191&&i<224?(o+=String.fromCharCode((31&i)<<6|63&n[r+1]),++r):(o+=String.fromCharCode((15&i)<<12|(63&n[r+1])<<6|63&n[r+2]),r+=2)}return o}var ws={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"};function Rs(e){return ws[e]||""}function Ds(e){for(var t in ws)if(ws.hasOwnProperty(t)){var n=ws[t],r=n.length;if(e.substr(0,r)==n)return e.substr(r)}return e}
/*!
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/var Ns={};Ns.lang={extend:function(e,t,n){if(!t||!e)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var r=function(){};if(r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),n){var o;for(o in n)e.prototype[o]=n[o];var i=function(){},a=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(i=function(e,t){for(o=0;o<a.length;o+=1){var n=a[o],r=t[n];"function"===typeof r&&r!=Object.prototype[n]&&(e[n]=r)}})}catch(s){}i(e.prototype,n)}}};
/**
 * @fileOverview
 * @name asn1-1.0.js
 * @author Kenji Urushima kenji.urushima@gmail.com
 * @version asn1 1.0.13 (2017-Jun-02)
 * @since jsrsasign 2.1
 * @license <a href="https://kjur.github.io/jsrsasign/license/">MIT License</a>
 */
var ks={};"undefined"!=typeof ks.asn1&&ks.asn1||(ks.asn1={}),ks.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var n=t.substr(1),r=n.length;r%2==1?r+=1:t.match(/^[0-7]/)||(r+=2);for(var o="",i=0;i<r;i++)o+="f";var a=new Qa(o,16),s=a.xor(e).add(Qa.ONE);t=s.toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return hextopem(e,t)},this.newObject=function(e){var t=ks,n=t.asn1,r=n.DERBoolean,o=n.DERInteger,i=n.DERBitString,a=n.DEROctetString,s=n.DERNull,c=n.DERObjectIdentifier,u=n.DEREnumerated,l=n.DERUTF8String,f=n.DERNumericString,p=n.DERPrintableString,d=n.DERTeletexString,h=n.DERIA5String,g=n.DERUTCTime,v=n.DERGeneralizedTime,m=n.DERSequence,_=n.DERSet,y=n.DERTaggedObject,b=n.ASN1Util.newObject,M=Object.keys(e);if(1!=M.length)throw"key of param shall be only one.";var E=M[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+E+":"))throw"undefined key: "+E;if("bool"==E)return new r(e[E]);if("int"==E)return new o(e[E]);if("bitstr"==E)return new i(e[E]);if("octstr"==E)return new a(e[E]);if("null"==E)return new s(e[E]);if("oid"==E)return new c(e[E]);if("enum"==E)return new u(e[E]);if("utf8str"==E)return new l(e[E]);if("numstr"==E)return new f(e[E]);if("prnstr"==E)return new p(e[E]);if("telstr"==E)return new d(e[E]);if("ia5str"==E)return new h(e[E]);if("utctime"==E)return new g(e[E]);if("gentime"==E)return new v(e[E]);if("seq"==E){for(var I=e[E],S=[],T=0;T<I.length;T++){var O=b(I[T]);S.push(O)}return new m({array:S})}if("set"==E){for(I=e[E],S=[],T=0;T<I.length;T++){O=b(I[T]);S.push(O)}return new _({array:S})}if("tag"==E){var C=e[E];if("[object Array]"===Object.prototype.toString.call(C)&&3==C.length){var A=b(C[2]);return new y({tag:C[0],explicit:C[1],obj:A})}var w={};if(void 0!==C.explicit&&(w.explicit=C.explicit),void 0!==C.tag&&(w.tag=C.tag),void 0===C.obj)throw"obj shall be specified for 'tag'.";return w.obj=b(C.obj),new y(w)}},this.jsonToASN1HEX=function(e){var t=this.newObject(e);return t.getEncodedHex()}},ks.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",n=parseInt(e.substr(0,2),16),r=Math.floor(n/40),o=n%40,i=(t=r+"."+o,""),a=2;a<e.length;a+=2){var s=parseInt(e.substr(a,2),16),c=("00000000"+s.toString(2)).slice(-8);if(i+=c.substr(1,7),"0"==c.substr(0,1)){var u=new Qa(i,2);t=t+"."+u.toString(10),i=""}}return t},ks.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=new Qa(e,10),o=r.toString(2),i=7-o.length%7;7==i&&(i=0);for(var a="",s=0;s<i;s++)a+="0";o=a+o;for(s=0;s<o.length-1;s+=7){var c=o.substr(s,7);s!=o.length-7&&(c="1"+c),n+=t(parseInt(c,2))}return n};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",o=e.split("."),i=40*parseInt(o[0])+parseInt(o[1]);r+=t(i),o.splice(0,2);for(var a=0;a<o.length;a++)r+=n(o[a]);return r},ks.asn1.ASN1Object=function(){var e="";this.getLengthHexFromValue=function(){if("undefined"==typeof this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+e.length+",v="+this.hV;var t=this.hV.length/2,n=t.toString(16);if(n.length%2==1&&(n="0"+n),t<128)return n;var r=n.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);var o=128+r;return o.toString(16)+n},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},ks.asn1.DERAbstractString=function(e){ks.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(this.s)},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("string"==typeof e?this.setString(e):"undefined"!=typeof e["str"]?this.setString(e["str"]):"undefined"!=typeof e["hex"]&&this.setStringHex(e["hex"]))},Ns.lang.extend(ks.asn1.DERAbstractString,ks.asn1.ASN1Object),ks.asn1.DERAbstractTime=function(e){ks.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(e){utc=e.getTime()+6e4*e.getTimezoneOffset();var t=new Date(utc);return t},this.formatDate=function(e,t,n){var r=this.zeroPadding,o=this.localDateToUTC(e),i=String(o.getFullYear());"utc"==t&&(i=i.substr(2,2));var a=r(String(o.getMonth()+1),2),s=r(String(o.getDate()),2),c=r(String(o.getHours()),2),u=r(String(o.getMinutes()),2),l=r(String(o.getSeconds()),2),f=i+a+s+c+u+l;if(!0===n){var p=o.getMilliseconds();if(0!=p){var d=r(String(p),3);d=d.replace(/[0]+$/,""),f=f+"."+d}}return f+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(e)},this.setByDateValue=function(e,t,n,r,o,i){var a=new Date(Date.UTC(e,t-1,n,r,o,i,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},Ns.lang.extend(ks.asn1.DERAbstractTime,ks.asn1.ASN1Object),ks.asn1.DERAbstractStructured=function(e){ks.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,"undefined"!=typeof e&&"undefined"!=typeof e["array"]&&(this.asn1Array=e["array"])},Ns.lang.extend(ks.asn1.DERAbstractStructured,ks.asn1.ASN1Object),ks.asn1.DERBoolean=function(){ks.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},Ns.lang.extend(ks.asn1.DERBoolean,ks.asn1.ASN1Object),ks.asn1.DERInteger=function(e){ks.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ks.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new Qa(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("undefined"!=typeof e["bigint"]?this.setByBigInteger(e["bigint"]):"undefined"!=typeof e["int"]?this.setByInteger(e["int"]):"number"==typeof e?this.setByInteger(e):"undefined"!=typeof e["hex"]&&this.setValueHex(e["hex"]))},Ns.lang.extend(ks.asn1.DERInteger,ks.asn1.ASN1Object),ks.asn1.DERBitString=function(e){if(void 0!==e&&"undefined"!==typeof e.obj){var t=ks.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}ks.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+t},this.setByBinaryString=function(e){e=e.replace(/0+$/,"");var t=8-e.length%8;8==t&&(t=0);for(var n=0;n<=t;n++)e+="0";var r="";for(n=0;n<e.length-1;n+=8){var o=e.substr(n,8),i=parseInt(o,2).toString(16);1==i.length&&(i="0"+i),r+=i}this.hTLV=null,this.isModified=!0,this.hV="0"+t+r},this.setByBooleanArray=function(e){for(var t="",n=0;n<e.length;n++)1==e[n]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=!1;return t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):"undefined"!=typeof e["hex"]?this.setHexValueIncludingUnusedBits(e["hex"]):"undefined"!=typeof e["bin"]?this.setByBinaryString(e["bin"]):"undefined"!=typeof e["array"]&&this.setByBooleanArray(e["array"]))},Ns.lang.extend(ks.asn1.DERBitString,ks.asn1.ASN1Object),ks.asn1.DEROctetString=function(e){if(void 0!==e&&"undefined"!==typeof e.obj){var t=ks.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}ks.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},Ns.lang.extend(ks.asn1.DEROctetString,ks.asn1.DERAbstractString),ks.asn1.DERNull=function(){ks.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Ns.lang.extend(ks.asn1.DERNull,ks.asn1.ASN1Object),ks.asn1.DERObjectIdentifier=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=new Qa(e,10),o=r.toString(2),i=7-o.length%7;7==i&&(i=0);for(var a="",s=0;s<i;s++)a+="0";o=a+o;for(s=0;s<o.length-1;s+=7){var c=o.substr(s,7);s!=o.length-7&&(c="1"+c),n+=t(parseInt(c,2))}return n};ks.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",o=e.split("."),i=40*parseInt(o[0])+parseInt(o[1]);r+=t(i),o.splice(0,2);for(var a=0;a<o.length;a++)r+=n(o[a]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.setValueName=function(e){var t=ks.asn1.x509.OID.name2oid(e);if(""===t)throw"DERObjectIdentifier oidName undefined: "+e;this.setValueOidString(t)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"===typeof e?e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e):void 0!==e.oid?this.setValueOidString(e.oid):void 0!==e.hex?this.setValueHex(e.hex):void 0!==e.name&&this.setValueName(e.name))},Ns.lang.extend(ks.asn1.DERObjectIdentifier,ks.asn1.ASN1Object),ks.asn1.DEREnumerated=function(e){ks.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ks.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new Qa(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("undefined"!=typeof e["int"]?this.setByInteger(e["int"]):"number"==typeof e?this.setByInteger(e):"undefined"!=typeof e["hex"]&&this.setValueHex(e["hex"]))},Ns.lang.extend(ks.asn1.DEREnumerated,ks.asn1.ASN1Object),ks.asn1.DERUTF8String=function(e){ks.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},Ns.lang.extend(ks.asn1.DERUTF8String,ks.asn1.DERAbstractString),ks.asn1.DERNumericString=function(e){ks.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},Ns.lang.extend(ks.asn1.DERNumericString,ks.asn1.DERAbstractString),ks.asn1.DERPrintableString=function(e){ks.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},Ns.lang.extend(ks.asn1.DERPrintableString,ks.asn1.DERAbstractString),ks.asn1.DERTeletexString=function(e){ks.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},Ns.lang.extend(ks.asn1.DERTeletexString,ks.asn1.DERAbstractString),ks.asn1.DERIA5String=function(e){ks.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},Ns.lang.extend(ks.asn1.DERIA5String,ks.asn1.DERAbstractString),ks.asn1.DERUTCTime=function(e){ks.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return"undefined"==typeof this.date&&"undefined"==typeof this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},Ns.lang.extend(ks.asn1.DERUTCTime,ks.asn1.DERAbstractTime),ks.asn1.DERGeneralizedTime=function(e){ks.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},Ns.lang.extend(ks.asn1.DERGeneralizedTime,ks.asn1.DERAbstractTime),ks.asn1.DERSequence=function(e){ks.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++){var n=this.asn1Array[t];e+=n.getEncodedHex()}return this.hV=e,this.hV}},Ns.lang.extend(ks.asn1.DERSequence,ks.asn1.DERAbstractStructured),ks.asn1.DERSet=function(e){ks.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var n=this.asn1Array[t];e.push(n.getEncodedHex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},"undefined"!=typeof e&&"undefined"!=typeof e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},Ns.lang.extend(ks.asn1.DERSet,ks.asn1.DERAbstractStructured),ks.asn1.DERTaggedObject=function(e){ks.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,n){this.hT=t,this.isExplicit=e,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("undefined"!=typeof e["tag"]&&(this.hT=e["tag"]),"undefined"!=typeof e["explicit"]&&(this.isExplicit=e["explicit"]),"undefined"!=typeof e["obj"]&&(this.asn1Object=e["obj"],this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},Ns.lang.extend(ks.asn1.DERTaggedObject,ks.asn1.ASN1Object);var Ls=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ps=function(e){function t(n){var r=e.call(this)||this;return n&&("string"===typeof n?r.parseKey(n):(t.hasPrivateKeyProperty(n)||t.hasPublicKeyProperty(n))&&r.parsePropertiesFrom(n)),r}return Ls(t,e),t.prototype.parseKey=function(e){try{var t=0,n=0,r=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/,o=r.test(e)?xa.decode(e):Ga.unarmor(e),i=Ka.decode(o);if(3===i.sub.length&&(i=i.sub[2].sub[0]),9===i.sub.length){t=i.sub[1].getHexStringValue(),this.n=os(t,16),n=i.sub[2].getHexStringValue(),this.e=parseInt(n,16);var a=i.sub[3].getHexStringValue();this.d=os(a,16);var s=i.sub[4].getHexStringValue();this.p=os(s,16);var c=i.sub[5].getHexStringValue();this.q=os(c,16);var u=i.sub[6].getHexStringValue();this.dmp1=os(u,16);var l=i.sub[7].getHexStringValue();this.dmq1=os(l,16);var f=i.sub[8].getHexStringValue();this.coeff=os(f,16)}else{if(2!==i.sub.length)return!1;var p=i.sub[1],d=p.sub[0];t=d.sub[0].getHexStringValue(),this.n=os(t,16),n=d.sub[1].getHexStringValue(),this.e=parseInt(n,16)}return!0}catch(h){return!1}},t.prototype.getPrivateBaseKey=function(){var e={array:[new ks.asn1.DERInteger({int:0}),new ks.asn1.DERInteger({bigint:this.n}),new ks.asn1.DERInteger({int:this.e}),new ks.asn1.DERInteger({bigint:this.d}),new ks.asn1.DERInteger({bigint:this.p}),new ks.asn1.DERInteger({bigint:this.q}),new ks.asn1.DERInteger({bigint:this.dmp1}),new ks.asn1.DERInteger({bigint:this.dmq1}),new ks.asn1.DERInteger({bigint:this.coeff})]},t=new ks.asn1.DERSequence(e);return t.getEncodedHex()},t.prototype.getPrivateBaseKeyB64=function(){return ka(this.getPrivateBaseKey())},t.prototype.getPublicBaseKey=function(){var e=new ks.asn1.DERSequence({array:[new ks.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new ks.asn1.DERNull]}),t=new ks.asn1.DERSequence({array:[new ks.asn1.DERInteger({bigint:this.n}),new ks.asn1.DERInteger({int:this.e})]}),n=new ks.asn1.DERBitString({hex:"00"+t.getEncodedHex()}),r=new ks.asn1.DERSequence({array:[e,n]});return r.getEncodedHex()},t.prototype.getPublicBaseKeyB64=function(){return ka(this.getPublicBaseKey())},t.wordwrap=function(e,t){if(t=t||64,!e)return e;var n="(.{1,"+t+"})( +|$\n?)|(.{1,"+t+"})";return e.match(RegExp(n,"g")).join("\n")},t.prototype.getPrivateKey=function(){var e="-----BEGIN RSA PRIVATE KEY-----\n";return e+=t.wordwrap(this.getPrivateBaseKeyB64())+"\n",e+="-----END RSA PRIVATE KEY-----",e},t.prototype.getPublicKey=function(){var e="-----BEGIN PUBLIC KEY-----\n";return e+=t.wordwrap(this.getPublicBaseKeyB64())+"\n",e+="-----END PUBLIC KEY-----",e},t.hasPublicKeyProperty=function(e){return e=e||{},e.hasOwnProperty("n")&&e.hasOwnProperty("e")},t.hasPrivateKeyProperty=function(e){return e=e||{},e.hasOwnProperty("n")&&e.hasOwnProperty("e")&&e.hasOwnProperty("d")&&e.hasOwnProperty("p")&&e.hasOwnProperty("q")&&e.hasOwnProperty("dmp1")&&e.hasOwnProperty("dmq1")&&e.hasOwnProperty("coeff")},t.prototype.parsePropertiesFrom=function(e){this.n=e.n,this.e=e.e,e.hasOwnProperty("d")&&(this.d=e.d,this.p=e.p,this.q=e.q,this.dmp1=e.dmp1,this.dmq1=e.dmq1,this.coeff=e.coeff)},t}(Cs),xs=n("a524"),Gs=function(){function e(e){void 0===e&&(e={}),e=e||{},this.default_key_size=e.default_key_size?parseInt(e.default_key_size,10):1024,this.default_public_exponent=e.default_public_exponent||"010001",this.log=e.log||!1,this.key=null}return e.prototype.setKey=function(e){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new Ps(e)},e.prototype.setPrivateKey=function(e){this.setKey(e)},e.prototype.setPublicKey=function(e){this.setKey(e)},e.prototype.decrypt=function(e){try{return this.getKey().decrypt(La(e))}catch(t){return!1}},e.prototype.encrypt=function(e){try{return ka(this.getKey().encrypt(e))}catch(t){return!1}},e.prototype.sign=function(e,t,n){try{return ka(this.getKey().sign(e,t,n))}catch(r){return!1}},e.prototype.verify=function(e,t,n){try{return this.getKey().verify(e,La(t),n)}catch(r){return!1}},e.prototype.getKey=function(e){if(!this.key){if(this.key=new Ps,e&&"[object Function]"==={}.toString.call(e))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,e);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},e.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},e.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},e.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},e.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},e.version=xs.version,e}(),Us=Gs,Fs=function(){function e(e){this.encryptor=e,this.token="",this.key="",this.iv=""}return e.prototype.setParams=function(e,t,n){return this.token=e,this.key=t,this.iv=n,this},Object.defineProperty(e.prototype,"sign",{get:function(){return this.encryptor.encrypt(JSON.stringify({timestamp:ha.Now,token:this.token,key:this.key,iv:this.iv}))},enumerable:!1,configurable:!0}),e}(),js=function(){function e(e){this.config=e,this.encrypt=new Us}return e.prototype.setUin=function(e){this.config.uin=e},e.prototype.commonRequest=function(e){var t=this;return new Promise((function(n,r){t.registEncKey().then((function(){var o,i,a,s,c=e.data||{},u="",l="";if(e.admin&&(u=String(t.encrypt.encrypt(e.admin))),t.config.uin){if((null===(o=e.data)||void 0===o?void 0:o.userId)&&t.config.uin!==(null===(i=e.data)||void 0===i?void 0:i.userId))return void r("uin not equal userId");l=String(t.encrypt.encrypt(t.config.uin))}else if(null===(a=e.data)||void 0===a?void 0:a.userId)return void r("uin not allow null when userId not null");if(e.useEncrypt){var f=oa(),p=oa();s=new Fs(t.encrypt).setParams(t.config.token,f,p),c={data:aa(JSON.stringify(e.data||{}),f,p)},ba(e.path,c,s,u,l,e.baseUrl||t.config.baseUrl).then((function(o){var i,a;(null===(i=null===o||void 0===o?void 0:o.data)||void 0===i?void 0:i.data)&&"string"===typeof(null===(a=null===o||void 0===o?void 0:o.data)||void 0===a?void 0:a.data)&&(o.data.data=JSON.parse(ia(o.data.data,f,p))),t.getResultData({error:null,result:o.data,resolve:n,reject:r,onErrorOrEmptyValue:e.onErrorOrEmptyValue})})).catch((function(o){t.getResultData({error:o,result:null,resolve:n,reject:r,onErrorOrEmptyValue:e.onErrorOrEmptyValue})}))}else s=new Fs(t.encrypt).setParams(t.config.token),ba(e.path,c,s,u,l,e.baseUrl||t.config.baseUrl).then((function(o){t.getResultData({error:null,result:o.data,resolve:n,reject:r,onErrorOrEmptyValue:e.onErrorOrEmptyValue})})).catch((function(o){t.getResultData({error:o,result:null,resolve:n,reject:r,onErrorOrEmptyValue:e.onErrorOrEmptyValue})}))})).catch((function(o){t.getResultData({error:o,result:null,resolve:n,reject:r,onErrorOrEmptyValue:e.onErrorOrEmptyValue})}))}))},e.prototype.getResultData=function(e){if(e.error)e.onErrorOrEmptyValue?e.resolve({code:0,innerCode:500,message:"请求错误，返回默认值",data:Ui(e.onErrorOrEmptyValue),success:!0}):e.reject({code:500,message:e.error,data:null,success:!1});else{var t=e.result,n=t.code,r=t.data;0===n?(void 0!==r&&null!==r||!e.onErrorOrEmptyValue||(e.result.data=Ui(e.onErrorOrEmptyValue)),e.resolve(e.result)):e.onErrorOrEmptyValue?e.resolve({code:0,innerCode:500,message:"请求错误，返回默认值",data:Ui(e.onErrorOrEmptyValue),success:!0}):e.reject(e.result)}},e.prototype.registEncKey=function(){var e=this;return new Promise((function(t,n){"string"===typeof e.config.publicKey?(e.encrypt.setPublicKey(e.config.publicKey),t(!0)):e.config.publicKey(e.config.baseUrl).then((function(n){e.encrypt.setPublicKey(n),t(!0)})).catch((function(e){n(e)}))}))},e}(),qs=function(){function e(e){this.options=e,this.dataSender=new js({publicKey:e.publicKey,token:e.token,uin:e.uin,baseUrl:e.baseUrl})}return e.prototype.setUin=function(e){var t;null===(t=this.dataSender)||void 0===t||t.setUin(e)},e.prototype.get=function(e,t){return Vi(this,void 0,void 0,(function(){var n,r,o,i=this;return $i(this,(function(a){return n={key:e,namespace:this.getNamespace(t),userId:this.getUserId(t)},r=function(){return i.dataSender.commonRequest({path:i.options.urls.get,baseUrl:(null===t||void 0===t?void 0:t.baseUrl)||i.options.baseUrl,data:Bi(Bi({},n),{app:i.options.config.app,env:i.options.config.env}),useEncrypt:null===t||void 0===t?void 0:t.useEncrypt,onErrorOrEmptyValue:null===t||void 0===t?void 0:t.onErrorOrEmptyValue})},!1===(null===t||void 0===t?void 0:t.debounceHttp)?[2,r()]:(o=sa({key:e,options:t,cOptions:this.options}),[2,Hi.http(o,r)])}))}))},e.prototype.getUseLocalCache=function(e,t,n,r){if(!n)throw new Error("UseLocalCache must define onSuccess callback");var o=sa({key:e,options:t,cOptions:this.options}),i=pa.getLocal(o),a="".concat(o,"-time");if(void 0!==i&&null!==i){if(n({code:0,innerCode:501,message:"返回cacheData",data:i,success:!0}),null===t||void 0===t?void 0:t.localCacheExpired){var s=pa.getSession(a);if(s&&ha.LocalTime-s<=t.localCacheExpired)return}}else(null===t||void 0===t?void 0:t.onErrorOrEmptyValue)&&n({code:0,innerCode:502,message:"返回onErrorOrEmptyValue",data:t.onErrorOrEmptyValue,success:!0});this.get(e,t).then((function(e){500===e.innerCode?(void 0!==i&&null!==i&&(e.data=i,e.message="返回cacheData",e.innerCode=501),n(e)):(pa.setLocal(o,e.data),(null===t||void 0===t?void 0:t.localCacheExpired)&&pa.setSession(a,ha.LocalTime),n(e))})).catch((function(e){i?n({code:0,innerCode:501,message:"返回cacheData",data:i,success:!0}):r&&r(e)}))},e.prototype.set=function(e,t,n){return Vi(this,void 0,void 0,(function(){var r;return $i(this,(function(o){return r={key:e,value:t,namespace:this.getNamespace(n),userId:this.getUserId(n),expired:null===n||void 0===n?void 0:n.expired,updateWhenExists:null===n||void 0===n?void 0:n.updateWhenExists},[2,this.dataSender.commonRequest({path:this.options.urls.set,baseUrl:(null===n||void 0===n?void 0:n.baseUrl)||this.options.baseUrl,data:Bi(Bi({},r),{app:this.options.config.app,env:this.options.config.env}),useEncrypt:null===n||void 0===n?void 0:n.useEncrypt})]}))}))},e.prototype.remove=function(e,t){return Vi(this,void 0,void 0,(function(){var n;return $i(this,(function(r){return n={key:e,namespace:this.getNamespace(t),userId:this.getUserId(t)},[2,this.dataSender.commonRequest({path:this.options.urls.remove,baseUrl:(null===t||void 0===t?void 0:t.baseUrl)||this.options.baseUrl,data:Bi(Bi({},n),{app:this.options.config.app,env:this.options.config.env}),useEncrypt:null===t||void 0===t?void 0:t.useEncrypt})]}))}))},e.prototype.exists=function(e,t){return Vi(this,void 0,void 0,(function(){var n;return $i(this,(function(r){return n={key:e,namespace:this.getNamespace(t),userId:this.getUserId(t)},[2,this.dataSender.commonRequest({path:this.options.urls.exists,baseUrl:(null===t||void 0===t?void 0:t.baseUrl)||this.options.baseUrl,data:Bi(Bi({},n),{app:this.options.config.app,env:this.options.config.env}),useEncrypt:null===t||void 0===t?void 0:t.useEncrypt})]}))}))},e.prototype.getNamespace=function(e){return(null===e||void 0===e?void 0:e.namespace)||this.options.namespace||""},e.prototype.getUserId=function(e){return(null===e||void 0===e?void 0:e.userId)||""},e}(),Bs=function(e){function t(t){return e.call(this,Bi(Bi({},t),{urls:{get:"/cache/get",set:"/cache/set",remove:"/cache/remove",exists:"/cache/exists"}}))||this}return qi(t,e),t}(qs),Vs=function(e){function t(t){return e.call(this,Bi(Bi({},t),{urls:{get:"/persistence/get",set:"/persistence/set",remove:"/persistence/remove",exists:"/persistence/exists"}}))||this}return qi(t,e),t}(qs),$s=function(){function e(e){this.options=e,this.urls={delete:"/datapreset/delete",save:"/datapreset/save",search:"/datapreset/search"},this.dataSender=new js({publicKey:e.publicKey,token:e.token,uin:e.uin,baseUrl:e.baseUrl})}return e.prototype.setUin=function(e){var t;null===(t=this.dataSender)||void 0===t||t.setUin(e)},e.prototype.delete=function(e,t){return Vi(this,void 0,void 0,(function(){var n;return $i(this,(function(r){return n={tableName:e,id:null===t||void 0===t?void 0:t.id},[2,this.dataSender.commonRequest({path:this.urls.delete,baseUrl:(null===t||void 0===t?void 0:t.baseUrl)||this.options.baseUrl,data:Bi(Bi({},n),{app:this.options.config.app,env:this.options.config.env}),useEncrypt:null===t||void 0===t?void 0:t.useEncrypt})]}))}))},e.prototype.save=function(e,t){return Vi(this,void 0,void 0,(function(){var n;return $i(this,(function(r){return n={tableName:e,data:null===t||void 0===t?void 0:t.data},[2,this.dataSender.commonRequest({path:this.urls.save,baseUrl:(null===t||void 0===t?void 0:t.baseUrl)||this.options.baseUrl,data:Bi(Bi({},n),{app:this.options.config.app,env:this.options.config.env}),useEncrypt:null===t||void 0===t?void 0:t.useEncrypt})]}))}))},e.prototype.search=function(e,t){return Vi(this,void 0,void 0,(function(){var n,r=this;return $i(this,(function(o){return n={tableName:e,queryColumn:null===t||void 0===t?void 0:t.queryColumn,condition:null===t||void 0===t?void 0:t.condition,limit:null===t||void 0===t?void 0:t.limit,page:null===t||void 0===t?void 0:t.page,order:null===t||void 0===t?void 0:t.order,group:null===t||void 0===t?void 0:t.group},[2,new Promise((function(e,o){r.dataSender.commonRequest({path:r.urls.search,baseUrl:(null===t||void 0===t?void 0:t.baseUrl)||r.options.baseUrl,data:Bi(Bi({},n),{app:r.options.config.app,env:r.options.config.env}),useEncrypt:null===t||void 0===t?void 0:t.useEncrypt}).then((function(n){var r;(null===(r=null===t||void 0===t?void 0:t.dataTransfer)||void 0===r?void 0:r.length)&&t.dataTransfer.forEach((function(e){var t=n.data;e.getOptions().listPath&&(t=n.data[e.getOptions().listPath]);var r=e.transfer(t);e.getOptions().listPath?n.data[e.getOptions().listPath]=r:n.data=r})),e(n)})).catch((function(e){o(e)}))}))]}))}))},e.prototype.searchUseLocalCache=function(e,t,n,r){if(!n)throw new Error("UseLocalCache must define onSuccess callback");var o=sa({tableName:e,options:t,cOptions:this.options}),i="".concat(o,"-time"),a=pa.getLocal(o);if(void 0!==a&&null!==a&&(n({code:0,innerCode:501,message:"返回cacheData",data:a,success:!0}),null===t||void 0===t?void 0:t.localCacheExpired)){var s=pa.getSession(i);if(s&&ha.LocalTime-s<=t.localCacheExpired)return}this.search(e,t).then((function(e){pa.setLocal(o,e.data),(null===t||void 0===t?void 0:t.localCacheExpired)&&pa.setSession(i,ha.LocalTime),n(e)})).catch((function(e){a?n({code:0,innerCode:501,message:"返回cacheData",data:a,success:!0}):r&&r(e)}))},e}(),Hs=function(){function e(e){this.options=e}return e.prototype.createPersistenceInstance=function(e){return new Vs({token:this.options.token,publicKey:this.getPublicKey,config:{app:e.app,env:e.env},uin:e.uin?String(e.uin):"",namespace:e.namespace||"",baseUrl:this.options.baseUrl})},e.prototype.createCacheInstance=function(e){return new Bs({token:this.options.token,publicKey:this.getPublicKey,config:{app:e.app,env:e.env},uin:e.uin?String(e.uin):"",namespace:e.namespace||"",baseUrl:this.options.baseUrl})},e.prototype.createTableAccessInstance=function(e){return new $s({token:this.options.token,publicKey:this.getPublicKey,config:{app:e.app,env:e.env},uin:e.uin?String(e.uin):"",baseUrl:this.options.baseUrl})},e.prototype.createReqDataSender=function(){return new js({publicKey:this.getPublicKey,token:this.options.token,baseUrl:this.options.baseUrl})},e.prototype.createPersistenceTransfer=function(){return this.createReqDataSender()},e.prototype.getPublicKey=function(e){return new Promise((function(t,n){var r="public-key-cache",o=pa.getSession(r);if(o)console.log("get public key from session"),t(o);else{var i="public-key-getter",a=new Fi(i,Ma);a.runOnce(e).then((function(e){var o;(null===(o=null===e||void 0===e?void 0:e.data)||void 0===o?void 0:o.data)?(pa.setSession(r,e.data.data),t(e.data.data)):(console.error("get public key error"),Fi.resetById(i),n("get public key error"))})).catch((function(e){Fi.resetById(i),console.error("get public key error",e),n(e)}))}}))},e}(),Ks=(function(){function e(e){this.options=e,this.tableAccess=void 0;var t=new Hs({token:"B18702AF44324B66AFAAAA4D",baseUrl:e.baseUrl});this.tableAccess=t.createTableAccessInstance({app:"operatelog",env:e.env})}e.prototype.setUin=function(e){this.options.uin=String(e)},e.prototype.info=function(e,t){var n=this.checkReportData(e,t);if(n)console.error(n);else if(this.tableAccess)try{this.tableAccess.save("operatelog",{data:[{oper_module:this.options.module,oper_user:String(this.options.uin),oper_time:ha.Now,oper_key:e,oper_val:JSON.stringify(t)}],useEncrypt:!0})}catch(r){console.error(r)}},e.prototype.checkReportData=function(e,t){return this.options.module?this.options.env?this.options.uin?e?t?null:"operate log need value":"operate log need logKey":"operate log need uin":"operate log need env":"operate log need module"}}(),ma.a.create({headers:{"Trace-Id":ra()}}));(function(){function e(){}e.prototype.request=function(e){return Ks.request({method:e.method||"post",headers:Bi({"Request-Id":ra(),"x-persistence-code":e.jwt,"origin-url":(null===e||void 0===e?void 0:e.origin)||"basic-req","x-persistence-ver":"1.0.0","x-persistence-nosign":"true"},null===e||void 0===e?void 0:e.headers),data:Bi(Bi({},e.data),{token:e.token}),url:"".concat((null===e||void 0===e?void 0:e.baseUrl)||ga.url).concat(e.path)})}})(),function(){function e(e){this.options=e}e.prototype.getOptions=function(){return this.options},e.prototype.transfer=function(e){var t=this,n=e.reduce((function(e,n,r){return e[n[t.options.idField]]=r,e}),{}),r=[];return e.forEach((function(o){if(o[t.options.parentIdField]||0===o[t.options.parentIdField]){var i=e[n[o[t.options.parentIdField]]],a=i[t.options.childrenField]||[];a.push(o),i[t.options.childrenField]=a}else r.push(o)})),r}}()},4105:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=99)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):o&&(c=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},9:function(e,t){e.exports=n("7f4d")},99:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"el-form",class:[e.labelPosition?"el-form--label-"+e.labelPosition:"",{"el-form--inline":e.inline}]},[e._t("default")],2)},o=[];r._withStripped=!0;var i=n(9),a=n.n(i),s={name:"ElForm",componentName:"ElForm",provide:function(){return{elForm:this}},props:{model:Object,rules:Object,labelPosition:String,labelWidth:String,labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:String,disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1}},watch:{rules:function(){this.fields.forEach((function(e){e.removeValidateEvents(),e.addValidateEvents()})),this.validateOnRuleChange&&this.validate((function(){}))}},computed:{autoLabelWidth:function(){if(!this.potentialLabelWidthArr.length)return 0;var e=Math.max.apply(Math,this.potentialLabelWidthArr);return e?e+"px":""}},data:function(){return{fields:[],potentialLabelWidthArr:[]}},created:function(){var e=this;this.$on("el.form.addField",(function(t){t&&e.fields.push(t)})),this.$on("el.form.removeField",(function(t){t.prop&&e.fields.splice(e.fields.indexOf(t),1)}))},methods:{resetFields:function(){this.model?this.fields.forEach((function(e){e.resetField()})):console.warn("[Element Warn][Form]model is required for resetFields to work.")},clearValidate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length?"string"===typeof e?this.fields.filter((function(t){return e===t.prop})):this.fields.filter((function(t){return e.indexOf(t.prop)>-1})):this.fields;t.forEach((function(e){e.clearValidate()}))},validate:function(e){var t=this;if(this.model){var n=void 0;"function"!==typeof e&&window.Promise&&(n=new window.Promise((function(t,n){e=function(e,r){e?t(e):n(r)}})));var r=!0,o=0;0===this.fields.length&&e&&e(!0);var i={};return this.fields.forEach((function(n){n.validate("",(function(n,s){n&&(r=!1),i=a()({},i,s),"function"===typeof e&&++o===t.fields.length&&e(r,i)}))})),n||void 0}console.warn("[Element Warn][Form]model is required for validate to work!")},validateField:function(e,t){e=[].concat(e);var n=this.fields.filter((function(t){return-1!==e.indexOf(t.prop)}));n.length?n.forEach((function(e){e.validate("",t)})):console.warn("[Element Warn]please pass correct props!")},getLabelWidthIndex:function(e){var t=this.potentialLabelWidthArr.indexOf(e);if(-1===t)throw new Error("[ElementForm]unpected width ",e);return t},registerLabelWidth:function(e,t){if(e&&t){var n=this.getLabelWidthIndex(t);this.potentialLabelWidthArr.splice(n,1,e)}else e&&this.potentialLabelWidthArr.push(e)},deregisterLabelWidth:function(e){var t=this.getLabelWidthIndex(e);this.potentialLabelWidthArr.splice(t,1)}}},c=s,u=n(0),l=Object(u["a"])(c,r,o,!1,null,null,null);l.options.__file="packages/form/src/form.vue";var f=l.exports;f.install=function(e){e.component(f.name,f)};t["default"]=f}})},"417f":function(e,t,n){"use strict";t.__esModule=!0;var r=n("2b0e"),o=a(r),i=n("5924");function a(e){return e&&e.__esModule?e:{default:e}}var s=[],c="@@clickoutsideContext",u=void 0,l=0;function f(e,t,n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!(n&&n.context&&r.target&&o.target)||e.contains(r.target)||e.contains(o.target)||e===r.target||n.context.popperElm&&(n.context.popperElm.contains(r.target)||n.context.popperElm.contains(o.target))||(t.expression&&e[c].methodName&&n.context[e[c].methodName]?n.context[e[c].methodName]():e[c].bindingFn&&e[c].bindingFn())}}!o.default.prototype.$isServer&&(0,i.on)(document,"mousedown",(function(e){return u=e})),!o.default.prototype.$isServer&&(0,i.on)(document,"mouseup",(function(e){s.forEach((function(t){return t[c].documentHandler(e,u)}))})),t.default={bind:function(e,t,n){s.push(e);var r=l++;e[c]={id:r,documentHandler:f(e,t,n),methodName:t.expression,bindingFn:t.value}},update:function(e,t,n){e[c].documentHandler=f(e,t,n),e[c].methodName=t.expression,e[c].bindingFn=t.value},unbind:function(e){for(var t=s.length,n=0;n<t;n++)if(s[n][c].id===e[c].id){s.splice(n,1);break}delete e[c]}}},"41b2":function(e,t,n){"use strict";t.__esModule=!0;var r=n("3f6b"),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},"41f8":function(e,t,n){"use strict";t.__esModule=!0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isVNode=i;var o=n("8122");function i(e){return null!==e&&"object"===("undefined"===typeof e?"undefined":r(e))&&(0,o.hasOwn)(e,"componentOptions")}},"428f":function(e,t,n){var r=n("da84");e.exports=r},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("df7c")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"44ad":function(e,t,n){var r=n("e330"),o=n("d039"),i=n("c6b6"),a=Object,s=r("".split);e.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?s(e,""):a(e)}:a},"44d2":function(e,t,n){var r=n("b622"),o=n("7c73"),i=n("9bf2").f,a=r("unscopables"),s=Array.prototype;void 0==s[a]&&i(s,a,{configurable:!0,value:o(null)}),e.exports=function(e){s[a][e]=!0}},"44de":function(e,t,n){var r=n("da84");e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},"44e7":function(e,t,n){var r=n("861d"),o=n("c6b6"),i=n("b622"),a=i("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==o(e))}},"466d":function(e,t,n){"use strict";var r=n("c65b"),o=n("d784"),i=n("825a"),a=n("50c4"),s=n("577e"),c=n("1d80"),u=n("dc4a"),l=n("8aa5"),f=n("14c3");o("match",(function(e,t,n){return[function(t){var n=c(this),o=void 0==t?void 0:u(t,e);return o?r(o,t,n):new RegExp(t)[e](s(n))},function(e){var r=i(this),o=s(e),c=n(t,r,o);if(c.done)return c.value;if(!r.global)return f(r,o);var u=r.unicode;r.lastIndex=0;var p,d=[],h=0;while(null!==(p=f(r,o))){var g=s(p[0]);d[h]=g,""===g&&(r.lastIndex=l(o,a(r.lastIndex),u)),h++}return 0===h?null:d}]}))},"467f":function(e,t,n){"use strict";var r=n("2d83");e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},4738:function(e,t,n){var r=n("da84"),o=n("d256"),i=n("1626"),a=n("94ca"),s=n("8925"),c=n("b622"),u=n("6069"),l=n("c430"),f=n("2d00"),p=o&&o.prototype,d=c("species"),h=!1,g=i(r.PromiseRejectionEvent),v=a("Promise",(function(){var e=s(o),t=e!==String(o);if(!t&&66===f)return!0;if(l&&(!p["catch"]||!p["finally"]))return!0;if(f>=51&&/native code/.test(e))return!1;var n=new o((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))},i=n.constructor={};return i[d]=r,h=n.then((function(){}))instanceof r,!h||!t&&u&&!g}));e.exports={CONSTRUCTOR:v,REJECTION_EVENT:g,SUBCLASSING:h}},4840:function(e,t,n){var r=n("825a"),o=n("5087"),i=n("b622"),a=i("species");e.exports=function(e,t){var n,i=r(e).constructor;return void 0===i||void 0==(n=r(i)[a])?t:o(n)}},"485a":function(e,t,n){var r=n("c65b"),o=n("1626"),i=n("861d"),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&o(n=e.toString)&&!i(s=r(n,e)))return s;if(o(n=e.valueOf)&&!i(s=r(n,e)))return s;if("string"!==t&&o(n=e.toString)&&!i(s=r(n,e)))return s;throw a("Can't convert object to primitive value")}},4897:function(e,t,n){"use strict";t.__esModule=!0,t.i18n=t.use=t.t=void 0;var r=n("f0d9"),o=f(r),i=n("2b0e"),a=f(i),s=n("9afc"),c=f(s),u=n("9d7e"),l=f(u);function f(e){return e&&e.__esModule?e:{default:e}}var p=(0,l.default)(a.default),d=o.default,h=!1,g=function(){var e=Object.getPrototypeOf(this||a.default).$t;if("function"===typeof e&&a.default.locale)return h||(h=!0,a.default.locale(a.default.config.lang,(0,c.default)(d,a.default.locale(a.default.config.lang)||{},{clone:!0}))),e.apply(this,arguments)},v=t.t=function(e,t){var n=g.apply(this,arguments);if(null!==n&&void 0!==n)return n;for(var r=e.split("."),o=d,i=0,a=r.length;i<a;i++){var s=r[i];if(n=o[s],i===a-1)return p(n,t);if(!n)return"";o=n}return""},m=t.use=function(e){d=e||d},_=t.i18n=function(e){g=e||g};t.default={use:m,t:v,i18n:_}},4930:function(e,t,n){var r=n("2d00"),o=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},"498a":function(e,t,n){"use strict";var r=n("23e7"),o=n("58a8").trim,i=n("c8d2");r({target:"String",proto:!0,forced:i("trim")},{trim:function(){return o(this)}})},"4a7b":function(e,t,n){"use strict";var r=n("c532");e.exports=function(e,t){t=t||{};var n={};function o(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function i(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return o(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function c(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||i,o=t(e);r.isUndefined(o)&&t!==c||(n[e]=o)})),n}},"4a9b":function(e,t,n){var r=n("74e8");r("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"4b26":function(e,t,n){"use strict";t.__esModule=!0;var r=n("2b0e"),o=a(r),i=n("5924");function a(e){return e&&e.__esModule?e:{default:e}}var s=!1,c=!1,u=void 0,l=function(){if(!o.default.prototype.$isServer){var e=p.modalDom;return e?s=!0:(s=!1,e=document.createElement("div"),p.modalDom=e,e.addEventListener("touchmove",(function(e){e.preventDefault(),e.stopPropagation()})),e.addEventListener("click",(function(){p.doOnModalClick&&p.doOnModalClick()}))),e}},f={},p={modalFade:!0,getInstance:function(e){return f[e]},register:function(e,t){e&&t&&(f[e]=t)},deregister:function(e){e&&(f[e]=null,delete f[e])},nextZIndex:function(){return p.zIndex++},modalStack:[],doOnModalClick:function(){var e=p.modalStack[p.modalStack.length-1];if(e){var t=p.getInstance(e.id);t&&t.closeOnClickModal&&t.close()}},openModal:function(e,t,n,r,a){if(!o.default.prototype.$isServer&&e&&void 0!==t){this.modalFade=a;for(var c=this.modalStack,u=0,f=c.length;u<f;u++){var p=c[u];if(p.id===e)return}var d=l();if((0,i.addClass)(d,"v-modal"),this.modalFade&&!s&&(0,i.addClass)(d,"v-modal-enter"),r){var h=r.trim().split(/\s+/);h.forEach((function(e){return(0,i.addClass)(d,e)}))}setTimeout((function(){(0,i.removeClass)(d,"v-modal-enter")}),200),n&&n.parentNode&&11!==n.parentNode.nodeType?n.parentNode.appendChild(d):document.body.appendChild(d),t&&(d.style.zIndex=t),d.tabIndex=0,d.style.display="",this.modalStack.push({id:e,zIndex:t,modalClass:r})}},closeModal:function(e){var t=this.modalStack,n=l();if(t.length>0){var r=t[t.length-1];if(r.id===e){if(r.modalClass){var o=r.modalClass.trim().split(/\s+/);o.forEach((function(e){return(0,i.removeClass)(n,e)}))}t.pop(),t.length>0&&(n.style.zIndex=t[t.length-1].zIndex)}else for(var a=t.length-1;a>=0;a--)if(t[a].id===e){t.splice(a,1);break}}0===t.length&&(this.modalFade&&(0,i.addClass)(n,"v-modal-leave"),setTimeout((function(){0===t.length&&(n.parentNode&&n.parentNode.removeChild(n),n.style.display="none",p.modalDom=void 0),(0,i.removeClass)(n,"v-modal-leave")}),200))}};Object.defineProperty(p,"zIndex",{configurable:!0,get:function(){return c||(u=u||(o.default.prototype.$ELEMENT||{}).zIndex||2e3,c=!0),u},set:function(e){u=e}});var d=function(){if(!o.default.prototype.$isServer&&p.modalStack.length>0){var e=p.modalStack[p.modalStack.length-1];if(!e)return;var t=p.getInstance(e.id);return t}};o.default.prototype.$isServer||window.addEventListener("keydown",(function(e){if(27===e.keyCode){var t=d();t&&t.closeOnPressEscape&&(t.handleClose?t.handleClose():t.handleAction?t.handleAction("cancel"):t.close())}})),t.default=p},"4b8b":function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},"4d20":function(e,t,n){var r=n("1917"),o=n("10db"),i=n("6ca1"),a=n("3397"),s=n("9c0e"),c=n("faf5"),u=Object.getOwnPropertyDescriptor;t.f=n("0bad")?u:function(e,t){if(e=i(e),t=a(t,!0),c)try{return u(e,t)}catch(n){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},"4d63":function(e,t,n){var r=n("83ab"),o=n("da84"),i=n("e330"),a=n("94ca"),s=n("7156"),c=n("9112"),u=n("241c").f,l=n("3a9b"),f=n("44e7"),p=n("577e"),d=n("90d8"),h=n("9f7f"),g=n("aeb0"),v=n("cb2d"),m=n("d039"),_=n("1a2d"),y=n("69f3").enforce,b=n("2626"),M=n("b622"),E=n("fce3"),I=n("107c"),S=M("match"),T=o.RegExp,O=T.prototype,C=o.SyntaxError,A=i(O.exec),w=i("".charAt),R=i("".replace),D=i("".indexOf),N=i("".slice),k=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,L=/a/g,P=/a/g,x=new T(L)!==L,G=h.MISSED_STICKY,U=h.UNSUPPORTED_Y,F=r&&(!x||G||E||I||m((function(){return P[S]=!1,T(L)!=L||T(P)==P||"/a/i"!=T(L,"i")}))),j=function(e){for(var t,n=e.length,r=0,o="",i=!1;r<=n;r++)t=w(e,r),"\\"!==t?i||"."!==t?("["===t?i=!0:"]"===t&&(i=!1),o+=t):o+="[\\s\\S]":o+=t+w(e,++r);return o},q=function(e){for(var t,n=e.length,r=0,o="",i=[],a={},s=!1,c=!1,u=0,l="";r<=n;r++){if(t=w(e,r),"\\"===t)t+=w(e,++r);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:A(k,N(e,r+1))&&(r+=2,c=!0),o+=t,u++;continue;case">"===t&&c:if(""===l||_(a,l))throw new C("Invalid capture group name");a[l]=!0,i[i.length]=[l,u],c=!1,l="";continue}c?l+=t:o+=t}return[o,i]};if(a("RegExp",F)){for(var B=function(e,t){var n,r,o,i,a,u,h=l(O,this),g=f(e),v=void 0===t,m=[],_=e;if(!h&&g&&v&&e.constructor===B)return e;if((g||l(O,e))&&(e=e.source,v&&(t=d(_))),e=void 0===e?"":p(e),t=void 0===t?"":p(t),_=e,E&&"dotAll"in L&&(r=!!t&&D(t,"s")>-1,r&&(t=R(t,/s/g,""))),n=t,G&&"sticky"in L&&(o=!!t&&D(t,"y")>-1,o&&U&&(t=R(t,/y/g,""))),I&&(i=q(e),e=i[0],m=i[1]),a=s(T(e,t),h?this:O,B),(r||o||m.length)&&(u=y(a),r&&(u.dotAll=!0,u.raw=B(j(e),n)),o&&(u.sticky=!0),m.length&&(u.groups=m)),e!==_)try{c(a,"source",""===_?"(?:)":_)}catch(b){}return a},V=u(T),$=0;V.length>$;)g(B,T,V[$++]);O.constructor=B,B.prototype=O,v(o,"RegExp",B,{constructor:!0})}b("RegExp")},"4d64":function(e,t,n){var r=n("fc6a"),o=n("23cb"),i=n("07fa"),a=function(e){return function(t,n,a){var s,c=r(t),u=i(c),l=o(a,u);if(e&&n!=n){while(u>l)if(s=c[l++],s!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},"4d88":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"4dae":function(e,t,n){var r=n("23cb"),o=n("07fa"),i=n("8418"),a=Array,s=Math.max;e.exports=function(e,t,n){for(var c=o(e),u=r(t,c),l=r(void 0===n?c:n,c),f=a(s(l-u,0)),p=0;u<l;u++,p++)i(f,p,e[u]);return f.length=p,f}},"4de4":function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").filter,i=n("1dde"),a=i("filter");r({target:"Array",proto:!0,forced:!a},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,n){"use strict";var r=n("0366"),o=n("c65b"),i=n("7b0b"),a=n("9bdd"),s=n("e95a"),c=n("68ee"),u=n("07fa"),l=n("8418"),f=n("9a1f"),p=n("35a1"),d=Array;e.exports=function(e){var t=i(e),n=c(this),h=arguments.length,g=h>1?arguments[1]:void 0,v=void 0!==g;v&&(g=r(g,h>2?arguments[2]:void 0));var m,_,y,b,M,E,I=p(t),S=0;if(!I||this===d&&s(I))for(m=u(t),_=n?new this(m):d(m);m>S;S++)E=v?g(t[S],S):t[S],l(_,S,E);else for(b=f(t,I),M=b.next,_=n?new this:[];!(y=o(M,b)).done;S++)E=v?a(b,g,[y.value,S],!0):y.value,l(_,S,E);return _.length=S,_}},"4e4b":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=61)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):o&&(c=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},10:function(e,t){e.exports=n("f3ad")},12:function(e,t){e.exports=n("417f")},15:function(e,t){e.exports=n("14e9")},16:function(e,t){e.exports=n("4010")},19:function(e,t){e.exports=n("0e15")},21:function(e,t){e.exports=n("d397")},22:function(e,t){e.exports=n("12f2")},3:function(e,t){e.exports=n("8122")},31:function(e,t){e.exports=n("2a5e")},33:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:e.itemSelected,"is-disabled":e.disabled||e.groupDisabled||e.limitReached,hover:e.hover},on:{mouseenter:e.hoverItem,click:function(t){return t.stopPropagation(),e.selectOptionClick(t)}}},[e._t("default",[n("span",[e._v(e._s(e.currentLabel))])])],2)},o=[];r._withStripped=!0;var i=n(4),a=n.n(i),s=n(3),c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u={mixins:[a.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&(!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&this.select.multipleLimit>0)}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(e,t){var n=this.select,r=n.remote,o=n.valueKey;if(!this.created&&!r){if(o&&"object"===("undefined"===typeof e?"undefined":c(e))&&"object"===("undefined"===typeof t?"undefined":c(t))&&e[o]===t[o])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function(e,t){if(this.isObject){var n=this.select.valueKey;return Object(s["getValueByPath"])(e,n)===Object(s["getValueByPath"])(t,n)}return e===t},contains:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if(this.isObject){var n=this.select.valueKey;return e&&e.some((function(e){return Object(s["getValueByPath"])(e,n)===Object(s["getValueByPath"])(t,n)}))}return e&&e.indexOf(t)>-1},handleGroupDisabled:function(e){this.groupDisabled=e},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(e){this.visible=new RegExp(Object(s["escapeRegexpString"])(e),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var e=this.select,t=e.selected,n=e.multiple,r=n?t:[t],o=this.select.cachedOptions.indexOf(this),i=r.indexOf(this);o>-1&&i<0&&this.select.cachedOptions.splice(o,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},l=u,f=n(0),p=Object(f["a"])(l,r,o,!1,null,null,null);p.options.__file="packages/select/src/option.vue";t["a"]=p.exports},37:function(e,t){e.exports=n("8bbc")},4:function(e,t){e.exports=n("d010")},5:function(e,t){e.exports=n("e974")},6:function(e,t){e.exports=n("6b7c")},61:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleClose,expression:"handleClose"}],staticClass:"el-select",class:[e.selectSize?"el-select--"+e.selectSize:""],on:{click:function(t){return t.stopPropagation(),e.toggleMenu(t)}}},[e.multiple?n("div",{ref:"tags",staticClass:"el-select__tags",style:{"max-width":e.inputWidth-32+"px",width:"100%"}},[e.collapseTags&&e.selected.length?n("span",[n("el-tag",{attrs:{closable:!e.selectDisabled,size:e.collapseTagSize,hit:e.selected[0].hitState,type:"info","disable-transitions":""},on:{close:function(t){e.deleteTag(t,e.selected[0])}}},[n("span",{staticClass:"el-select__tags-text"},[e._v(e._s(e.selected[0].currentLabel))])]),e.selected.length>1?n("el-tag",{attrs:{closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""}},[n("span",{staticClass:"el-select__tags-text"},[e._v("+ "+e._s(e.selected.length-1))])]):e._e()],1):e._e(),e.collapseTags?e._e():n("transition-group",{on:{"after-leave":e.resetInputHeight}},e._l(e.selected,(function(t){return n("el-tag",{key:e.getValueKey(t),attrs:{closable:!e.selectDisabled,size:e.collapseTagSize,hit:t.hitState,type:"info","disable-transitions":""},on:{close:function(n){e.deleteTag(n,t)}}},[n("span",{staticClass:"el-select__tags-text"},[e._v(e._s(t.currentLabel))])])})),1),e.filterable?n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],ref:"input",staticClass:"el-select__input",class:[e.selectSize?"is-"+e.selectSize:""],style:{"flex-grow":"1",width:e.inputLength/(e.inputWidth-32)+"%","max-width":e.inputWidth-42+"px"},attrs:{type:"text",disabled:e.selectDisabled,autocomplete:e.autoComplete||e.autocomplete},domProps:{value:e.query},on:{focus:e.handleFocus,blur:function(t){e.softFocus=!1},keyup:e.managePlaceholder,keydown:[e.resetInputState,function(t){if(!("button"in t)&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;t.preventDefault(),e.handleNavigate("next")},function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;t.preventDefault(),e.handleNavigate("prev")},function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.selectOption(t))},function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;t.stopPropagation(),t.preventDefault(),e.visible=!1},function(t){return!("button"in t)&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.deletePrevTag(t)},function(t){if(!("button"in t)&&e._k(t.keyCode,"tab",9,t.key,"Tab"))return null;e.visible=!1}],compositionstart:e.handleComposition,compositionupdate:e.handleComposition,compositionend:e.handleComposition,input:[function(t){t.target.composing||(e.query=t.target.value)},e.debouncedQueryChange]}}):e._e()],1):e._e(),n("el-input",{ref:"reference",class:{"is-focus":e.visible},attrs:{type:"text",placeholder:e.currentPlaceholder,name:e.name,id:e.id,autocomplete:e.autoComplete||e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,tabindex:e.multiple&&e.filterable?"-1":null},on:{focus:e.handleFocus,blur:e.handleBlur,input:e.debouncedOnInputChange,compositionstart:e.handleComposition,compositionupdate:e.handleComposition,compositionend:e.handleComposition},nativeOn:{keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;t.stopPropagation(),t.preventDefault(),e.handleNavigate("next")},function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;t.stopPropagation(),t.preventDefault(),e.handleNavigate("prev")},function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.selectOption(t))},function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;t.stopPropagation(),t.preventDefault(),e.visible=!1},function(t){if(!("button"in t)&&e._k(t.keyCode,"tab",9,t.key,"Tab"))return null;e.visible=!1}],mouseenter:function(t){e.inputHovering=!0},mouseleave:function(t){e.inputHovering=!1}},model:{value:e.selectedLabel,callback:function(t){e.selectedLabel=t},expression:"selectedLabel"}},[e.$slots.prefix?n("template",{slot:"prefix"},[e._t("prefix")],2):e._e(),n("template",{slot:"suffix"},[n("i",{directives:[{name:"show",rawName:"v-show",value:!e.showClose,expression:"!showClose"}],class:["el-select__caret","el-input__icon","el-icon-"+e.iconClass]}),e.showClose?n("i",{staticClass:"el-select__caret el-input__icon el-icon-circle-close",on:{click:e.handleClearClick}}):e._e()])],2),n("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":e.handleMenuEnter,"after-leave":e.doDestroy}},[n("el-select-menu",{directives:[{name:"show",rawName:"v-show",value:e.visible&&!1!==e.emptyText,expression:"visible && emptyText !== false"}],ref:"popper",attrs:{"append-to-body":e.popperAppendToBody}},[n("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:e.options.length>0&&!e.loading,expression:"options.length > 0 && !loading"}],ref:"scrollbar",class:{"is-empty":!e.allowCreate&&e.query&&0===e.filteredOptionsCount},attrs:{tag:"ul","wrap-class":"el-select-dropdown__wrap","view-class":"el-select-dropdown__list"}},[e.showNewOption?n("el-option",{attrs:{value:e.query,created:""}}):e._e(),e._t("default")],2),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&0===e.options.length)?[e.$slots.empty?e._t("empty"):n("p",{staticClass:"el-select-dropdown__empty"},[e._v("\n          "+e._s(e.emptyText)+"\n        ")])]:e._e()],2)],1)],1)},o=[];r._withStripped=!0;var i=n(4),a=n.n(i),s=n(22),c=n.n(s),u=n(6),l=n.n(u),f=n(10),p=n.n(f),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-select-dropdown el-popper",class:[{"is-multiple":e.$parent.multiple},e.popperClass],style:{minWidth:e.minWidth}},[e._t("default")],2)},h=[];d._withStripped=!0;var g=n(5),v=n.n(g),m={name:"ElSelectDropdown",componentName:"ElSelectDropdown",mixins:[v.a],props:{placement:{default:"bottom-start"},boundariesPadding:{default:0},popperOptions:{default:function(){return{gpuAcceleration:!1}}},visibleArrow:{default:!0},appendToBody:{type:Boolean,default:!0}},data:function(){return{minWidth:""}},computed:{popperClass:function(){return this.$parent.popperClass}},watch:{"$parent.inputWidth":function(){this.minWidth=this.$parent.$el.getBoundingClientRect().width+"px"}},mounted:function(){var e=this;this.referenceElm=this.$parent.$refs.reference.$el,this.$parent.popperElm=this.popperElm=this.$el,this.$on("updatePopper",(function(){e.$parent.visible&&e.updatePopper()})),this.$on("destroyPopper",this.destroyPopper)}},_=m,y=n(0),b=Object(y["a"])(_,d,h,!1,null,null,null);b.options.__file="packages/select/src/select-dropdown.vue";var M=b.exports,E=n(33),I=n(37),S=n.n(I),T=n(15),O=n.n(T),C=n(19),A=n.n(C),w=n(12),R=n.n(w),D=n(16),N=n(31),k=n.n(N),L=n(3),P={data:function(){return{hoverOption:-1}},computed:{optionsAllDisabled:function(){return this.options.filter((function(e){return e.visible})).every((function(e){return e.disabled}))}},watch:{hoverIndex:function(e){var t=this;"number"===typeof e&&e>-1&&(this.hoverOption=this.options[e]||{}),this.options.forEach((function(e){e.hover=t.hoverOption===e}))}},methods:{navigateOptions:function(e){var t=this;if(this.visible){if(0!==this.options.length&&0!==this.filteredOptionsCount&&!this.optionsAllDisabled){"next"===e?(this.hoverIndex++,this.hoverIndex===this.options.length&&(this.hoverIndex=0)):"prev"===e&&(this.hoverIndex--,this.hoverIndex<0&&(this.hoverIndex=this.options.length-1));var n=this.options[this.hoverIndex];!0!==n.disabled&&!0!==n.groupDisabled&&n.visible||this.navigateOptions(e),this.$nextTick((function(){return t.scrollToOption(t.hoverOption)}))}}else this.visible=!0}}},x=n(21),G={mixins:[a.a,l.a,c()("reference"),P],name:"ElSelect",componentName:"ElSelect",inject:{elForm:{default:""},elFormItem:{default:""}},provide:function(){return{select:this}},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},readonly:function(){return!this.filterable||this.multiple||!Object(L["isIE"])()&&!Object(L["isEdge"])()&&!this.visible},showClose:function(){var e=this.multiple?Array.isArray(this.value)&&this.value.length>0:void 0!==this.value&&null!==this.value&&""!==this.value,t=this.clearable&&!this.selectDisabled&&this.inputHovering&&e;return t},iconClass:function(){return this.remote&&this.filterable?"":this.visible?"arrow-up is-reverse":"arrow-up"},debounce:function(){return this.remote?300:0},emptyText:function(){return this.loading?this.loadingText||this.t("el.select.loading"):(!this.remote||""!==this.query||0!==this.options.length)&&(this.filterable&&this.query&&this.options.length>0&&0===this.filteredOptionsCount?this.noMatchText||this.t("el.select.noMatch"):0===this.options.length?this.noDataText||this.t("el.select.noData"):null)},showNewOption:function(){var e=this,t=this.options.filter((function(e){return!e.created})).some((function(t){return t.currentLabel===e.query}));return this.filterable&&this.allowCreate&&""!==this.query&&!t},selectSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},selectDisabled:function(){return this.disabled||(this.elForm||{}).disabled},collapseTagSize:function(){return["small","mini"].indexOf(this.selectSize)>-1?"mini":"small"},propPlaceholder:function(){return"undefined"!==typeof this.placeholder?this.placeholder:this.t("el.select.placeholder")}},components:{ElInput:p.a,ElSelectMenu:M,ElOption:E["a"],ElTag:S.a,ElScrollbar:O.a},directives:{Clickoutside:R.a},props:{name:String,id:String,value:{required:!0},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(e){return!0}},automaticDropdown:Boolean,size:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:String,remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String,required:!1},defaultFirstOption:Boolean,reserveKeyword:Boolean,valueKey:{type:String,default:"value"},collapseTags:Boolean,popperAppendToBody:{type:Boolean,default:!0}},data:function(){return{options:[],cachedOptions:[],createdLabel:null,createdSelected:!1,selected:this.multiple?[]:{},inputLength:20,inputWidth:0,initialInputHeight:0,cachedPlaceHolder:"",optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,currentPlaceholder:"",menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1}},watch:{selectDisabled:function(){var e=this;this.$nextTick((function(){e.resetInputHeight()}))},propPlaceholder:function(e){this.cachedPlaceHolder=this.currentPlaceholder=e},value:function(e,t){this.multiple&&(this.resetInputHeight(),e&&e.length>0||this.$refs.input&&""!==this.query?this.currentPlaceholder="":this.currentPlaceholder=this.cachedPlaceHolder,this.filterable&&!this.reserveKeyword&&(this.query="",this.handleQueryChange(this.query))),this.setSelected(),this.filterable&&!this.multiple&&(this.inputLength=20),Object(L["valueEquals"])(e,t)||this.dispatch("ElFormItem","el.form.change",e)},visible:function(e){var t=this;e?(this.broadcast("ElSelectDropdown","updatePopper"),this.filterable&&(this.query=this.remote?"":this.selectedLabel,this.handleQueryChange(this.query),this.multiple?this.$refs.input.focus():(this.remote||(this.broadcast("ElOption","queryChange",""),this.broadcast("ElOptionGroup","queryChange")),this.selectedLabel&&(this.currentPlaceholder=this.selectedLabel,this.selectedLabel="")))):(this.broadcast("ElSelectDropdown","destroyPopper"),this.$refs.input&&this.$refs.input.blur(),this.query="",this.previousQuery=null,this.selectedLabel="",this.inputLength=20,this.menuVisibleOnFocus=!1,this.resetHoverIndex(),this.$nextTick((function(){t.$refs.input&&""===t.$refs.input.value&&0===t.selected.length&&(t.currentPlaceholder=t.cachedPlaceHolder)})),this.multiple||(this.selected&&(this.filterable&&this.allowCreate&&this.createdSelected&&this.createdLabel?this.selectedLabel=this.createdLabel:this.selectedLabel=this.selected.currentLabel,this.filterable&&(this.query=this.selectedLabel)),this.filterable&&(this.currentPlaceholder=this.cachedPlaceHolder))),this.$emit("visible-change",e)},options:function(){var e=this;if(!this.$isServer){this.$nextTick((function(){e.broadcast("ElSelectDropdown","updatePopper")})),this.multiple&&this.resetInputHeight();var t=this.$el.querySelectorAll("input");-1===[].indexOf.call(t,document.activeElement)&&this.setSelected(),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()}}},methods:{handleNavigate:function(e){this.isOnComposition||this.navigateOptions(e)},handleComposition:function(e){var t=this,n=e.target.value;if("compositionend"===e.type)this.isOnComposition=!1,this.$nextTick((function(e){return t.handleQueryChange(n)}));else{var r=n[n.length-1]||"";this.isOnComposition=!Object(x["isKorean"])(r)}},handleQueryChange:function(e){var t=this;this.previousQuery===e||this.isOnComposition||(null!==this.previousQuery||"function"!==typeof this.filterMethod&&"function"!==typeof this.remoteMethod?(this.previousQuery=e,this.$nextTick((function(){t.visible&&t.broadcast("ElSelectDropdown","updatePopper")})),this.hoverIndex=-1,this.multiple&&this.filterable&&this.$nextTick((function(){var e=15*t.$refs.input.value.length+20;t.inputLength=t.collapseTags?Math.min(50,e):e,t.managePlaceholder(),t.resetInputHeight()})),this.remote&&"function"===typeof this.remoteMethod?(this.hoverIndex=-1,this.remoteMethod(e)):"function"===typeof this.filterMethod?(this.filterMethod(e),this.broadcast("ElOptionGroup","queryChange")):(this.filteredOptionsCount=this.optionsCount,this.broadcast("ElOption","queryChange",e),this.broadcast("ElOptionGroup","queryChange")),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()):this.previousQuery=e)},scrollToOption:function(e){var t=Array.isArray(e)&&e[0]?e[0].$el:e.$el;if(this.$refs.popper&&t){var n=this.$refs.popper.$el.querySelector(".el-select-dropdown__wrap");k()(n,t)}this.$refs.scrollbar&&this.$refs.scrollbar.handleScroll()},handleMenuEnter:function(){var e=this;this.$nextTick((function(){return e.scrollToOption(e.selected)}))},emitChange:function(e){Object(L["valueEquals"])(this.value,e)||this.$emit("change",e)},getOption:function(e){for(var t=void 0,n="[object object]"===Object.prototype.toString.call(e).toLowerCase(),r="[object null]"===Object.prototype.toString.call(e).toLowerCase(),o="[object undefined]"===Object.prototype.toString.call(e).toLowerCase(),i=this.cachedOptions.length-1;i>=0;i--){var a=this.cachedOptions[i],s=n?Object(L["getValueByPath"])(a.value,this.valueKey)===Object(L["getValueByPath"])(e,this.valueKey):a.value===e;if(s){t=a;break}}if(t)return t;var c=n||r||o?"":String(e),u={value:e,currentLabel:c};return this.multiple&&(u.hitState=!1),u},setSelected:function(){var e=this;if(!this.multiple){var t=this.getOption(this.value);return t.created?(this.createdLabel=t.currentLabel,this.createdSelected=!0):this.createdSelected=!1,this.selectedLabel=t.currentLabel,this.selected=t,void(this.filterable&&(this.query=this.selectedLabel))}var n=[];Array.isArray(this.value)&&this.value.forEach((function(t){n.push(e.getOption(t))})),this.selected=n,this.$nextTick((function(){e.resetInputHeight()}))},handleFocus:function(e){this.softFocus?this.softFocus=!1:((this.automaticDropdown||this.filterable)&&(this.filterable&&!this.visible&&(this.menuVisibleOnFocus=!0),this.visible=!0),this.$emit("focus",e))},blur:function(){this.visible=!1,this.$refs.reference.blur()},handleBlur:function(e){var t=this;setTimeout((function(){t.isSilentBlur?t.isSilentBlur=!1:t.$emit("blur",e)}),50),this.softFocus=!1},handleClearClick:function(e){this.deleteSelected(e)},doDestroy:function(){this.$refs.popper&&this.$refs.popper.doDestroy()},handleClose:function(){this.visible=!1},toggleLastOptionHitState:function(e){if(Array.isArray(this.selected)){var t=this.selected[this.selected.length-1];if(t)return!0===e||!1===e?(t.hitState=e,e):(t.hitState=!t.hitState,t.hitState)}},deletePrevTag:function(e){if(e.target.value.length<=0&&!this.toggleLastOptionHitState()){var t=this.value.slice();t.pop(),this.$emit("input",t),this.emitChange(t)}},managePlaceholder:function(){""!==this.currentPlaceholder&&(this.currentPlaceholder=this.$refs.input.value?"":this.cachedPlaceHolder)},resetInputState:function(e){8!==e.keyCode&&this.toggleLastOptionHitState(!1),this.inputLength=15*this.$refs.input.value.length+20,this.resetInputHeight()},resetInputHeight:function(){var e=this;this.collapseTags&&!this.filterable||this.$nextTick((function(){if(e.$refs.reference){var t=e.$refs.reference.$el.childNodes,n=[].filter.call(t,(function(e){return"INPUT"===e.tagName}))[0],r=e.$refs.tags,o=r?Math.round(r.getBoundingClientRect().height):0,i=e.initialInputHeight||40;n.style.height=0===e.selected.length?i+"px":Math.max(r?o+(o>i?6:0):0,i)+"px",e.visible&&!1!==e.emptyText&&e.broadcast("ElSelectDropdown","updatePopper")}}))},resetHoverIndex:function(){var e=this;setTimeout((function(){e.multiple?e.selected.length>0?e.hoverIndex=Math.min.apply(null,e.selected.map((function(t){return e.options.indexOf(t)}))):e.hoverIndex=-1:e.hoverIndex=e.options.indexOf(e.selected)}),300)},handleOptionSelect:function(e,t){var n=this;if(this.multiple){var r=(this.value||[]).slice(),o=this.getValueIndex(r,e.value);o>-1?r.splice(o,1):(this.multipleLimit<=0||r.length<this.multipleLimit)&&r.push(e.value),this.$emit("input",r),this.emitChange(r),e.created&&(this.query="",this.handleQueryChange(""),this.inputLength=20),this.filterable&&this.$refs.input.focus()}else this.$emit("input",e.value),this.emitChange(e.value),this.visible=!1;this.isSilentBlur=t,this.setSoftFocus(),this.visible||this.$nextTick((function(){n.scrollToOption(e)}))},setSoftFocus:function(){this.softFocus=!0;var e=this.$refs.input||this.$refs.reference;e&&e.focus()},getValueIndex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n="[object object]"===Object.prototype.toString.call(t).toLowerCase();if(n){var r=this.valueKey,o=-1;return e.some((function(e,n){return Object(L["getValueByPath"])(e,r)===Object(L["getValueByPath"])(t,r)&&(o=n,!0)})),o}return e.indexOf(t)},toggleMenu:function(){this.selectDisabled||(this.menuVisibleOnFocus?this.menuVisibleOnFocus=!1:this.visible=!this.visible,this.visible&&(this.$refs.input||this.$refs.reference).focus())},selectOption:function(){this.visible?this.options[this.hoverIndex]&&this.handleOptionSelect(this.options[this.hoverIndex]):this.toggleMenu()},deleteSelected:function(e){e.stopPropagation();var t=this.multiple?[]:"";this.$emit("input",t),this.emitChange(t),this.visible=!1,this.$emit("clear")},deleteTag:function(e,t){var n=this.selected.indexOf(t);if(n>-1&&!this.selectDisabled){var r=this.value.slice();r.splice(n,1),this.$emit("input",r),this.emitChange(r),this.$emit("remove-tag",t.value)}e.stopPropagation()},onInputChange:function(){this.filterable&&this.query!==this.selectedLabel&&(this.query=this.selectedLabel,this.handleQueryChange(this.query))},onOptionDestroy:function(e){e>-1&&(this.optionsCount--,this.filteredOptionsCount--,this.options.splice(e,1))},resetInputWidth:function(){this.inputWidth=this.$refs.reference.$el.getBoundingClientRect().width},handleResize:function(){this.resetInputWidth(),this.multiple&&this.resetInputHeight()},checkDefaultFirstOption:function(){this.hoverIndex=-1;for(var e=!1,t=this.options.length-1;t>=0;t--)if(this.options[t].created){e=!0,this.hoverIndex=t;break}if(!e)for(var n=0;n!==this.options.length;++n){var r=this.options[n];if(this.query){if(!r.disabled&&!r.groupDisabled&&r.visible){this.hoverIndex=n;break}}else if(r.itemSelected){this.hoverIndex=n;break}}},getValueKey:function(e){return"[object object]"!==Object.prototype.toString.call(e.value).toLowerCase()?e.value:Object(L["getValueByPath"])(e.value,this.valueKey)}},created:function(){var e=this;this.cachedPlaceHolder=this.currentPlaceholder=this.propPlaceholder,this.multiple&&!Array.isArray(this.value)&&this.$emit("input",[]),!this.multiple&&Array.isArray(this.value)&&this.$emit("input",""),this.debouncedOnInputChange=A()(this.debounce,(function(){e.onInputChange()})),this.debouncedQueryChange=A()(this.debounce,(function(t){e.handleQueryChange(t.target.value)})),this.$on("handleOptionClick",this.handleOptionSelect),this.$on("setSelected",this.setSelected)},mounted:function(){var e=this;this.multiple&&Array.isArray(this.value)&&this.value.length>0&&(this.currentPlaceholder=""),Object(D["addResizeListener"])(this.$el,this.handleResize);var t=this.$refs.reference;if(t&&t.$el){var n={medium:36,small:32,mini:28},r=t.$el.querySelector("input");this.initialInputHeight=r.getBoundingClientRect().height||n[this.selectSize]}this.remote&&this.multiple&&this.resetInputHeight(),this.$nextTick((function(){t&&t.$el&&(e.inputWidth=t.$el.getBoundingClientRect().width)})),this.setSelected()},beforeDestroy:function(){this.$el&&this.handleResize&&Object(D["removeResizeListener"])(this.$el,this.handleResize)}},U=G,F=Object(y["a"])(U,r,o,!1,null,null,null);F.options.__file="packages/select/src/select.vue";var j=F.exports;j.install=function(e){e.component(j.name,j)};t["default"]=j}})},"4e71":function(e,t,n){n("e198")("observable")},"4ebc":function(e,t,n){var r=n("4d88");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"4fad":function(e,t,n){var r=n("d039"),o=n("861d"),i=n("c6b6"),a=n("d86b"),s=Object.isExtensible,c=r((function(){s(1)}));e.exports=c||a?function(e){return!!o(e)&&((!a||"ArrayBuffer"!=i(e))&&(!s||s(e)))}:s},5087:function(e,t,n){var r=n("68ee"),o=n("0d51"),i=TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not a constructor")}},"50c4":function(e,t,n){var r=n("5926"),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},"511f":function(e,t,n){n("0b99"),n("658f"),e.exports=n("fcd4").f("iterator")},5128:function(e,t,n){"use strict";t.__esModule=!0,t.PopupManager=void 0;var r=n("2b0e"),o=p(r),i=n("7f4d"),a=p(i),s=n("4b26"),c=p(s),u=n("e62d"),l=p(u),f=n("5924");function p(e){return e&&e.__esModule?e:{default:e}}var d=1,h=void 0;t.default={props:{visible:{type:Boolean,default:!1},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},beforeMount:function(){this._popupId="popup-"+d++,c.default.register(this._popupId,this)},beforeDestroy:function(){c.default.deregister(this._popupId),c.default.closeModal(this._popupId),this.restoreBodyStyle()},data:function(){return{opened:!1,bodyPaddingRight:null,computedBodyPaddingRight:0,withoutHiddenClass:!0,rendered:!1}},watch:{visible:function(e){var t=this;if(e){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,o.default.nextTick((function(){t.open()})))}else this.close()}},methods:{open:function(e){var t=this;this.rendered||(this.rendered=!0);var n=(0,a.default)({},this.$props||this,e);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);var r=Number(n.openDelay);r>0?this._openTimer=setTimeout((function(){t._openTimer=null,t.doOpen(n)}),r):this.doOpen(n)},doOpen:function(e){if(!this.$isServer&&(!this.willOpen||this.willOpen())&&!this.opened){this._opening=!0;var t=this.$el,n=e.modal,r=e.zIndex;if(r&&(c.default.zIndex=r),n&&(this._closing&&(c.default.closeModal(this._popupId),this._closing=!1),c.default.openModal(this._popupId,c.default.nextZIndex(),this.modalAppendToBody?void 0:t,e.modalClass,e.modalFade),e.lockScroll)){this.withoutHiddenClass=!(0,f.hasClass)(document.body,"el-popup-parent--hidden"),this.withoutHiddenClass&&(this.bodyPaddingRight=document.body.style.paddingRight,this.computedBodyPaddingRight=parseInt((0,f.getStyle)(document.body,"paddingRight"),10)),h=(0,l.default)();var o=document.documentElement.clientHeight<document.body.scrollHeight,i=(0,f.getStyle)(document.body,"overflowY");h>0&&(o||"scroll"===i)&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.computedBodyPaddingRight+h+"px"),(0,f.addClass)(document.body,"el-popup-parent--hidden")}"static"===getComputedStyle(t).position&&(t.style.position="absolute"),t.style.zIndex=c.default.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.doAfterOpen()}},doAfterOpen:function(){this._opening=!1},close:function(){var e=this;if(!this.willClose||this.willClose()){null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);var t=Number(this.closeDelay);t>0?this._closeTimer=setTimeout((function(){e._closeTimer=null,e.doClose()}),t):this.doClose()}},doClose:function(){this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose()},doAfterClose:function(){c.default.closeModal(this._popupId),this._closing=!1},restoreBodyStyle:function(){this.modal&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.bodyPaddingRight,(0,f.removeClass)(document.body,"el-popup-parent--hidden")),this.withoutHiddenClass=!0}}},t.PopupManager=c.default},"512c":function(e,t,n){var r=n("ef08"),o=n("5524"),i=n("9c0c"),a=n("051b"),s=n("9c0e"),c="prototype",u=function(e,t,n){var l,f,p,d=e&u.F,h=e&u.G,g=e&u.S,v=e&u.P,m=e&u.B,_=e&u.W,y=h?o:o[t]||(o[t]={}),b=y[c],M=h?r:g?r[t]:(r[t]||{})[c];for(l in h&&(n=t),n)f=!d&&M&&void 0!==M[l],f&&s(y,l)||(p=f?M[l]:n[l],y[l]=h&&"function"!=typeof M[l]?n[l]:m&&f?i(p,r):_&&M[l]==p?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[c]=e[c],t}(p):v&&"function"==typeof p?i(Function.call,p):p,v&&((y.virtual||(y.virtual={}))[l]=p,e&u.R&&b&&!b[l]&&a(b,l,p)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},"512ce":function(e,t,n){var r=n("342f"),o=r.match(/AppleWebKit\/(\d+)\./);e.exports=!!o&&+o[1]},5270:function(e,t,n){"use strict";var r=n("c532"),o=n("c401"),i=n("2e67"),a=n("2444"),s=n("7a77");function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){c(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||a.adapter;return t(e).then((function(t){return c(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},5319:function(e,t,n){"use strict";var r=n("2ba4"),o=n("c65b"),i=n("e330"),a=n("d784"),s=n("d039"),c=n("825a"),u=n("1626"),l=n("5926"),f=n("50c4"),p=n("577e"),d=n("1d80"),h=n("8aa5"),g=n("dc4a"),v=n("0cb2"),m=n("14c3"),_=n("b622"),y=_("replace"),b=Math.max,M=Math.min,E=i([].concat),I=i([].push),S=i("".indexOf),T=i("".slice),O=function(e){return void 0===e?e:String(e)},C=function(){return"$0"==="a".replace(/./,"$0")}(),A=function(){return!!/./[y]&&""===/./[y]("a","$0")}(),w=!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));a("replace",(function(e,t,n){var i=A?"$":"$0";return[function(e,n){var r=d(this),i=void 0==e?void 0:g(e,y);return i?o(i,e,r,n):o(t,p(r),e,n)},function(e,o){var a=c(this),s=p(e);if("string"==typeof o&&-1===S(o,i)&&-1===S(o,"$<")){var d=n(t,a,s,o);if(d.done)return d.value}var g=u(o);g||(o=p(o));var _=a.global;if(_){var y=a.unicode;a.lastIndex=0}var C=[];while(1){var A=m(a,s);if(null===A)break;if(I(C,A),!_)break;var w=p(A[0]);""===w&&(a.lastIndex=h(s,f(a.lastIndex),y))}for(var R="",D=0,N=0;N<C.length;N++){A=C[N];for(var k=p(A[0]),L=b(M(l(A.index),s.length),0),P=[],x=1;x<A.length;x++)I(P,O(A[x]));var G=A.groups;if(g){var U=E([k],P,L,s);void 0!==G&&I(U,G);var F=p(r(o,void 0,U))}else F=v(k,s,L,P,G,o);L>=D&&(R+=T(s,D,L)+F,D=L+k.length)}return R+T(s,D)}]}),!w||!C||A)},5377:function(e,t,n){var r=n("83ab"),o=n("edd0"),i=n("ad6d"),a=n("d039"),s=RegExp.prototype,c=r&&a((function(){return"sy"!==Object.getOwnPropertyDescriptor(s,"flags").get.call({dotAll:!0,sticky:!0})}));c&&o(s,"flags",{configurable:!0,get:i})},5488:function(e,t,n){"use strict";t.__esModule=!0;var r=n("5924");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(){o(this,e)}return e.prototype.beforeEnter=function(e){(0,r.addClass)(e,"collapse-transition"),e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height="0",e.style.paddingTop=0,e.style.paddingBottom=0},e.prototype.enter=function(e){e.dataset.oldOverflow=e.style.overflow,0!==e.scrollHeight?(e.style.height=e.scrollHeight+"px",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom):(e.style.height="",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom),e.style.overflow="hidden"},e.prototype.afterEnter=function(e){(0,r.removeClass)(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow},e.prototype.beforeLeave=function(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.height=e.scrollHeight+"px",e.style.overflow="hidden"},e.prototype.leave=function(e){0!==e.scrollHeight&&((0,r.addClass)(e,"collapse-transition"),e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)},e.prototype.afterLeave=function(e){(0,r.removeClass)(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},e}();t.default={name:"ElCollapseTransition",functional:!0,render:function(e,t){var n=t.children,r={on:new i};return e("transition",r,n)}}},5524:function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},5530:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("b64b"),n("a4d3"),n("4de4"),n("d3b7"),n("e439"),n("159b"),n("dbb4");function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},5692:function(e,t,n){var r=n("c430"),o=n("c6cd");(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.22.8",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.8/LICENSE",source:"https://github.com/zloirock/core-js"})},"56ef":function(e,t,n){var r=n("d066"),o=n("e330"),i=n("241c"),a=n("7418"),s=n("825a"),c=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=a.f;return n?c(t,n(e)):t}},"577e":function(e,t,n){var r=n("f5df"),o=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},"57b9":function(e,t,n){var r=n("c65b"),o=n("d066"),i=n("b622"),a=n("cb2d");e.exports=function(){var e=o("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,s=i("toPrimitive");t&&!t[s]&&a(t,s,(function(e){return r(n,this)}),{arity:1})}},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("e330"),o=n("1d80"),i=n("577e"),a=n("5899"),s=r("".replace),c="["+a+"]",u=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),f=function(e){return function(t){var n=i(o(t));return 1&e&&(n=s(n,u,"")),2&e&&(n=s(n,l,"")),n}};e.exports={start:f(1),end:f(2),trim:f(3)}},"58e0":function(e,t,n){"use strict";(function(e){var r=n("26ee"),o=n("2f74"),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i,c=s?r["a"].Buffer:void 0,u=c?c.isBuffer:void 0,l=u||o["a"];t["a"]=l}).call(this,n("dd40")(e))},5924:function(e,t,n){"use strict";t.__esModule=!0,t.isInContainer=t.getScrollContainer=t.isScroll=t.getStyle=t.once=t.off=t.on=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.hasClass=g,t.addClass=v,t.removeClass=m,t.setStyle=y;var o=n("2b0e"),i=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var s=i.default.prototype.$isServer,c=/([\:\-\_]+(.))/g,u=/^moz([A-Z])/,l=s?0:Number(document.documentMode),f=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},p=function(e){return e.replace(c,(function(e,t,n,r){return r?n.toUpperCase():n})).replace(u,"Moz$1")},d=t.on=function(){return!s&&document.addEventListener?function(e,t,n){e&&t&&n&&e.addEventListener(t,n,!1)}:function(e,t,n){e&&t&&n&&e.attachEvent("on"+t,n)}}(),h=t.off=function(){return!s&&document.removeEventListener?function(e,t,n){e&&t&&e.removeEventListener(t,n,!1)}:function(e,t,n){e&&t&&e.detachEvent("on"+t,n)}}();t.once=function(e,t,n){var r=function r(){n&&n.apply(this,arguments),h(e,t,r)};d(e,t,r)};function g(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}function v(e,t){if(e){for(var n=e.className,r=(t||"").split(" "),o=0,i=r.length;o<i;o++){var a=r[o];a&&(e.classList?e.classList.add(a):g(e,a)||(n+=" "+a))}e.classList||e.setAttribute("class",n)}}function m(e,t){if(e&&t){for(var n=t.split(" "),r=" "+e.className+" ",o=0,i=n.length;o<i;o++){var a=n[o];a&&(e.classList?e.classList.remove(a):g(e,a)&&(r=r.replace(" "+a+" "," ")))}e.classList||e.setAttribute("class",f(r))}}var _=t.getStyle=l<9?function(e,t){if(!s){if(!e||!t)return null;t=p(t),"float"===t&&(t="styleFloat");try{switch(t){case"opacity":try{return e.filters.item("alpha").opacity/100}catch(n){return 1}default:return e.style[t]||e.currentStyle?e.currentStyle[t]:null}}catch(n){return e.style[t]}}}:function(e,t){if(!s){if(!e||!t)return null;t=p(t),"float"===t&&(t="cssFloat");try{var n=document.defaultView.getComputedStyle(e,"");return e.style[t]||n?n[t]:null}catch(r){return e.style[t]}}};function y(e,t,n){if(e&&t)if("object"===("undefined"===typeof t?"undefined":r(t)))for(var o in t)t.hasOwnProperty(o)&&y(e,o,t[o]);else t=p(t),"opacity"===t&&l<9?e.style.filter=isNaN(n)?"":"alpha(opacity="+100*n+")":e.style[t]=n}var b=t.isScroll=function(e,t){if(!s){var n=null!==t&&void 0!==t,r=_(e,n?t?"overflow-y":"overflow-x":"overflow");return r.match(/(scroll|auto|overlay)/)}};t.getScrollContainer=function(e,t){if(!s){var n=e;while(n){if([window,document,document.documentElement].includes(n))return window;if(b(n,t))return n;n=n.parentNode}return n}},t.isInContainer=function(e,t){if(s||!e||!t)return!1;var n=e.getBoundingClientRect(),r=void 0;return r=[window,document,document.documentElement,null,void 0].includes(t)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:t.getBoundingClientRect(),n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right}},5926:function(e,t,n){var r=n("b42e");e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},"597f":function(e,t){e.exports=function(e,t,n,r){var o,i=0;function a(){var a=this,s=Number(new Date)-i,c=arguments;function u(){i=Number(new Date),n.apply(a,c)}function l(){o=void 0}r&&!o&&u(),o&&clearTimeout(o),void 0===r&&s>e?u():!0!==t&&(o=setTimeout(r?l:u,void 0===r?e-s:e))}return"boolean"!==typeof t&&(r=n,n=t,t=void 0),a}},5980:function(e,t,n){(function(t,r){e.exports=r(n("21bf"))})(0,(function(e){(function(){var t=e,n=t.lib,r=n.Base,o=t.enc,i=o.Utf8,a=t.algo;a.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),s=o.words,c=a.words,u=0;u<n;u++)s[u]^=1549556828,c[u]^=909522486;o.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);t.reset();var r=t.finalize(this._oKey.clone().concat(n));return r}})})()}))},"59ed":function(e,t,n){var r=n("1626"),o=n("0d51"),i=TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not a function")}},"5a34":function(e,t,n){var r=n("44e7"),o=TypeError;e.exports=function(e){if(r(e))throw o("The method doesn't accept regular expressions");return e}},"5a47":function(e,t,n){var r=n("23e7"),o=n("4930"),i=n("d039"),a=n("7418"),s=n("7b0b"),c=!o||i((function(){a.f(1)}));r({target:"Object",stat:!0,forced:c},{getOwnPropertySymbols:function(e){var t=a.f;return t?t(s(e)):[]}})},"5a94":function(e,t,n){var r=n("b367")("keys"),o=n("8b1a");e.exports=function(e){return r[e]||(r[e]=o(e))}},"5bc3":function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5cc6":function(e,t,n){var r=n("74e8");r("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"5cce":function(e,t){e.exports={version:"0.24.0"}},"5e77":function(e,t,n){var r=n("83ab"),o=n("1a2d"),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=o(i,"name"),c=s&&"something"===function(){}.name,u=s&&(!r||r&&a(i,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},"5e7e":function(e,t,n){"use strict";var r,o,i,a,s=n("23e7"),c=n("c430"),u=n("605d"),l=n("da84"),f=n("c65b"),p=n("cb2d"),d=n("d2bb"),h=n("d44e"),g=n("2626"),v=n("59ed"),m=n("1626"),_=n("861d"),y=n("19aa"),b=n("4840"),M=n("2cf4").set,E=n("b575"),I=n("44de"),S=n("e667"),T=n("01b4"),O=n("69f3"),C=n("d256"),A=n("4738"),w=n("f069"),R="Promise",D=A.CONSTRUCTOR,N=A.REJECTION_EVENT,k=A.SUBCLASSING,L=O.getterFor(R),P=O.set,x=C&&C.prototype,G=C,U=x,F=l.TypeError,j=l.document,q=l.process,B=w.f,V=B,$=!!(j&&j.createEvent&&l.dispatchEvent),H="unhandledrejection",K="rejectionhandled",W=0,z=1,Y=2,J=1,X=2,Q=function(e){var t;return!(!_(e)||!m(t=e.then))&&t},Z=function(e,t){var n,r,o,i=t.value,a=t.state==z,s=a?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(a||(t.rejection===X&&oe(t),t.rejection=J),!0===s?n=i:(l&&l.enter(),n=s(i),l&&(l.exit(),o=!0)),n===e.promise?u(F("Promise-chain cycle")):(r=Q(n))?f(r,n,c,u):c(n)):u(i)}catch(p){l&&!o&&l.exit(),u(p)}},ee=function(e,t){e.notified||(e.notified=!0,E((function(){var n,r=e.reactions;while(n=r.get())Z(n,e);e.notified=!1,t&&!e.rejection&&ne(e)})))},te=function(e,t,n){var r,o;$?(r=j.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},!N&&(o=l["on"+e])?o(r):e===H&&I("Unhandled promise rejection",n)},ne=function(e){f(M,l,(function(){var t,n=e.facade,r=e.value,o=re(e);if(o&&(t=S((function(){u?q.emit("unhandledRejection",r,n):te(H,n,r)})),e.rejection=u||re(e)?X:J,t.error))throw t.value}))},re=function(e){return e.rejection!==J&&!e.parent},oe=function(e){f(M,l,(function(){var t=e.facade;u?q.emit("rejectionHandled",t):te(K,t,e.value)}))},ie=function(e,t,n){return function(r){e(t,r,n)}},ae=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=Y,ee(e,!0))},se=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw F("Promise can't be resolved itself");var r=Q(t);r?E((function(){var n={done:!1};try{f(r,t,ie(se,n,e),ie(ae,n,e))}catch(o){ae(n,o,e)}})):(e.value=t,e.state=z,ee(e,!1))}catch(o){ae({done:!1},o,e)}}};if(D&&(G=function(e){y(this,U),v(e),f(r,this);var t=L(this);try{e(ie(se,t),ie(ae,t))}catch(n){ae(t,n)}},U=G.prototype,r=function(e){P(this,{type:R,done:!1,notified:!1,parent:!1,reactions:new T,rejection:!1,state:W,value:void 0})},r.prototype=p(U,"then",(function(e,t){var n=L(this),r=B(b(this,G));return n.parent=!0,r.ok=!m(e)||e,r.fail=m(t)&&t,r.domain=u?q.domain:void 0,n.state==W?n.reactions.add(r):E((function(){Z(r,n)})),r.promise})),o=function(){var e=new r,t=L(e);this.promise=e,this.resolve=ie(se,t),this.reject=ie(ae,t)},w.f=B=function(e){return e===G||e===i?new o(e):V(e)},!c&&m(C)&&x!==Object.prototype)){a=x.then,k||p(x,"then",(function(e,t){var n=this;return new G((function(e,t){f(a,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete x.constructor}catch(ce){}d&&d(x,U)}s({global:!0,constructor:!0,wrap:!0,forced:D},{Promise:G}),h(G,R,!1,!0),g(R)},"5ea3":function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t["a"]=n}).call(this,n("c8ba"))},"5eed":function(e,t,n){var r=n("d256"),o=n("1c7e"),i=n("4738").CONSTRUCTOR;e.exports=i||!o((function(e){r.all(e).then(void 0,(function(){}))}))},"5f02":function(e,t,n){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},"5f96":function(e,t,n){"use strict";var r=n("ebb5"),o=n("e330"),i=r.aTypedArray,a=r.exportTypedArrayMethod,s=o([].join);a("join",(function(e){return s(i(this),e)}))},"605d":function(e,t,n){var r=n("c6b6"),o=n("da84");e.exports="process"==r(o.process)},6069:function(e,t){e.exports="object"==typeof window&&"object"!=typeof Deno},"60bd":function(e,t,n){"use strict";var r=n("da84"),o=n("d039"),i=n("e330"),a=n("ebb5"),s=n("e260"),c=n("b622"),u=c("iterator"),l=r.Uint8Array,f=i(s.values),p=i(s.keys),d=i(s.entries),h=a.aTypedArray,g=a.exportTypedArrayMethod,v=l&&l.prototype,m=!o((function(){v[u].call([1])})),_=!!v&&v.values&&v[u]===v.values&&"values"===v.values.name,y=function(){return f(h(this))};g("entries",(function(){return d(h(this))}),m),g("keys",(function(){return p(h(this))}),m),g("values",y,m||!_,{name:"values"}),g(u,y,m||!_,{name:"values"})},"60da":function(e,t,n){"use strict";var r=n("83ab"),o=n("e330"),i=n("c65b"),a=n("d039"),s=n("df75"),c=n("7418"),u=n("d1e7"),l=n("7b0b"),f=n("44ad"),p=Object.assign,d=Object.defineProperty,h=o([].concat);e.exports=!p||a((function(){if(r&&1!==p({b:1},p(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach((function(e){t[e]=e})),7!=p({},e)[n]||s(p({},t)).join("")!=o}))?function(e,t){var n=l(e),o=arguments.length,a=1,p=c.f,d=u.f;while(o>a){var g,v=f(arguments[a++]),m=p?h(s(v),p(v)):s(v),_=m.length,y=0;while(_>y)g=m[y++],r&&!i(d,v,g)||(n[g]=v[g])}return n}:p},6167:function(e,t,n){"use strict";var r,o;"function"===typeof Symbol&&Symbol.iterator;(function(i,a){r=a,o="function"===typeof r?r.call(t,n,t,e):r,void 0===o||(e.exports=o)})(0,(function(){var e=window,t={placement:"bottom",gpuAcceleration:!0,offset:0,boundariesElement:"viewport",boundariesPadding:5,preventOverflowOrder:["left","right","top","bottom"],flipBehavior:"flip",arrowElement:"[x-arrow]",arrowOffset:0,modifiers:["shift","offset","preventOverflow","keepTogether","arrow","flip","applyStyle"],modifiersIgnored:[],forceAbsolute:!1};function n(e,n,r){this._reference=e.jquery?e[0]:e,this.state={};var o="undefined"===typeof n||null===n,i=n&&"[object Object]"===Object.prototype.toString.call(n);return this._popper=o||i?this.parse(i?n:{}):n.jquery?n[0]:n,this._options=Object.assign({},t,r),this._options.modifiers=this._options.modifiers.map(function(e){if(-1===this._options.modifiersIgnored.indexOf(e))return"applyStyle"===e&&this._popper.setAttribute("x-placement",this._options.placement),this.modifiers[e]||e}.bind(this)),this.state.position=this._getPosition(this._popper,this._reference),f(this._popper,{position:this.state.position,top:0}),this.update(),this._setupEventListeners(),this}function r(t){var n=t.style.display,r=t.style.visibility;t.style.display="block",t.style.visibility="hidden";t.offsetWidth;var o=e.getComputedStyle(t),i=parseFloat(o.marginTop)+parseFloat(o.marginBottom),a=parseFloat(o.marginLeft)+parseFloat(o.marginRight),s={width:t.offsetWidth+a,height:t.offsetHeight+i};return t.style.display=n,t.style.visibility=r,s}function o(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function i(e){var t=Object.assign({},e);return t.right=t.left+t.width,t.bottom=t.top+t.height,t}function a(e,t){var n,r=0;for(n in e){if(e[n]===t)return r;r++}return null}function s(t,n){var r=e.getComputedStyle(t,null);return r[n]}function c(t){var n=t.offsetParent;return n!==e.document.body&&n?n:e.document.documentElement}function u(t){var n=t.parentNode;return n?n===e.document?e.document.body.scrollTop||e.document.body.scrollLeft?e.document.body:e.document.documentElement:-1!==["scroll","auto"].indexOf(s(n,"overflow"))||-1!==["scroll","auto"].indexOf(s(n,"overflow-x"))||-1!==["scroll","auto"].indexOf(s(n,"overflow-y"))?n:u(t.parentNode):t}function l(t){return t!==e.document.body&&("fixed"===s(t,"position")||(t.parentNode?l(t.parentNode):t))}function f(e,t){function n(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}Object.keys(t).forEach((function(r){var o="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&n(t[r])&&(o="px"),e.style[r]=t[r]+o}))}function p(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function d(e){var t={width:e.offsetWidth,height:e.offsetHeight,left:e.offsetLeft,top:e.offsetTop};return t.right=t.left+t.width,t.bottom=t.top+t.height,t}function h(e){var t=e.getBoundingClientRect(),n=-1!=navigator.userAgent.indexOf("MSIE"),r=n&&"HTML"===e.tagName?-e.scrollTop:t.top;return{left:t.left,top:r,right:t.right,bottom:t.bottom,width:t.right-t.left,height:t.bottom-r}}function g(e,t,n){var r=h(e),o=h(t);if(n){var i=u(t);o.top+=i.scrollTop,o.bottom+=i.scrollTop,o.left+=i.scrollLeft,o.right+=i.scrollLeft}var a={top:r.top-o.top,left:r.left-o.left,bottom:r.top-o.top+r.height,right:r.left-o.left+r.width,width:r.width,height:r.height};return a}function v(t){for(var n=["","ms","webkit","moz","o"],r=0;r<n.length;r++){var o=n[r]?n[r]+t.charAt(0).toUpperCase()+t.slice(1):t;if("undefined"!==typeof e.document.body.style[o])return o}return null}return n.prototype.destroy=function(){return this._popper.removeAttribute("x-placement"),this._popper.style.left="",this._popper.style.position="",this._popper.style.top="",this._popper.style[v("transform")]="",this._removeEventListeners(),this._options.removeOnDestroy&&this._popper.remove(),this},n.prototype.update=function(){var e={instance:this,styles:{}};e.placement=this._options.placement,e._originalPlacement=this._options.placement,e.offsets=this._getOffsets(this._popper,this._reference,e.placement),e.boundaries=this._getBoundaries(e,this._options.boundariesPadding,this._options.boundariesElement),e=this.runModifiers(e,this._options.modifiers),"function"===typeof this.state.updateCallback&&this.state.updateCallback(e)},n.prototype.onCreate=function(e){return e(this),this},n.prototype.onUpdate=function(e){return this.state.updateCallback=e,this},n.prototype.parse=function(t){var n={tagName:"div",classNames:["popper"],attributes:[],parent:e.document.body,content:"",contentType:"text",arrowTagName:"div",arrowClassNames:["popper__arrow"],arrowAttributes:["x-arrow"]};t=Object.assign({},n,t);var r=e.document,o=r.createElement(t.tagName);if(s(o,t.classNames),c(o,t.attributes),"node"===t.contentType?o.appendChild(t.content.jquery?t.content[0]:t.content):"html"===t.contentType?o.innerHTML=t.content:o.textContent=t.content,t.arrowTagName){var i=r.createElement(t.arrowTagName);s(i,t.arrowClassNames),c(i,t.arrowAttributes),o.appendChild(i)}var a=t.parent.jquery?t.parent[0]:t.parent;if("string"===typeof a){if(a=r.querySelectorAll(t.parent),a.length>1&&console.warn("WARNING: the given `parent` query("+t.parent+") matched more than one element, the first one will be used"),0===a.length)throw"ERROR: the given `parent` doesn't exists!";a=a[0]}return a.length>1&&a instanceof Element===!1&&(console.warn("WARNING: you have passed as parent a list of elements, the first one will be used"),a=a[0]),a.appendChild(o),o;function s(e,t){t.forEach((function(t){e.classList.add(t)}))}function c(e,t){t.forEach((function(t){e.setAttribute(t.split(":")[0],t.split(":")[1]||"")}))}},n.prototype._getPosition=function(e,t){var n=c(t);if(this._options.forceAbsolute)return"absolute";var r=l(t,n);return r?"fixed":"absolute"},n.prototype._getOffsets=function(e,t,n){n=n.split("-")[0];var o={};o.position=this.state.position;var i="fixed"===o.position,a=g(t,c(e),i),s=r(e);return-1!==["right","left"].indexOf(n)?(o.top=a.top+a.height/2-s.height/2,o.left="left"===n?a.left-s.width:a.right):(o.left=a.left+a.width/2-s.width/2,o.top="top"===n?a.top-s.height:a.bottom),o.width=s.width,o.height=s.height,{popper:o,reference:a}},n.prototype._setupEventListeners=function(){if(this.state.updateBound=this.update.bind(this),e.addEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement){var t=u(this._reference);t!==e.document.body&&t!==e.document.documentElement||(t=e),t.addEventListener("scroll",this.state.updateBound),this.state.scrollTarget=t}},n.prototype._removeEventListeners=function(){e.removeEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement&&this.state.scrollTarget&&(this.state.scrollTarget.removeEventListener("scroll",this.state.updateBound),this.state.scrollTarget=null),this.state.updateBound=null},n.prototype._getBoundaries=function(t,n,r){var o,i,a={};if("window"===r){var s=e.document.body,l=e.document.documentElement;i=Math.max(s.scrollHeight,s.offsetHeight,l.clientHeight,l.scrollHeight,l.offsetHeight),o=Math.max(s.scrollWidth,s.offsetWidth,l.clientWidth,l.scrollWidth,l.offsetWidth),a={top:0,right:o,bottom:i,left:0}}else if("viewport"===r){var f=c(this._popper),p=u(this._popper),h=d(f),g=function(e){return e==document.body?Math.max(document.documentElement.scrollTop,document.body.scrollTop):e.scrollTop},v=function(e){return e==document.body?Math.max(document.documentElement.scrollLeft,document.body.scrollLeft):e.scrollLeft},m="fixed"===t.offsets.popper.position?0:g(p),_="fixed"===t.offsets.popper.position?0:v(p);a={top:0-(h.top-m),right:e.document.documentElement.clientWidth-(h.left-_),bottom:e.document.documentElement.clientHeight-(h.top-m),left:0-(h.left-_)}}else a=c(this._popper)===r?{top:0,left:0,right:r.clientWidth,bottom:r.clientHeight}:d(r);return a.left+=n,a.right-=n,a.top=a.top+n,a.bottom=a.bottom-n,a},n.prototype.runModifiers=function(e,t,n){var r=t.slice();return void 0!==n&&(r=this._options.modifiers.slice(0,a(this._options.modifiers,n))),r.forEach(function(t){p(t)&&(e=t.call(this,e))}.bind(this)),e},n.prototype.isModifierRequired=function(e,t){var n=a(this._options.modifiers,e);return!!this._options.modifiers.slice(0,n).filter((function(e){return e===t})).length},n.prototype.modifiers={},n.prototype.modifiers.applyStyle=function(e){var t,n={position:e.offsets.popper.position},r=Math.round(e.offsets.popper.left),o=Math.round(e.offsets.popper.top);return this._options.gpuAcceleration&&(t=v("transform"))?(n[t]="translate3d("+r+"px, "+o+"px, 0)",n.top=0,n.left=0):(n.left=r,n.top=o),Object.assign(n,e.styles),f(this._popper,n),this._popper.setAttribute("x-placement",e.placement),this.isModifierRequired(this.modifiers.applyStyle,this.modifiers.arrow)&&e.offsets.arrow&&f(e.arrowElement,e.offsets.arrow),e},n.prototype.modifiers.shift=function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets.reference,a=i(e.offsets.popper),s={y:{start:{top:o.top},end:{top:o.top+o.height-a.height}},x:{start:{left:o.left},end:{left:o.left+o.width-a.width}}},c=-1!==["bottom","top"].indexOf(n)?"x":"y";e.offsets.popper=Object.assign(a,s[c][r])}return e},n.prototype.modifiers.preventOverflow=function(e){var t=this._options.preventOverflowOrder,n=i(e.offsets.popper),r={left:function(){var t=n.left;return n.left<e.boundaries.left&&(t=Math.max(n.left,e.boundaries.left)),{left:t}},right:function(){var t=n.left;return n.right>e.boundaries.right&&(t=Math.min(n.left,e.boundaries.right-n.width)),{left:t}},top:function(){var t=n.top;return n.top<e.boundaries.top&&(t=Math.max(n.top,e.boundaries.top)),{top:t}},bottom:function(){var t=n.top;return n.bottom>e.boundaries.bottom&&(t=Math.min(n.top,e.boundaries.bottom-n.height)),{top:t}}};return t.forEach((function(t){e.offsets.popper=Object.assign(n,r[t]())})),e},n.prototype.modifiers.keepTogether=function(e){var t=i(e.offsets.popper),n=e.offsets.reference,r=Math.floor;return t.right<r(n.left)&&(e.offsets.popper.left=r(n.left)-t.width),t.left>r(n.right)&&(e.offsets.popper.left=r(n.right)),t.bottom<r(n.top)&&(e.offsets.popper.top=r(n.top)-t.height),t.top>r(n.bottom)&&(e.offsets.popper.top=r(n.bottom)),e},n.prototype.modifiers.flip=function(e){if(!this.isModifierRequired(this.modifiers.flip,this.modifiers.preventOverflow))return console.warn("WARNING: preventOverflow modifier is required by flip modifier in order to work, be sure to include it before flip!"),e;if(e.flipped&&e.placement===e._originalPlacement)return e;var t=e.placement.split("-")[0],n=o(t),r=e.placement.split("-")[1]||"",a=[];return a="flip"===this._options.flipBehavior?[t,n]:this._options.flipBehavior,a.forEach(function(s,c){if(t===s&&a.length!==c+1){t=e.placement.split("-")[0],n=o(t);var u=i(e.offsets.popper),l=-1!==["right","bottom"].indexOf(t);(l&&Math.floor(e.offsets.reference[t])>Math.floor(u[n])||!l&&Math.floor(e.offsets.reference[t])<Math.floor(u[n]))&&(e.flipped=!0,e.placement=a[c+1],r&&(e.placement+="-"+r),e.offsets.popper=this._getOffsets(this._popper,this._reference,e.placement).popper,e=this.runModifiers(e,this._options.modifiers,this._flip))}}.bind(this)),e},n.prototype.modifiers.offset=function(e){var t=this._options.offset,n=e.offsets.popper;return-1!==e.placement.indexOf("left")?n.top-=t:-1!==e.placement.indexOf("right")?n.top+=t:-1!==e.placement.indexOf("top")?n.left-=t:-1!==e.placement.indexOf("bottom")&&(n.left+=t),e},n.prototype.modifiers.arrow=function(e){var t=this._options.arrowElement,n=this._options.arrowOffset;if("string"===typeof t&&(t=this._popper.querySelector(t)),!t)return e;if(!this._popper.contains(t))return console.warn("WARNING: `arrowElement` must be child of its popper element!"),e;if(!this.isModifierRequired(this.modifiers.arrow,this.modifiers.keepTogether))return console.warn("WARNING: keepTogether modifier is required by arrow modifier in order to work, be sure to include it before arrow!"),e;var o={},a=e.placement.split("-")[0],s=i(e.offsets.popper),c=e.offsets.reference,u=-1!==["left","right"].indexOf(a),l=u?"height":"width",f=u?"top":"left",p=u?"left":"top",d=u?"bottom":"right",h=r(t)[l];c[d]-h<s[f]&&(e.offsets.popper[f]-=s[f]-(c[d]-h)),c[f]+h>s[d]&&(e.offsets.popper[f]+=c[f]+h-s[d]);var g=c[f]+(n||c[l]/2-h/2),v=g-s[f];return v=Math.max(Math.min(s[l]-h-8,v),8),o[f]=v,o[p]="",e.offsets.arrow=o,e.arrowElement=t,e},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r){r=Object(r);for(var o=Object.keys(r),i=0,a=o.length;i<a;i++){var s=o[i],c=Object.getOwnPropertyDescriptor(r,s);void 0!==c&&c.enumerable&&(t[s]=r[s])}}}return t}}),n}))},"621a":function(e,t,n){"use strict";var r=n("da84"),o=n("e330"),i=n("83ab"),a=n("a981"),s=n("5e77"),c=n("9112"),u=n("6964"),l=n("d039"),f=n("19aa"),p=n("5926"),d=n("50c4"),h=n("0b25"),g=n("77a7"),v=n("e163"),m=n("d2bb"),_=n("241c").f,y=n("9bf2").f,b=n("81d5"),M=n("4dae"),E=n("d44e"),I=n("69f3"),S=s.PROPER,T=s.CONFIGURABLE,O=I.get,C=I.set,A="ArrayBuffer",w="DataView",R="prototype",D="Wrong length",N="Wrong index",k=r[A],L=k,P=L&&L[R],x=r[w],G=x&&x[R],U=Object.prototype,F=r.Array,j=r.RangeError,q=o(b),B=o([].reverse),V=g.pack,$=g.unpack,H=function(e){return[255&e]},K=function(e){return[255&e,e>>8&255]},W=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},z=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Y=function(e){return V(e,23,4)},J=function(e){return V(e,52,8)},X=function(e,t){y(e[R],t,{get:function(){return O(this)[t]}})},Q=function(e,t,n,r){var o=h(n),i=O(e);if(o+t>i.byteLength)throw j(N);var a=O(i.buffer).bytes,s=o+i.byteOffset,c=M(a,s,s+t);return r?c:B(c)},Z=function(e,t,n,r,o,i){var a=h(n),s=O(e);if(a+t>s.byteLength)throw j(N);for(var c=O(s.buffer).bytes,u=a+s.byteOffset,l=r(+o),f=0;f<t;f++)c[u+f]=l[i?f:t-f-1]};if(a){var ee=S&&k.name!==A;if(l((function(){k(1)}))&&l((function(){new k(-1)}))&&!l((function(){return new k,new k(1.5),new k(NaN),ee&&!T})))ee&&T&&c(k,"name",A);else{L=function(e){return f(this,P),new k(h(e))},L[R]=P;for(var te,ne=_(k),re=0;ne.length>re;)(te=ne[re++])in L||c(L,te,k[te]);P.constructor=L}m&&v(G)!==U&&m(G,U);var oe=new x(new L(2)),ie=o(G.setInt8);oe.setInt8(0,2147483648),oe.setInt8(1,2147483649),!oe.getInt8(0)&&oe.getInt8(1)||u(G,{setInt8:function(e,t){ie(this,e,t<<24>>24)},setUint8:function(e,t){ie(this,e,t<<24>>24)}},{unsafe:!0})}else L=function(e){f(this,P);var t=h(e);C(this,{bytes:q(F(t),0),byteLength:t}),i||(this.byteLength=t)},P=L[R],x=function(e,t,n){f(this,G),f(e,P);var r=O(e).byteLength,o=p(t);if(o<0||o>r)throw j("Wrong offset");if(n=void 0===n?r-o:d(n),o+n>r)throw j(D);C(this,{buffer:e,byteLength:n,byteOffset:o}),i||(this.buffer=e,this.byteLength=n,this.byteOffset=o)},G=x[R],i&&(X(L,"byteLength"),X(x,"buffer"),X(x,"byteLength"),X(x,"byteOffset")),u(G,{getInt8:function(e){return Q(this,1,e)[0]<<24>>24},getUint8:function(e){return Q(this,1,e)[0]},getInt16:function(e){var t=Q(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Q(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return z(Q(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return z(Q(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return $(Q(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return $(Q(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Z(this,1,e,H,t)},setUint8:function(e,t){Z(this,1,e,H,t)},setInt16:function(e,t){Z(this,2,e,K,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Z(this,2,e,K,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Z(this,4,e,W,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Z(this,4,e,W,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Z(this,4,e,Y,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Z(this,8,e,J,t,arguments.length>2?arguments[2]:void 0)}});E(L,A),E(x,w),e.exports={ArrayBuffer:L,DataView:x}},6374:function(e,t,n){var r=n("da84"),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},"640f":function(e,t,n){(function(t,r){e.exports=r(n("21bf"))})(0,(function(e){return e.enc.Hex}))},6438:function(e,t,n){var r=n("03d6"),o=n("9742").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},"649e":function(e,t,n){"use strict";var r=n("ebb5"),o=n("b727").some,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("some",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},6547:function(e,t,n){var r=n("e330"),o=n("5926"),i=n("577e"),a=n("1d80"),s=r("".charAt),c=r("".charCodeAt),u=r("".slice),l=function(e){return function(t,n){var r,l,f=i(a(t)),p=o(n),d=f.length;return p<0||p>=d?e?"":void 0:(r=c(f,p),r<55296||r>56319||p+1===d||(l=c(f,p+1))<56320||l>57343?e?s(f,p):r:e?u(f,p,p+2):l-56320+(r-55296<<10)+65536)}};e.exports={codeAt:l(!1),charAt:l(!0)}},"658f":function(e,t,n){n("6858");for(var r=n("ef08"),o=n("051b"),i=n("8a0d"),a=n("cc15")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var u=s[c],l=r[u],f=l&&l.prototype;f&&!f[a]&&o(f,a,u),i[u]=i.Array}},"65f0":function(e,t,n){var r=n("0b42");e.exports=function(e,t){return new(r(e))(0===t?0:t)}},6858:function(e,t,n){"use strict";var r=n("2f9a"),o=n("ea34"),i=n("8a0d"),a=n("6ca1");e.exports=n("393a")(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},"68ee":function(e,t,n){var r=n("e330"),o=n("d039"),i=n("1626"),a=n("f5df"),s=n("d066"),c=n("8925"),u=function(){},l=[],f=s("Reflect","construct"),p=/^\s*(?:class|function)\b/,d=r(p.exec),h=!p.exec(u),g=function(e){if(!i(e))return!1;try{return f(u,l,e),!0}catch(t){return!1}},v=function(e){if(!i(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!d(p,c(e))}catch(t){return!0}};v.sham=!0,e.exports=!f||o((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?v:g},"693d":function(e,t,n){"use strict";var r=n("ef08"),o=n("9c0e"),i=n("0bad"),a=n("512c"),s=n("ba01"),c=n("e34a").KEY,u=n("4b8b"),l=n("b367"),f=n("92f0"),p=n("8b1a"),d=n("cc15"),h=n("fcd4"),g=n("e198"),v=n("0ae2"),m=n("4ebc"),_=n("77e9"),y=n("7a41"),b=n("0983"),M=n("6ca1"),E=n("3397"),I=n("10db"),S=n("6f4f"),T=n("1836"),O=n("4d20"),C=n("fed5"),A=n("1a14"),w=n("9876"),R=O.f,D=A.f,N=T.f,k=r.Symbol,L=r.JSON,P=L&&L.stringify,x="prototype",G=d("_hidden"),U=d("toPrimitive"),F={}.propertyIsEnumerable,j=l("symbol-registry"),q=l("symbols"),B=l("op-symbols"),V=Object[x],$="function"==typeof k&&!!C.f,H=r.QObject,K=!H||!H[x]||!H[x].findChild,W=i&&u((function(){return 7!=S(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=R(V,t);r&&delete V[t],D(e,t,n),r&&e!==V&&D(V,t,r)}:D,z=function(e){var t=q[e]=S(k[x]);return t._k=e,t},Y=$&&"symbol"==typeof k.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof k},J=function(e,t,n){return e===V&&J(B,t,n),_(e),t=E(t,!0),_(n),o(q,t)?(n.enumerable?(o(e,G)&&e[G][t]&&(e[G][t]=!1),n=S(n,{enumerable:I(0,!1)})):(o(e,G)||D(e,G,I(1,{})),e[G][t]=!0),W(e,t,n)):D(e,t,n)},X=function(e,t){_(e);var n,r=v(t=M(t)),o=0,i=r.length;while(i>o)J(e,n=r[o++],t[n]);return e},Q=function(e,t){return void 0===t?S(e):X(S(e),t)},Z=function(e){var t=F.call(this,e=E(e,!0));return!(this===V&&o(q,e)&&!o(B,e))&&(!(t||!o(this,e)||!o(q,e)||o(this,G)&&this[G][e])||t)},ee=function(e,t){if(e=M(e),t=E(t,!0),e!==V||!o(q,t)||o(B,t)){var n=R(e,t);return!n||!o(q,t)||o(e,G)&&e[G][t]||(n.enumerable=!0),n}},te=function(e){var t,n=N(M(e)),r=[],i=0;while(n.length>i)o(q,t=n[i++])||t==G||t==c||r.push(t);return r},ne=function(e){var t,n=e===V,r=N(n?B:M(e)),i=[],a=0;while(r.length>a)!o(q,t=r[a++])||n&&!o(V,t)||i.push(q[t]);return i};$||(k=function(){if(this instanceof k)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===V&&t.call(B,n),o(this,G)&&o(this[G],e)&&(this[G][e]=!1),W(this,e,I(1,n))};return i&&K&&W(V,e,{configurable:!0,set:t}),z(e)},s(k[x],"toString",(function(){return this._k})),O.f=ee,A.f=J,n("6438").f=T.f=te,n("1917").f=Z,C.f=ne,i&&!n("e444")&&s(V,"propertyIsEnumerable",Z,!0),h.f=function(e){return z(d(e))}),a(a.G+a.W+a.F*!$,{Symbol:k});for(var re="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),oe=0;re.length>oe;)d(re[oe++]);for(var ie=w(d.store),ae=0;ie.length>ae;)g(ie[ae++]);a(a.S+a.F*!$,"Symbol",{for:function(e){return o(j,e+="")?j[e]:j[e]=k(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){K=!0},useSimple:function(){K=!1}}),a(a.S+a.F*!$,"Object",{create:Q,defineProperty:J,defineProperties:X,getOwnPropertyDescriptor:ee,getOwnPropertyNames:te,getOwnPropertySymbols:ne});var se=u((function(){C.f(1)}));a(a.S+a.F*se,"Object",{getOwnPropertySymbols:function(e){return C.f(b(e))}}),L&&a(a.S+a.F*(!$||u((function(){var e=k();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))}))),"JSON",{stringify:function(e){var t,n,r=[e],o=1;while(arguments.length>o)r.push(arguments[o++]);if(n=t=r[1],(y(t)||void 0!==e)&&!Y(e))return m(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,P.apply(L,r)}}),k[x][U]||n("051b")(k[x],U,k[x].valueOf),f(k,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},6964:function(e,t,n){var r=n("cb2d");e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},"69f3":function(e,t,n){var r,o,i,a=n("7f9a"),s=n("da84"),c=n("e330"),u=n("861d"),l=n("9112"),f=n("1a2d"),p=n("c6cd"),d=n("f772"),h=n("d012"),g="Object already initialized",v=s.TypeError,m=s.WeakMap,_=function(e){return i(e)?o(e):r(e,{})},y=function(e){return function(t){var n;if(!u(t)||(n=o(t)).type!==e)throw v("Incompatible receiver, "+e+" required");return n}};if(a||p.state){var b=p.state||(p.state=new m),M=c(b.get),E=c(b.has),I=c(b.set);r=function(e,t){if(E(b,e))throw new v(g);return t.facade=e,I(b,e,t),t},o=function(e){return M(b,e)||{}},i=function(e){return E(b,e)}}else{var S=d("state");h[S]=!0,r=function(e,t){if(f(e,S))throw new v(g);return t.facade=e,l(e,S,t),t},o=function(e){return f(e,S)?e[S]:{}},i=function(e){return f(e,S)}}e.exports={set:r,get:o,has:i,enforce:_,getterFor:y}},"6b28":function(e){e.exports=JSON.parse('{"url":"https://service-5b9oaawa-1258344699.gz.apigw.tencentcs.com"}')},"6b75":function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},"6b7c":function(e,t,n){"use strict";t.__esModule=!0;var r=n("4897");t.default={methods:{t:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.t.apply(this,t)}}}},"6c57":function(e,t,n){var r=n("23e7"),o=n("da84");r({global:!0},{globalThis:o})},"6ca1":function(e,t,n){var r=n("9fbb"),o=n("c901");e.exports=function(e){return r(o(e))}},"6dd8":function(e,t,n){"use strict";n.r(t),function(e){var n=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),r="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,o=function(){return"undefined"!==typeof e&&e.Math===Math?e:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),i=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)}}(),a=2;function s(e,t){var n=!1,r=!1,o=0;function s(){n&&(n=!1,e()),r&&u()}function c(){i(s)}function u(){var e=Date.now();if(n){if(e-o<a)return;r=!0}else n=!0,r=!1,setTimeout(c,t);o=e}return u}var c=20,u=["top","right","bottom","left","width","height","size","weight"],l="undefined"!==typeof MutationObserver,f=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=s(this.refresh.bind(this),c)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=u.some((function(e){return!!~n.indexOf(e)}));r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),p=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||o},h=S(0,0,0,0);function g(e){return parseFloat(e)||0}function v(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){var r=e["border-"+n+"-width"];return t+g(r)}),0)}function m(e){for(var t=["top","right","bottom","left"],n={},r=0,o=t;r<o.length;r++){var i=o[r],a=e["padding-"+i];n[i]=g(a)}return n}function _(e){var t=e.getBBox();return S(0,0,t.width,t.height)}function y(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var r=d(e).getComputedStyle(e),o=m(r),i=o.left+o.right,a=o.top+o.bottom,s=g(r.width),c=g(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=v(r,"left","right")+i),Math.round(c+a)!==n&&(c-=v(r,"top","bottom")+a)),!M(e)){var u=Math.round(s+i)-t,l=Math.round(c+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(l)&&(c-=l)}return S(o.left,o.top,s,c)}var b=function(){return"undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"===typeof e.getBBox}}();function M(e){return e===d(e).document.documentElement}function E(e){return r?b(e)?_(e):y(e):h}function I(e){var t=e.x,n=e.y,r=e.width,o=e.height,i="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(i.prototype);return p(a,{x:t,y:n,width:r,height:o,top:n,right:t+r,bottom:o+n,left:t}),a}function S(e,t,n,r){return{x:e,y:t,width:n,height:r}}var T=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=S(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=E(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),O=function(){function e(e,t){var n=I(t);p(this,{target:e,contentRect:n})}return e}(),C=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new T(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new O(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),A="undefined"!==typeof WeakMap?new WeakMap:new n,w=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=f.getInstance(),r=new C(t,n,this);A.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach((function(e){w.prototype[e]=function(){var t;return(t=A.get(this))[e].apply(t,arguments)}}));var R=function(){return"undefined"!==typeof o.ResizeObserver?o.ResizeObserver:w}();t["default"]=R}.call(this,n("c8ba"))},"6ed5":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=78)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):o&&(c=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},10:function(e,t){e.exports=n("f3ad")},13:function(e,t){e.exports=n("5128")},14:function(e,t){e.exports=n("eedf")},2:function(e,t){e.exports=n("5924")},20:function(e,t){e.exports=n("4897")},23:function(e,t){e.exports=n("41f8")},47:function(e,t){e.exports=n("722f")},6:function(e,t){e.exports=n("6b7c")},7:function(e,t){e.exports=n("2b0e")},78:function(e,t,n){"use strict";n.r(t);var r=n(7),o=n.n(r),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"msgbox-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-message-box__wrapper",attrs:{tabindex:"-1",role:"dialog","aria-modal":"true","aria-label":e.title||"dialog"},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleWrapperClick(t)}}},[n("div",{staticClass:"el-message-box",class:[e.customClass,e.center&&"el-message-box--center"]},[null!==e.title?n("div",{staticClass:"el-message-box__header"},[n("div",{staticClass:"el-message-box__title"},[e.icon&&e.center?n("div",{class:["el-message-box__status",e.icon]}):e._e(),n("span",[e._v(e._s(e.title))])]),e.showClose?n("button",{staticClass:"el-message-box__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){e.handleAction(e.distinguishCancelAndClose?"close":"cancel")},keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleAction(e.distinguishCancelAndClose?"close":"cancel")}}},[n("i",{staticClass:"el-message-box__close el-icon-close"})]):e._e()]):e._e(),n("div",{staticClass:"el-message-box__content"},[n("div",{staticClass:"el-message-box__container"},[e.icon&&!e.center&&""!==e.message?n("div",{class:["el-message-box__status",e.icon]}):e._e(),""!==e.message?n("div",{staticClass:"el-message-box__message"},[e._t("default",[e.dangerouslyUseHTMLString?n("p",{domProps:{innerHTML:e._s(e.message)}}):n("p",[e._v(e._s(e.message))])])],2):e._e()]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showInput,expression:"showInput"}],staticClass:"el-message-box__input"},[n("el-input",{ref:"input",attrs:{type:e.inputType,placeholder:e.inputPlaceholder},nativeOn:{keydown:function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputEnter(t)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}),n("div",{staticClass:"el-message-box__errormsg",style:{visibility:e.editorErrorMessage?"visible":"hidden"}},[e._v(e._s(e.editorErrorMessage))])],1)]),n("div",{staticClass:"el-message-box__btns"},[e.showCancelButton?n("el-button",{class:[e.cancelButtonClasses],attrs:{loading:e.cancelButtonLoading,round:e.roundButton,size:"small"},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleAction("cancel")}},nativeOn:{click:function(t){e.handleAction("cancel")}}},[e._v("\n          "+e._s(e.cancelButtonText||e.t("el.messagebox.cancel"))+"\n        ")]):e._e(),n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showConfirmButton,expression:"showConfirmButton"}],ref:"confirm",class:[e.confirmButtonClasses],attrs:{loading:e.confirmButtonLoading,round:e.roundButton,size:"small"},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleAction("confirm")}},nativeOn:{click:function(t){e.handleAction("confirm")}}},[e._v("\n          "+e._s(e.confirmButtonText||e.t("el.messagebox.confirm"))+"\n        ")])],1)])])])},a=[];i._withStripped=!0;var s=n(13),c=n.n(s),u=n(6),l=n.n(u),f=n(10),p=n.n(f),d=n(14),h=n.n(d),g=n(2),v=n(20),m=n(47),_=n.n(m),y=void 0,b={success:"success",info:"info",warning:"warning",error:"error"},M={mixins:[c.a,l.a],props:{modal:{default:!0},lockScroll:{default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{default:!0},closeOnPressEscape:{default:!0},closeOnHashChange:{default:!0},center:{default:!1,type:Boolean},roundButton:{default:!1,type:Boolean}},components:{ElInput:p.a,ElButton:h.a},computed:{icon:function(){var e=this.type,t=this.iconClass;return t||(e&&b[e]?"el-icon-"+b[e]:"")},confirmButtonClasses:function(){return"el-button--primary "+this.confirmButtonClass},cancelButtonClasses:function(){return""+this.cancelButtonClass}},methods:{getSafeClose:function(){var e=this,t=this.uid;return function(){e.$nextTick((function(){t===e.uid&&e.doClose()}))}},doClose:function(){var e=this;this.visible&&(this.visible=!1,this._closing=!0,this.onClose&&this.onClose(),y.closeDialog(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose(),setTimeout((function(){e.action&&e.callback(e.action,e)})))},handleWrapperClick:function(){this.closeOnClickModal&&this.handleAction(this.distinguishCancelAndClose?"close":"cancel")},handleInputEnter:function(){if("textarea"!==this.inputType)return this.handleAction("confirm")},handleAction:function(e){("prompt"!==this.$type||"confirm"!==e||this.validate())&&(this.action=e,"function"===typeof this.beforeClose?(this.close=this.getSafeClose(),this.beforeClose(e,this,this.close)):this.doClose())},validate:function(){if("prompt"===this.$type){var e=this.inputPattern;if(e&&!e.test(this.inputValue||""))return this.editorErrorMessage=this.inputErrorMessage||Object(v["t"])("el.messagebox.error"),Object(g["addClass"])(this.getInputElement(),"invalid"),!1;var t=this.inputValidator;if("function"===typeof t){var n=t(this.inputValue);if(!1===n)return this.editorErrorMessage=this.inputErrorMessage||Object(v["t"])("el.messagebox.error"),Object(g["addClass"])(this.getInputElement(),"invalid"),!1;if("string"===typeof n)return this.editorErrorMessage=n,Object(g["addClass"])(this.getInputElement(),"invalid"),!1}}return this.editorErrorMessage="",Object(g["removeClass"])(this.getInputElement(),"invalid"),!0},getFirstFocus:function(){var e=this.$el.querySelector(".el-message-box__btns .el-button"),t=this.$el.querySelector(".el-message-box__btns .el-message-box__title");return e||t},getInputElement:function(){var e=this.$refs.input.$refs;return e.input||e.textarea},handleClose:function(){this.handleAction("close")}},watch:{inputValue:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(n){"prompt"===t.$type&&null!==e&&t.validate()}))}},visible:function(e){var t=this;e&&(this.uid++,"alert"!==this.$type&&"confirm"!==this.$type||this.$nextTick((function(){t.$refs.confirm.$el.focus()})),this.focusAfterClosed=document.activeElement,y=new _.a(this.$el,this.focusAfterClosed,this.getFirstFocus())),"prompt"===this.$type&&(e?setTimeout((function(){t.$refs.input&&t.$refs.input.$el&&t.getInputElement().focus()}),500):(this.editorErrorMessage="",Object(g["removeClass"])(this.getInputElement(),"invalid")))}},mounted:function(){var e=this;this.$nextTick((function(){e.closeOnHashChange&&window.addEventListener("hashchange",e.close)}))},beforeDestroy:function(){this.closeOnHashChange&&window.removeEventListener("hashchange",this.close),setTimeout((function(){y.closeDialog()}))},data:function(){return{uid:1,title:void 0,message:"",type:"",iconClass:"",customClass:"",showInput:!1,inputValue:null,inputPlaceholder:"",inputType:"text",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,action:"",confirmButtonText:"",cancelButtonText:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonClass:"",confirmButtonDisabled:!1,cancelButtonClass:"",editorErrorMessage:null,callback:null,dangerouslyUseHTMLString:!1,focusAfterClosed:null,isOnComposition:!1,distinguishCancelAndClose:!1}}},E=M,I=n(0),S=Object(I["a"])(E,i,a,!1,null,null,null);S.options.__file="packages/message-box/src/main.vue";var T=S.exports,O=n(9),C=n.n(O),A=n(23),w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R={title:null,message:"",type:"",iconClass:"",showInput:!1,showClose:!0,modalFade:!0,lockScroll:!0,closeOnClickModal:!0,closeOnPressEscape:!0,closeOnHashChange:!0,inputValue:null,inputPlaceholder:"",inputType:"text",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,confirmButtonPosition:"right",confirmButtonHighlight:!1,cancelButtonHighlight:!1,confirmButtonText:"",cancelButtonText:"",confirmButtonClass:"",cancelButtonClass:"",customClass:"",beforeClose:null,dangerouslyUseHTMLString:!1,center:!1,roundButton:!1,distinguishCancelAndClose:!1},D=o.a.extend(T),N=void 0,k=void 0,L=[],P=function(e){if(N){var t=N.callback;"function"===typeof t&&(k.showInput?t(k.inputValue,e):t(e)),N.resolve&&("confirm"===e?k.showInput?N.resolve({value:k.inputValue,action:e}):N.resolve(e):!N.reject||"cancel"!==e&&"close"!==e||N.reject(e))}},x=function(){k=new D({el:document.createElement("div")}),k.callback=P},G=function e(){if(k||x(),k.action="",(!k.visible||k.closeTimer)&&L.length>0){N=L.shift();var t=N.options;for(var n in t)t.hasOwnProperty(n)&&(k[n]=t[n]);void 0===t.callback&&(k.callback=P);var r=k.callback;k.callback=function(t,n){r(t,n),e()},Object(A["isVNode"])(k.message)?(k.$slots.default=[k.message],k.message=null):delete k.$slots.default,["modal","showClose","closeOnClickModal","closeOnPressEscape","closeOnHashChange"].forEach((function(e){void 0===k[e]&&(k[e]=!0)})),document.body.appendChild(k.$el),o.a.nextTick((function(){k.visible=!0}))}},U=function e(t,n){if(!o.a.prototype.$isServer){if("string"===typeof t||Object(A["isVNode"])(t)?(t={message:t},"string"===typeof arguments[1]&&(t.title=arguments[1])):t.callback&&!n&&(n=t.callback),"undefined"!==typeof Promise)return new Promise((function(r,o){L.push({options:C()({},R,e.defaults,t),callback:n,resolve:r,reject:o}),G()}));L.push({options:C()({},R,e.defaults,t),callback:n}),G()}};U.setDefaults=function(e){U.defaults=e},U.alert=function(e,t,n){return"object"===("undefined"===typeof t?"undefined":w(t))?(n=t,t=""):void 0===t&&(t=""),U(C()({title:t,message:e,$type:"alert",closeOnPressEscape:!1,closeOnClickModal:!1},n))},U.confirm=function(e,t,n){return"object"===("undefined"===typeof t?"undefined":w(t))?(n=t,t=""):void 0===t&&(t=""),U(C()({title:t,message:e,$type:"confirm",showCancelButton:!0},n))},U.prompt=function(e,t,n){return"object"===("undefined"===typeof t?"undefined":w(t))?(n=t,t=""):void 0===t&&(t=""),U(C()({title:t,message:e,showCancelButton:!0,showInput:!0,$type:"prompt"},n))},U.close=function(){k.doClose(),k.visible=!1,L=[],N=null};var F=U;t["default"]=F},9:function(e,t){e.exports=n("7f4d")}})},"6f4f":function(e,t,n){var r=n("77e9"),o=n("85e7"),i=n("9742"),a=n("5a94")("IE_PROTO"),s=function(){},c="prototype",u=function(){var e,t=n("05f5")("iframe"),r=i.length,o="<",a=">";t.style.display="none",n("9141").appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(o+"script"+a+"document.F=Object"+o+"/script"+a),e.close(),u=e.F;while(r--)delete u[c][i[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[c]=r(e),n=new s,s[c]=null,n[a]=e):n=u(),void 0===t?n:o(n,t)}},7037:function(e,t,n){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports["default"]=e.exports,r(t)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},7039:function(e,t,n){var r=n("23e7"),o=n("d039"),i=n("057f").f,a=o((function(){return!Object.getOwnPropertyNames(1)}));r({target:"Object",stat:!0,forced:a},{getOwnPropertyNames:i})},7149:function(e,t,n){"use strict";var r=n("23e7"),o=n("d066"),i=n("c430"),a=n("d256"),s=n("4738").CONSTRUCTOR,c=n("cdf9"),u=o("Promise"),l=i&&!s;r({target:"Promise",stat:!0,forced:i||s},{resolve:function(e){return c(l&&this===u?a:this,e)}})},7156:function(e,t,n){var r=n("1626"),o=n("861d"),i=n("d2bb");e.exports=function(e,t,n){var a,s;return i&&r(a=t.constructor)&&a!==n&&o(s=a.prototype)&&s!==n.prototype&&i(e,s),e}},"722f":function(e,t,n){"use strict";t.__esModule=!0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n("e452"),i=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var s,c=c||{};c.Dialog=function(e,t,n){var o=this;if(this.dialogNode=e,null===this.dialogNode||"dialog"!==this.dialogNode.getAttribute("role"))throw new Error("Dialog() requires a DOM element with ARIA role of dialog.");"string"===typeof t?this.focusAfterClosed=document.getElementById(t):"object"===("undefined"===typeof t?"undefined":r(t))?this.focusAfterClosed=t:this.focusAfterClosed=null,"string"===typeof n?this.focusFirst=document.getElementById(n):"object"===("undefined"===typeof n?"undefined":r(n))?this.focusFirst=n:this.focusFirst=null,this.focusFirst?this.focusFirst.focus():i.default.focusFirstDescendant(this.dialogNode),this.lastFocus=document.activeElement,s=function(e){o.trapFocus(e)},this.addListeners()},c.Dialog.prototype.addListeners=function(){document.addEventListener("focus",s,!0)},c.Dialog.prototype.removeListeners=function(){document.removeEventListener("focus",s,!0)},c.Dialog.prototype.closeDialog=function(){var e=this;this.removeListeners(),this.focusAfterClosed&&setTimeout((function(){e.focusAfterClosed.focus()}))},c.Dialog.prototype.trapFocus=function(e){i.default.IgnoreUtilFocusChanges||(this.dialogNode.contains(e.target)?this.lastFocus=e.target:(i.default.focusFirstDescendant(this.dialogNode),this.lastFocus===document.activeElement&&i.default.focusLastDescendant(this.dialogNode),this.lastFocus=document.activeElement))},t.default=c.Dialog},"72f7":function(e,t,n){"use strict";var r=n("ebb5").exportTypedArrayMethod,o=n("d039"),i=n("da84"),a=n("e330"),s=i.Uint8Array,c=s&&s.prototype||{},u=[].toString,l=a([].join);o((function(){u.call({})}))&&(u=function(){return l(this)});var f=c.toString!=u;r("toString",u,f)},"72fe":function(e,t,n){(function(t,r){e.exports=r(n("21bf"))})(0,(function(e){return function(t){var n=e,r=n.lib,o=r.WordArray,i=r.Hasher,a=n.algo,s=[];(function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0})();var c=a.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,o=e[r];e[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,a=e[t+0],c=e[t+1],d=e[t+2],h=e[t+3],g=e[t+4],v=e[t+5],m=e[t+6],_=e[t+7],y=e[t+8],b=e[t+9],M=e[t+10],E=e[t+11],I=e[t+12],S=e[t+13],T=e[t+14],O=e[t+15],C=i[0],A=i[1],w=i[2],R=i[3];C=u(C,A,w,R,a,7,s[0]),R=u(R,C,A,w,c,12,s[1]),w=u(w,R,C,A,d,17,s[2]),A=u(A,w,R,C,h,22,s[3]),C=u(C,A,w,R,g,7,s[4]),R=u(R,C,A,w,v,12,s[5]),w=u(w,R,C,A,m,17,s[6]),A=u(A,w,R,C,_,22,s[7]),C=u(C,A,w,R,y,7,s[8]),R=u(R,C,A,w,b,12,s[9]),w=u(w,R,C,A,M,17,s[10]),A=u(A,w,R,C,E,22,s[11]),C=u(C,A,w,R,I,7,s[12]),R=u(R,C,A,w,S,12,s[13]),w=u(w,R,C,A,T,17,s[14]),A=u(A,w,R,C,O,22,s[15]),C=l(C,A,w,R,c,5,s[16]),R=l(R,C,A,w,m,9,s[17]),w=l(w,R,C,A,E,14,s[18]),A=l(A,w,R,C,a,20,s[19]),C=l(C,A,w,R,v,5,s[20]),R=l(R,C,A,w,M,9,s[21]),w=l(w,R,C,A,O,14,s[22]),A=l(A,w,R,C,g,20,s[23]),C=l(C,A,w,R,b,5,s[24]),R=l(R,C,A,w,T,9,s[25]),w=l(w,R,C,A,h,14,s[26]),A=l(A,w,R,C,y,20,s[27]),C=l(C,A,w,R,S,5,s[28]),R=l(R,C,A,w,d,9,s[29]),w=l(w,R,C,A,_,14,s[30]),A=l(A,w,R,C,I,20,s[31]),C=f(C,A,w,R,v,4,s[32]),R=f(R,C,A,w,y,11,s[33]),w=f(w,R,C,A,E,16,s[34]),A=f(A,w,R,C,T,23,s[35]),C=f(C,A,w,R,c,4,s[36]),R=f(R,C,A,w,g,11,s[37]),w=f(w,R,C,A,_,16,s[38]),A=f(A,w,R,C,M,23,s[39]),C=f(C,A,w,R,S,4,s[40]),R=f(R,C,A,w,a,11,s[41]),w=f(w,R,C,A,h,16,s[42]),A=f(A,w,R,C,m,23,s[43]),C=f(C,A,w,R,b,4,s[44]),R=f(R,C,A,w,I,11,s[45]),w=f(w,R,C,A,O,16,s[46]),A=f(A,w,R,C,d,23,s[47]),C=p(C,A,w,R,a,6,s[48]),R=p(R,C,A,w,_,10,s[49]),w=p(w,R,C,A,T,15,s[50]),A=p(A,w,R,C,v,21,s[51]),C=p(C,A,w,R,I,6,s[52]),R=p(R,C,A,w,h,10,s[53]),w=p(w,R,C,A,M,15,s[54]),A=p(A,w,R,C,c,21,s[55]),C=p(C,A,w,R,y,6,s[56]),R=p(R,C,A,w,O,10,s[57]),w=p(w,R,C,A,m,15,s[58]),A=p(A,w,R,C,S,21,s[59]),C=p(C,A,w,R,g,6,s[60]),R=p(R,C,A,w,E,10,s[61]),w=p(w,R,C,A,d,15,s[62]),A=p(A,w,R,C,b,21,s[63]),i[0]=i[0]+C|0,i[1]=i[1]+A|0,i[2]=i[2]+w|0,i[3]=i[3]+R|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,o=8*e.sigBytes;n[o>>>5]|=128<<24-o%32;var i=t.floor(r/4294967296),a=r;n[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),n[14+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,n,r,o,i,a){var s=e+(t&n|~t&r)+o+a;return(s<<i|s>>>32-i)+t}function l(e,t,n,r,o,i,a){var s=e+(t&r|n&~r)+o+a;return(s<<i|s>>>32-i)+t}function f(e,t,n,r,o,i,a){var s=e+(t^n^r)+o+a;return(s<<i|s>>>32-i)+t}function p(e,t,n,r,o,i,a){var s=e+(n^(t|~r))+o+a;return(s<<i|s>>>32-i)+t}n.MD5=i._createHelper(c),n.HmacMD5=i._createHmacHelper(c)}(Math),e.MD5}))},"735e":function(e,t,n){"use strict";var r=n("ebb5"),o=n("81d5"),i=n("f495"),a=n("f5df"),s=n("c65b"),c=n("e330"),u=n("d039"),l=r.aTypedArray,f=r.exportTypedArrayMethod,p=c("".slice),d=u((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e}));f("fill",(function(e){var t=arguments.length;l(this);var n="Big"===p(a(this),0,3)?i(e):+e;return s(o,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),d)},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"746f":function(e,t,n){var r=n("428f"),o=n("1a2d"),i=n("e538"),a=n("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},"74e8":function(e,t,n){"use strict";var r=n("23e7"),o=n("da84"),i=n("c65b"),a=n("83ab"),s=n("8aa7"),c=n("ebb5"),u=n("621a"),l=n("19aa"),f=n("5c6c"),p=n("9112"),d=n("eac5"),h=n("50c4"),g=n("0b25"),v=n("182d"),m=n("a04b"),_=n("1a2d"),y=n("f5df"),b=n("861d"),M=n("d9b5"),E=n("7c73"),I=n("3a9b"),S=n("d2bb"),T=n("241c").f,O=n("a078"),C=n("b727").forEach,A=n("2626"),w=n("9bf2"),R=n("06cf"),D=n("69f3"),N=n("7156"),k=D.get,L=D.set,P=w.f,x=R.f,G=Math.round,U=o.RangeError,F=u.ArrayBuffer,j=F.prototype,q=u.DataView,B=c.NATIVE_ARRAY_BUFFER_VIEWS,V=c.TYPED_ARRAY_CONSTRUCTOR,$=c.TYPED_ARRAY_TAG,H=c.TypedArray,K=c.TypedArrayPrototype,W=c.aTypedArrayConstructor,z=c.isTypedArray,Y="BYTES_PER_ELEMENT",J="Wrong length",X=function(e,t){W(e);var n=0,r=t.length,o=new e(r);while(r>n)o[n]=t[n++];return o},Q=function(e,t){P(e,t,{get:function(){return k(this)[t]}})},Z=function(e){var t;return I(j,e)||"ArrayBuffer"==(t=y(e))||"SharedArrayBuffer"==t},ee=function(e,t){return z(e)&&!M(t)&&t in e&&d(+t)&&t>=0},te=function(e,t){return t=m(t),ee(e,t)?f(2,e[t]):x(e,t)},ne=function(e,t,n){return t=m(t),!(ee(e,t)&&b(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?P(e,t,n):(e[t]=n.value,e)};a?(B||(R.f=te,w.f=ne,Q(K,"buffer"),Q(K,"byteOffset"),Q(K,"byteLength"),Q(K,"length")),r({target:"Object",stat:!0,forced:!B},{getOwnPropertyDescriptor:te,defineProperty:ne}),e.exports=function(e,t,n){var a=e.match(/\d+$/)[0]/8,c=e+(n?"Clamped":"")+"Array",u="get"+e,f="set"+e,d=o[c],m=d,_=m&&m.prototype,y={},M=function(e,t){var n=k(e);return n.view[u](t*a+n.byteOffset,!0)},I=function(e,t,r){var o=k(e);n&&(r=(r=G(r))<0?0:r>255?255:255&r),o.view[f](t*a+o.byteOffset,r,!0)},w=function(e,t){P(e,t,{get:function(){return M(this,t)},set:function(e){return I(this,t,e)},enumerable:!0})};B?s&&(m=t((function(e,t,n,r){return l(e,_),N(function(){return b(t)?Z(t)?void 0!==r?new d(t,v(n,a),r):void 0!==n?new d(t,v(n,a)):new d(t):z(t)?X(m,t):i(O,m,t):new d(g(t))}(),e,m)})),S&&S(m,H),C(T(d),(function(e){e in m||p(m,e,d[e])})),m.prototype=_):(m=t((function(e,t,n,r){l(e,_);var o,s,c,u=0,f=0;if(b(t)){if(!Z(t))return z(t)?X(m,t):i(O,m,t);o=t,f=v(n,a);var p=t.byteLength;if(void 0===r){if(p%a)throw U(J);if(s=p-f,s<0)throw U(J)}else if(s=h(r)*a,s+f>p)throw U(J);c=s/a}else c=g(t),s=c*a,o=new F(s);L(e,{buffer:o,byteOffset:f,byteLength:s,length:c,view:new q(o)});while(u<c)w(e,u++)})),S&&S(m,H),_=m.prototype=E(K)),_.constructor!==m&&p(_,"constructor",m),p(_,V,m),$&&p(_,$,c);var R=m!=d;y[c]=m,r({global:!0,constructor:!0,forced:R,sham:!B},y),Y in m||p(m,Y,a),Y in _||p(_,Y,a),A(c)}):e.exports=function(){}},"77a7":function(e,t){var n=Array,r=Math.abs,o=Math.pow,i=Math.floor,a=Math.log,s=Math.LN2,c=function(e,t,c){var u,l,f,p=n(c),d=8*c-t-1,h=(1<<d)-1,g=h>>1,v=23===t?o(2,-24)-o(2,-77):0,m=e<0||0===e&&1/e<0?1:0,_=0;e=r(e),e!=e||e===1/0?(l=e!=e?1:0,u=h):(u=i(a(e)/s),f=o(2,-u),e*f<1&&(u--,f*=2),e+=u+g>=1?v/f:v*o(2,1-g),e*f>=2&&(u++,f/=2),u+g>=h?(l=0,u=h):u+g>=1?(l=(e*f-1)*o(2,t),u+=g):(l=e*o(2,g-1)*o(2,t),u=0));while(t>=8)p[_++]=255&l,l/=256,t-=8;u=u<<t|l,d+=t;while(d>0)p[_++]=255&u,u/=256,d-=8;return p[--_]|=128*m,p},u=function(e,t){var n,r=e.length,i=8*r-t-1,a=(1<<i)-1,s=a>>1,c=i-7,u=r-1,l=e[u--],f=127&l;l>>=7;while(c>0)f=256*f+e[u--],c-=8;n=f&(1<<-c)-1,f>>=-c,c+=t;while(c>0)n=256*n+e[u--],c-=8;if(0===f)f=1-s;else{if(f===a)return n?NaN:l?-1/0:1/0;n+=o(2,t),f-=s}return(l?-1:1)*n*o(2,f-t)};e.exports={pack:c,unpack:u}},"77e9":function(e,t,n){var r=n("7a41");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"785a":function(e,t,n){var r=n("cc12"),o=r("span").classList,i=o&&o.constructor&&o.constructor.prototype;e.exports=i===Object.prototype?void 0:i},"7a41":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},"7a77":function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},"7aac":function(e,t,n){"use strict";var r=n("c532");e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7b0b":function(e,t,n){var r=n("1d80"),o=Object;e.exports=function(e){return o(r(e))}},"7c73":function(e,t,n){var r,o=n("825a"),i=n("37e8"),a=n("7839"),s=n("d012"),c=n("1be4"),u=n("cc12"),l=n("f772"),f=">",p="<",d="prototype",h="script",g=l("IE_PROTO"),v=function(){},m=function(e){return p+h+f+e+p+"/"+h+f},_=function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){var e,t=u("iframe"),n="java"+h+":";return t.style.display="none",c.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(m("document.F=Object")),e.close(),e.F},b=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}b="undefined"!=typeof document?document.domain&&r?_(r):y():_(r);var e=a.length;while(e--)delete b[d][a[e]];return b()};s[g]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(v[d]=o(e),n=new v,v[d]=null,n[g]=e):n=b(),void 0===t?n:i.f(n,t)}},"7dd0":function(e,t,n){"use strict";var r=n("23e7"),o=n("c65b"),i=n("c430"),a=n("5e77"),s=n("1626"),c=n("9ed3"),u=n("e163"),l=n("d2bb"),f=n("d44e"),p=n("9112"),d=n("cb2d"),h=n("b622"),g=n("3f8c"),v=n("ae93"),m=a.PROPER,_=a.CONFIGURABLE,y=v.IteratorPrototype,b=v.BUGGY_SAFARI_ITERATORS,M=h("iterator"),E="keys",I="values",S="entries",T=function(){return this};e.exports=function(e,t,n,a,h,v,O){c(n,t,a);var C,A,w,R=function(e){if(e===h&&P)return P;if(!b&&e in k)return k[e];switch(e){case E:return function(){return new n(this,e)};case I:return function(){return new n(this,e)};case S:return function(){return new n(this,e)}}return function(){return new n(this)}},D=t+" Iterator",N=!1,k=e.prototype,L=k[M]||k["@@iterator"]||h&&k[h],P=!b&&L||R(h),x="Array"==t&&k.entries||L;if(x&&(C=u(x.call(new e)),C!==Object.prototype&&C.next&&(i||u(C)===y||(l?l(C,y):s(C[M])||d(C,M,T)),f(C,D,!0,!0),i&&(g[D]=T))),m&&h==I&&L&&L.name!==I&&(!i&&_?p(k,"name",I):(N=!0,P=function(){return o(L,this)})),h)if(A={values:R(I),keys:v?P:R(E),entries:R(S)},O)for(w in A)(b||N||!(w in k))&&d(k,w,A[w]);else r({target:t,proto:!0,forced:b||N},A);return i&&!O||k[M]===P||d(k,M,P,{name:h}),g[t]=P,A}},"7f4d":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t]||{};for(var o in r)if(r.hasOwnProperty(o)){var i=r[o];void 0!==i&&(e[o]=i)}}return e}},"7f9a":function(e,t,n){var r=n("da84"),o=n("1626"),i=n("8925"),a=r.WeakMap;e.exports=o(a)&&/native code/.test(i(a))},8119:function(e,t,n){n("693d"),n("dfe5"),n("301c"),n("4e71"),e.exports=n("5524").Symbol},8122:function(e,t,n){"use strict";t.__esModule=!0,t.isEmpty=t.isEqual=t.arrayEquals=t.looseEqual=t.capitalize=t.kebabCase=t.autoprefixer=t.isFirefox=t.isEdge=t.isIE=t.coerceTruthyValueToArray=t.arrayFind=t.arrayFindIndex=t.escapeRegexpString=t.valueEquals=t.generateId=t.getValueByPath=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.noop=u,t.hasOwn=l,t.toObject=p,t.getPropByPath=d,t.rafThrottle=_,t.objToArray=y;var o=n("2b0e"),i=s(o),a=n("a742");function s(e){return e&&e.__esModule?e:{default:e}}var c=Object.prototype.hasOwnProperty;function u(){}function l(e,t){return c.call(e,t)}function f(e,t){for(var n in t)e[n]=t[n];return e}function p(e){for(var t={},n=0;n<e.length;n++)e[n]&&f(t,e[n]);return t}t.getValueByPath=function(e,t){t=t||"";for(var n=t.split("."),r=e,o=null,i=0,a=n.length;i<a;i++){var s=n[i];if(!r)break;if(i===a-1){o=r[s];break}r=r[s]}return o};function d(e,t,n){var r=e;t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var o=t.split("."),i=0,a=o.length;i<a-1;++i){if(!r&&!n)break;var s=o[i];if(!(s in r)){if(n)throw new Error("please transfer a valid prop path to form item!");break}r=r[s]}return{o:r,k:o[i],v:r?r[o[i]]:null}}t.generateId=function(){return Math.floor(1e4*Math.random())},t.valueEquals=function(e,t){if(e===t)return!0;if(!(e instanceof Array))return!1;if(!(t instanceof Array))return!1;if(e.length!==t.length)return!1;for(var n=0;n!==e.length;++n)if(e[n]!==t[n])return!1;return!0},t.escapeRegexpString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(e).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")};var h=t.arrayFindIndex=function(e,t){for(var n=0;n!==e.length;++n)if(t(e[n]))return n;return-1},g=(t.arrayFind=function(e,t){var n=h(e,t);return-1!==n?e[n]:void 0},t.coerceTruthyValueToArray=function(e){return Array.isArray(e)?e:e?[e]:[]},t.isIE=function(){return!i.default.prototype.$isServer&&!isNaN(Number(document.documentMode))},t.isEdge=function(){return!i.default.prototype.$isServer&&navigator.userAgent.indexOf("Edge")>-1},t.isFirefox=function(){return!i.default.prototype.$isServer&&!!window.navigator.userAgent.match(/firefox/i)},t.autoprefixer=function(e){if("object"!==("undefined"===typeof e?"undefined":r(e)))return e;var t=["transform","transition","animation"],n=["ms-","webkit-"];return t.forEach((function(t){var r=e[t];t&&r&&n.forEach((function(n){e[n+t]=r}))})),e},t.kebabCase=function(e){var t=/([^-])([A-Z])/g;return e.replace(t,"$1-$2").replace(t,"$1-$2").toLowerCase()},t.capitalize=function(e){return(0,a.isString)(e)?e.charAt(0).toUpperCase()+e.slice(1):e},t.looseEqual=function(e,t){var n=(0,a.isObject)(e),r=(0,a.isObject)(t);return n&&r?JSON.stringify(e)===JSON.stringify(t):!n&&!r&&String(e)===String(t)}),v=t.arrayEquals=function(e,t){if(e=e||[],t=t||[],e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!g(e[n],t[n]))return!1;return!0},m=(t.isEqual=function(e,t){return Array.isArray(e)&&Array.isArray(t)?v(e,t):g(e,t)},t.isEmpty=function(e){if(null==e)return!0;if("boolean"===typeof e)return!1;if("number"===typeof e)return!e;if(e instanceof Error)return""===e.message;switch(Object.prototype.toString.call(e)){case"[object String]":case"[object Array]":return!e.length;case"[object File]":case"[object Map]":case"[object Set]":return!e.size;case"[object Object]":return!Object.keys(e).length}return!1});function _(e){var t=!1;return function(){for(var n=this,r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];t||(t=!0,window.requestAnimationFrame((function(r){e.apply(n,o),t=!1})))}}function y(e){return Array.isArray(e)?e:m(e)?[]:[e]}},"81d5":function(e,t,n){"use strict";var r=n("7b0b"),o=n("23cb"),i=n("07fa");e.exports=function(e){var t=r(this),n=i(t),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,u=void 0===c?n:o(c,n);while(u>s)t[s++]=e;return t}},"825a":function(e,t,n){var r=n("861d"),o=String,i=TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not an object")}},"82f8":function(e,t,n){"use strict";var r=n("ebb5"),o=n("4d64").includes,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("includes",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"83b9":function(e,t,n){"use strict";var r=n("d925"),o=n("e683");e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},8418:function(e,t,n){"use strict";var r=n("a04b"),o=n("9bf2"),i=n("5c6c");e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},"848b":function(e,t,n){"use strict";var r=n("5cce").version,o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var i={};function a(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");var r=Object.keys(e),o=r.length;while(o-- >0){var i=r[o],a=t[i];if(a){var s=e[i],c=void 0===s||a(s,i,e);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+i)}}o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(o(r," has been removed"+(t?" in "+t:"")));return t&&!i[r]&&(i[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={assertOptions:a,validators:o}},"84c3":function(e,t,n){var r=n("74e8");r("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"85e7":function(e,t,n){var r=n("1a14"),o=n("77e9"),i=n("9876");e.exports=n("0bad")?Object.defineProperties:function(e,t){o(e);var n,a=i(t),s=a.length,c=0;while(s>c)r.f(e,n=a[c++],t[n]);return e}},"861d":function(e,t,n){var r=n("1626");e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},8925:function(e,t,n){var r=n("e330"),o=n("1626"),i=n("c6cd"),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},"8a0d":function(e,t){e.exports={}},"8a59":function(e,t,n){var r=n("74e8");r("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"8aa7":function(e,t,n){var r=n("da84"),o=n("d039"),i=n("1c7e"),a=n("ebb5").NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,c=r.Int8Array;e.exports=!a||!o((function(){c(1)}))||!o((function(){new c(-1)}))||!i((function(e){new c,new c(null),new c(1.5),new c(e)}),!0)||o((function(){return 1!==new c(new s(2),1,void 0).length}))},"8b09":function(e,t,n){var r=n("74e8");r("Int16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"8b1a":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},"8bbc":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=130)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):o&&(c=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},130:function(e,t,n){"use strict";n.r(t);var r,o,i={name:"ElTag",props:{text:String,closable:Boolean,type:String,hit:Boolean,disableTransitions:Boolean,color:String,size:String,effect:{type:String,default:"light",validator:function(e){return-1!==["dark","light","plain"].indexOf(e)}}},methods:{handleClose:function(e){e.stopPropagation(),this.$emit("close",e)},handleClick:function(e){this.$emit("click",e)}},computed:{tagSize:function(){return this.size||(this.$ELEMENT||{}).size}},render:function(e){var t=this.type,n=this.tagSize,r=this.hit,o=this.effect,i=["el-tag",t?"el-tag--"+t:"",n?"el-tag--"+n:"",o?"el-tag--"+o:"",r&&"is-hit"],a=e("span",{class:i,style:{backgroundColor:this.color},on:{click:this.handleClick}},[this.$slots.default,this.closable&&e("i",{class:"el-tag__close el-icon-close",on:{click:this.handleClose}})]);return this.disableTransitions?a:e("transition",{attrs:{name:"el-zoom-in-center"}},[a])}},a=i,s=n(0),c=Object(s["a"])(a,r,o,!1,null,null,null);c.options.__file="packages/tag/src/tag.vue";var u=c.exports;u.install=function(e){e.component(u.name,u)};t["default"]=u}})},"8c4f":function(e,t,n){"use strict";
/*!
  * vue-router v3.5.4
  * (c) 2022 Evan You
  * @license MIT
  */function r(e,t){for(var n in t)e[n]=t[n];return e}var o=/[!'()*]/g,i=function(e){return"%"+e.charCodeAt(0).toString(16)},a=/%2C/g,s=function(e){return encodeURIComponent(e).replace(o,i).replace(a,",")};function c(e){try{return decodeURIComponent(e)}catch(t){0}return e}function u(e,t,n){void 0===t&&(t={});var r,o=n||f;try{r=o(e||"")}catch(s){r={}}for(var i in t){var a=t[i];r[i]=Array.isArray(a)?a.map(l):l(a)}return r}var l=function(e){return null==e||"object"===typeof e?e:String(e)};function f(e){var t={};return e=e.trim().replace(/^(\?|#|&)/,""),e?(e.split("&").forEach((function(e){var n=e.replace(/\+/g," ").split("="),r=c(n.shift()),o=n.length>0?c(n.join("=")):null;void 0===t[r]?t[r]=o:Array.isArray(t[r])?t[r].push(o):t[r]=[t[r],o]})),t):t}function p(e){var t=e?Object.keys(e).map((function(t){var n=e[t];if(void 0===n)return"";if(null===n)return s(t);if(Array.isArray(n)){var r=[];return n.forEach((function(e){void 0!==e&&(null===e?r.push(s(t)):r.push(s(t)+"="+s(e)))})),r.join("&")}return s(t)+"="+s(n)})).filter((function(e){return e.length>0})).join("&"):null;return t?"?"+t:""}var d=/\/?$/;function h(e,t,n,r){var o=r&&r.options.stringifyQuery,i=t.query||{};try{i=g(i)}catch(s){}var a={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:i,params:t.params||{},fullPath:_(t,o),matched:e?m(e):[]};return n&&(a.redirectedFrom=_(n,o)),Object.freeze(a)}function g(e){if(Array.isArray(e))return e.map(g);if(e&&"object"===typeof e){var t={};for(var n in e)t[n]=g(e[n]);return t}return e}var v=h(null,{path:"/"});function m(e){var t=[];while(e)t.unshift(e),e=e.parent;return t}function _(e,t){var n=e.path,r=e.query;void 0===r&&(r={});var o=e.hash;void 0===o&&(o="");var i=t||p;return(n||"/")+i(r)+o}function y(e,t,n){return t===v?e===t:!!t&&(e.path&&t.path?e.path.replace(d,"")===t.path.replace(d,"")&&(n||e.hash===t.hash&&b(e.query,t.query)):!(!e.name||!t.name)&&(e.name===t.name&&(n||e.hash===t.hash&&b(e.query,t.query)&&b(e.params,t.params))))}function b(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),!e||!t)return e===t;var n=Object.keys(e).sort(),r=Object.keys(t).sort();return n.length===r.length&&n.every((function(n,o){var i=e[n],a=r[o];if(a!==n)return!1;var s=t[n];return null==i||null==s?i===s:"object"===typeof i&&"object"===typeof s?b(i,s):String(i)===String(s)}))}function M(e,t){return 0===e.path.replace(d,"/").indexOf(t.path.replace(d,"/"))&&(!t.hash||e.hash===t.hash)&&E(e.query,t.query)}function E(e,t){for(var n in t)if(!(n in e))return!1;return!0}function I(e){for(var t=0;t<e.matched.length;t++){var n=e.matched[t];for(var r in n.instances){var o=n.instances[r],i=n.enteredCbs[r];if(o&&i){delete n.enteredCbs[r];for(var a=0;a<i.length;a++)o._isBeingDestroyed||i[a](o)}}}}var S={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,t){var n=t.props,o=t.children,i=t.parent,a=t.data;a.routerView=!0;var s=i.$createElement,c=n.name,u=i.$route,l=i._routerViewCache||(i._routerViewCache={}),f=0,p=!1;while(i&&i._routerRoot!==i){var d=i.$vnode?i.$vnode.data:{};d.routerView&&f++,d.keepAlive&&i._directInactive&&i._inactive&&(p=!0),i=i.$parent}if(a.routerViewDepth=f,p){var h=l[c],g=h&&h.component;return g?(h.configProps&&T(g,a,h.route,h.configProps),s(g,a,o)):s()}var v=u.matched[f],m=v&&v.components[c];if(!v||!m)return l[c]=null,s();l[c]={component:m},a.registerRouteInstance=function(e,t){var n=v.instances[c];(t&&n!==e||!t&&n===e)&&(v.instances[c]=t)},(a.hook||(a.hook={})).prepatch=function(e,t){v.instances[c]=t.componentInstance},a.hook.init=function(e){e.data.keepAlive&&e.componentInstance&&e.componentInstance!==v.instances[c]&&(v.instances[c]=e.componentInstance),I(u)};var _=v.props&&v.props[c];return _&&(r(l[c],{route:u,configProps:_}),T(m,a,u,_)),s(m,a,o)}};function T(e,t,n,o){var i=t.props=O(n,o);if(i){i=t.props=r({},i);var a=t.attrs=t.attrs||{};for(var s in i)e.props&&s in e.props||(a[s]=i[s],delete i[s])}}function O(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0;default:0}}function C(e,t,n){var r=e.charAt(0);if("/"===r)return e;if("?"===r||"#"===r)return t+e;var o=t.split("/");n&&o[o.length-1]||o.pop();for(var i=e.replace(/^\//,"").split("/"),a=0;a<i.length;a++){var s=i[a];".."===s?o.pop():"."!==s&&o.push(s)}return""!==o[0]&&o.unshift(""),o.join("/")}function A(e){var t="",n="",r=e.indexOf("#");r>=0&&(t=e.slice(r),e=e.slice(0,r));var o=e.indexOf("?");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{path:e,query:n,hash:t}}function w(e){return e.replace(/\/(?:\s*\/)+/g,"/")}var R=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},D=J,N=G,k=U,L=q,P=Y,x=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function G(e,t){var n,r=[],o=0,i=0,a="",s=t&&t.delimiter||"/";while(null!=(n=x.exec(e))){var c=n[0],u=n[1],l=n.index;if(a+=e.slice(i,l),i=l+c.length,u)a+=u[1];else{var f=e[i],p=n[2],d=n[3],h=n[4],g=n[5],v=n[6],m=n[7];a&&(r.push(a),a="");var _=null!=p&&null!=f&&f!==p,y="+"===v||"*"===v,b="?"===v||"*"===v,M=n[2]||s,E=h||g;r.push({name:d||o++,prefix:p||"",delimiter:M,optional:b,repeat:y,partial:_,asterisk:!!m,pattern:E?V(E):m?".*":"[^"+B(M)+"]+?"})}}return i<e.length&&(a+=e.substr(i)),a&&r.push(a),r}function U(e,t){return q(G(e,t),t)}function F(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function j(e){return encodeURI(e).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function q(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"===typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",H(t)));return function(t,r){for(var o="",i=t||{},a=r||{},s=a.pretty?F:encodeURIComponent,c=0;c<e.length;c++){var u=e[c];if("string"!==typeof u){var l,f=i[u.name];if(null==f){if(u.optional){u.partial&&(o+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(R(f)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(l=s(f[p]),!n[c].test(l))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(l)+"`");o+=(0===p?u.prefix:u.delimiter)+l}}else{if(l=u.asterisk?j(f):s(f),!n[c].test(l))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+l+'"');o+=u.prefix+l}}else o+=u}return o}}function B(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function V(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function $(e,t){return e.keys=t,e}function H(e){return e&&e.sensitive?"":"i"}function K(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return $(e,t)}function W(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(J(e[o],t,n).source);var i=new RegExp("(?:"+r.join("|")+")",H(n));return $(i,t)}function z(e,t,n){return Y(G(e,n),t,n)}function Y(e,t,n){R(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,o=!1!==n.end,i="",a=0;a<e.length;a++){var s=e[a];if("string"===typeof s)i+=B(s);else{var c=B(s.prefix),u="(?:"+s.pattern+")";t.push(s),s.repeat&&(u+="(?:"+c+u+")*"),u=s.optional?s.partial?c+"("+u+")?":"(?:"+c+"("+u+"))?":c+"("+u+")",i+=u}}var l=B(n.delimiter||"/"),f=i.slice(-l.length)===l;return r||(i=(f?i.slice(0,-l.length):i)+"(?:"+l+"(?=$))?"),i+=o?"$":r&&f?"":"(?="+l+"|$)",$(new RegExp("^"+i,H(n)),t)}function J(e,t,n){return R(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?K(e,t):R(e)?W(e,t,n):z(e,t,n)}D.parse=N,D.compile=k,D.tokensToFunction=L,D.tokensToRegExp=P;var X=Object.create(null);function Q(e,t,n){t=t||{};try{var r=X[e]||(X[e]=D.compile(e));return"string"===typeof t.pathMatch&&(t[0]=t.pathMatch),r(t,{pretty:!0})}catch(o){return""}finally{delete t[0]}}function Z(e,t,n,o){var i="string"===typeof e?{path:e}:e;if(i._normalized)return i;if(i.name){i=r({},e);var a=i.params;return a&&"object"===typeof a&&(i.params=r({},a)),i}if(!i.path&&i.params&&t){i=r({},i),i._normalized=!0;var s=r(r({},t.params),i.params);if(t.name)i.name=t.name,i.params=s;else if(t.matched.length){var c=t.matched[t.matched.length-1].path;i.path=Q(c,s,"path "+t.path)}else 0;return i}var l=A(i.path||""),f=t&&t.path||"/",p=l.path?C(l.path,f,n||i.append):f,d=u(l.query,i.query,o&&o.options.parseQuery),h=i.hash||l.hash;return h&&"#"!==h.charAt(0)&&(h="#"+h),{_normalized:!0,path:p,query:d,hash:h}}var ee,te=[String,Object],ne=[String,Array],re=function(){},oe={name:"RouterLink",props:{to:{type:te,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:ne,default:"click"}},render:function(e){var t=this,n=this.$router,o=this.$route,i=n.resolve(this.to,o,this.append),a=i.location,s=i.route,c=i.href,u={},l=n.options.linkActiveClass,f=n.options.linkExactActiveClass,p=null==l?"router-link-active":l,d=null==f?"router-link-exact-active":f,g=null==this.activeClass?p:this.activeClass,v=null==this.exactActiveClass?d:this.exactActiveClass,m=s.redirectedFrom?h(null,Z(s.redirectedFrom),null,n):s;u[v]=y(o,m,this.exactPath),u[g]=this.exact||this.exactPath?u[v]:M(o,m);var _=u[v]?this.ariaCurrentValue:null,b=function(e){ie(e)&&(t.replace?n.replace(a,re):n.push(a,re))},E={click:ie};Array.isArray(this.event)?this.event.forEach((function(e){E[e]=b})):E[this.event]=b;var I={class:u},S=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:c,route:s,navigate:b,isActive:u[g],isExactActive:u[v]});if(S){if(1===S.length)return S[0];if(S.length>1||!S.length)return 0===S.length?e():e("span",{},S)}if("a"===this.tag)I.on=E,I.attrs={href:c,"aria-current":_};else{var T=ae(this.$slots.default);if(T){T.isStatic=!1;var O=T.data=r({},T.data);for(var C in O.on=O.on||{},O.on){var A=O.on[C];C in E&&(O.on[C]=Array.isArray(A)?A:[A])}for(var w in E)w in O.on?O.on[w].push(E[w]):O.on[w]=b;var R=T.data.attrs=r({},T.data.attrs);R.href=c,R["aria-current"]=_}else I.on=E}return e(this.tag,I,this.$slots.default)}};function ie(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ae(e){if(e)for(var t,n=0;n<e.length;n++){if(t=e[n],"a"===t.tag)return t;if(t.children&&(t=ae(t.children)))return t}}function se(e){if(!se.installed||ee!==e){se.installed=!0,ee=e;var t=function(e){return void 0!==e},n=function(e,n){var r=e.$options._parentVnode;t(r)&&t(r=r.data)&&t(r=r.registerRouteInstance)&&r(e,n)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",S),e.component("RouterLink",oe);var r=e.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}var ce="undefined"!==typeof window;function ue(e,t,n,r,o){var i=t||[],a=n||Object.create(null),s=r||Object.create(null);e.forEach((function(e){le(i,a,s,e,o)}));for(var c=0,u=i.length;c<u;c++)"*"===i[c]&&(i.push(i.splice(c,1)[0]),u--,c--);return{pathList:i,pathMap:a,nameMap:s}}function le(e,t,n,r,o,i){var a=r.path,s=r.name;var c=r.pathToRegexpOptions||{},u=pe(a,o,c.strict);"boolean"===typeof r.caseSensitive&&(c.sensitive=r.caseSensitive);var l={path:u,regex:fe(u,c),components:r.components||{default:r.component},alias:r.alias?"string"===typeof r.alias?[r.alias]:r.alias:[],instances:{},enteredCbs:{},name:s,parent:o,matchAs:i,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach((function(r){var o=i?w(i+"/"+r.path):void 0;le(e,t,n,r,l,o)})),t[l.path]||(e.push(l.path),t[l.path]=l),void 0!==r.alias)for(var f=Array.isArray(r.alias)?r.alias:[r.alias],p=0;p<f.length;++p){var d=f[p];0;var h={path:d,children:r.children};le(e,t,n,h,o,l.path||"/")}s&&(n[s]||(n[s]=l))}function fe(e,t){var n=D(e,[],t);return n}function pe(e,t,n){return n||(e=e.replace(/\/$/,"")),"/"===e[0]||null==t?e:w(t.path+"/"+e)}function de(e,t){var n=ue(e),r=n.pathList,o=n.pathMap,i=n.nameMap;function a(e){ue(e,r,o,i)}function s(e,t){var n="object"!==typeof e?i[e]:void 0;ue([t||e],r,o,i,n),n&&n.alias.length&&ue(n.alias.map((function(e){return{path:e,children:[t]}})),r,o,i,n)}function c(){return r.map((function(e){return o[e]}))}function u(e,n,a){var s=Z(e,n,!1,t),c=s.name;if(c){var u=i[c];if(!u)return p(null,s);var l=u.regex.keys.filter((function(e){return!e.optional})).map((function(e){return e.name}));if("object"!==typeof s.params&&(s.params={}),n&&"object"===typeof n.params)for(var f in n.params)!(f in s.params)&&l.indexOf(f)>-1&&(s.params[f]=n.params[f]);return s.path=Q(u.path,s.params,'named route "'+c+'"'),p(u,s,a)}if(s.path){s.params={};for(var d=0;d<r.length;d++){var h=r[d],g=o[h];if(he(g.regex,s.path,s.params))return p(g,s,a)}}return p(null,s)}function l(e,n){var r=e.redirect,o="function"===typeof r?r(h(e,n,null,t)):r;if("string"===typeof o&&(o={path:o}),!o||"object"!==typeof o)return p(null,n);var a=o,s=a.name,c=a.path,l=n.query,f=n.hash,d=n.params;if(l=a.hasOwnProperty("query")?a.query:l,f=a.hasOwnProperty("hash")?a.hash:f,d=a.hasOwnProperty("params")?a.params:d,s){i[s];return u({_normalized:!0,name:s,query:l,hash:f,params:d},void 0,n)}if(c){var g=ge(c,e),v=Q(g,d,'redirect route with path "'+g+'"');return u({_normalized:!0,path:v,query:l,hash:f},void 0,n)}return p(null,n)}function f(e,t,n){var r=Q(n,t.params,'aliased route with path "'+n+'"'),o=u({_normalized:!0,path:r});if(o){var i=o.matched,a=i[i.length-1];return t.params=o.params,p(a,t)}return p(null,t)}function p(e,n,r){return e&&e.redirect?l(e,r||n):e&&e.matchAs?f(e,n,e.matchAs):h(e,n,r,t)}return{match:u,addRoute:s,getRoutes:c,addRoutes:a}}function he(e,t,n){var r=t.match(e);if(!r)return!1;if(!n)return!0;for(var o=1,i=r.length;o<i;++o){var a=e.keys[o-1];a&&(n[a.name||"pathMatch"]="string"===typeof r[o]?c(r[o]):r[o])}return!0}function ge(e,t){return C(e,t.parent?t.parent.path:"/",!0)}var ve=ce&&window.performance&&window.performance.now?window.performance:Date;function me(){return ve.now().toFixed(3)}var _e=me();function ye(){return _e}function be(e){return _e=e}var Me=Object.create(null);function Ee(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var e=window.location.protocol+"//"+window.location.host,t=window.location.href.replace(e,""),n=r({},window.history.state);return n.key=ye(),window.history.replaceState(n,"",t),window.addEventListener("popstate",Te),function(){window.removeEventListener("popstate",Te)}}function Ie(e,t,n,r){if(e.app){var o=e.options.scrollBehavior;o&&e.app.$nextTick((function(){var i=Oe(),a=o.call(e,t,n,r?i:null);a&&("function"===typeof a.then?a.then((function(e){ke(e,i)})).catch((function(e){0})):ke(a,i))}))}}function Se(){var e=ye();e&&(Me[e]={x:window.pageXOffset,y:window.pageYOffset})}function Te(e){Se(),e.state&&e.state.key&&be(e.state.key)}function Oe(){var e=ye();if(e)return Me[e]}function Ce(e,t){var n=document.documentElement,r=n.getBoundingClientRect(),o=e.getBoundingClientRect();return{x:o.left-r.left-t.x,y:o.top-r.top-t.y}}function Ae(e){return De(e.x)||De(e.y)}function we(e){return{x:De(e.x)?e.x:window.pageXOffset,y:De(e.y)?e.y:window.pageYOffset}}function Re(e){return{x:De(e.x)?e.x:0,y:De(e.y)?e.y:0}}function De(e){return"number"===typeof e}var Ne=/^#\d/;function ke(e,t){var n="object"===typeof e;if(n&&"string"===typeof e.selector){var r=Ne.test(e.selector)?document.getElementById(e.selector.slice(1)):document.querySelector(e.selector);if(r){var o=e.offset&&"object"===typeof e.offset?e.offset:{};o=Re(o),t=Ce(r,o)}else Ae(e)&&(t=we(e))}else n&&Ae(e)&&(t=we(e));t&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:t.x,top:t.y,behavior:e.behavior}):window.scrollTo(t.x,t.y))}var Le=ce&&function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"function"===typeof window.history.pushState)}();function Pe(e,t){Se();var n=window.history;try{if(t){var o=r({},n.state);o.key=ye(),n.replaceState(o,"",e)}else n.pushState({key:be(me())},"",e)}catch(i){window.location[t?"replace":"assign"](e)}}function xe(e){Pe(e,!0)}function Ge(e,t,n){var r=function(o){o>=e.length?n():e[o]?t(e[o],(function(){r(o+1)})):r(o+1)};r(0)}var Ue={redirected:2,aborted:4,cancelled:8,duplicated:16};function Fe(e,t){return Ve(e,t,Ue.redirected,'Redirected when going from "'+e.fullPath+'" to "'+He(t)+'" via a navigation guard.')}function je(e,t){var n=Ve(e,t,Ue.duplicated,'Avoided redundant navigation to current location: "'+e.fullPath+'".');return n.name="NavigationDuplicated",n}function qe(e,t){return Ve(e,t,Ue.cancelled,'Navigation cancelled from "'+e.fullPath+'" to "'+t.fullPath+'" with a new navigation.')}function Be(e,t){return Ve(e,t,Ue.aborted,'Navigation aborted from "'+e.fullPath+'" to "'+t.fullPath+'" via a navigation guard.')}function Ve(e,t,n,r){var o=new Error(r);return o._isRouter=!0,o.from=e,o.to=t,o.type=n,o}var $e=["params","query","hash"];function He(e){if("string"===typeof e)return e;if("path"in e)return e.path;var t={};return $e.forEach((function(n){n in e&&(t[n]=e[n])})),JSON.stringify(t,null,2)}function Ke(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function We(e,t){return Ke(e)&&e._isRouter&&(null==t||e.type===t)}function ze(e){return function(t,n,r){var o=!1,i=0,a=null;Ye(e,(function(e,t,n,s){if("function"===typeof e&&void 0===e.cid){o=!0,i++;var c,u=Ze((function(t){Qe(t)&&(t=t.default),e.resolved="function"===typeof t?t:ee.extend(t),n.components[s]=t,i--,i<=0&&r()})),l=Ze((function(e){var t="Failed to resolve async component "+s+": "+e;a||(a=Ke(e)?e:new Error(t),r(a))}));try{c=e(u,l)}catch(p){l(p)}if(c)if("function"===typeof c.then)c.then(u,l);else{var f=c.component;f&&"function"===typeof f.then&&f.then(u,l)}}})),o||r()}}function Ye(e,t){return Je(e.map((function(e){return Object.keys(e.components).map((function(n){return t(e.components[n],e.instances[n],e,n)}))})))}function Je(e){return Array.prototype.concat.apply([],e)}var Xe="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function Qe(e){return e.__esModule||Xe&&"Module"===e[Symbol.toStringTag]}function Ze(e){var t=!1;return function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];if(!t)return t=!0,e.apply(this,n)}}var et=function(e,t){this.router=e,this.base=tt(t),this.current=v,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function tt(e){if(!e)if(ce){var t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^https?:\/\/[^\/]+/,"")}else e="/";return"/"!==e.charAt(0)&&(e="/"+e),e.replace(/\/$/,"")}function nt(e,t){var n,r=Math.max(e.length,t.length);for(n=0;n<r;n++)if(e[n]!==t[n])break;return{updated:t.slice(0,n),activated:t.slice(n),deactivated:e.slice(n)}}function rt(e,t,n,r){var o=Ye(e,(function(e,r,o,i){var a=ot(e,t);if(a)return Array.isArray(a)?a.map((function(e){return n(e,r,o,i)})):n(a,r,o,i)}));return Je(r?o.reverse():o)}function ot(e,t){return"function"!==typeof e&&(e=ee.extend(e)),e.options[t]}function it(e){return rt(e,"beforeRouteLeave",st,!0)}function at(e){return rt(e,"beforeRouteUpdate",st)}function st(e,t){if(t)return function(){return e.apply(t,arguments)}}function ct(e){return rt(e,"beforeRouteEnter",(function(e,t,n,r){return ut(e,n,r)}))}function ut(e,t,n){return function(r,o,i){return e(r,o,(function(e){"function"===typeof e&&(t.enteredCbs[n]||(t.enteredCbs[n]=[]),t.enteredCbs[n].push(e)),i(e)}))}}et.prototype.listen=function(e){this.cb=e},et.prototype.onReady=function(e,t){this.ready?e():(this.readyCbs.push(e),t&&this.readyErrorCbs.push(t))},et.prototype.onError=function(e){this.errorCbs.push(e)},et.prototype.transitionTo=function(e,t,n){var r,o=this;try{r=this.router.match(e,this.current)}catch(a){throw this.errorCbs.forEach((function(e){e(a)})),a}var i=this.current;this.confirmTransition(r,(function(){o.updateRoute(r),t&&t(r),o.ensureURL(),o.router.afterHooks.forEach((function(e){e&&e(r,i)})),o.ready||(o.ready=!0,o.readyCbs.forEach((function(e){e(r)})))}),(function(e){n&&n(e),e&&!o.ready&&(We(e,Ue.redirected)&&i===v||(o.ready=!0,o.readyErrorCbs.forEach((function(t){t(e)}))))}))},et.prototype.confirmTransition=function(e,t,n){var r=this,o=this.current;this.pending=e;var i=function(e){!We(e)&&Ke(e)&&(r.errorCbs.length?r.errorCbs.forEach((function(t){t(e)})):console.error(e)),n&&n(e)},a=e.matched.length-1,s=o.matched.length-1;if(y(e,o)&&a===s&&e.matched[a]===o.matched[s])return this.ensureURL(),e.hash&&Ie(this.router,o,e,!1),i(je(o,e));var c=nt(this.current.matched,e.matched),u=c.updated,l=c.deactivated,f=c.activated,p=[].concat(it(l),this.router.beforeHooks,at(u),f.map((function(e){return e.beforeEnter})),ze(f)),d=function(t,n){if(r.pending!==e)return i(qe(o,e));try{t(e,o,(function(t){!1===t?(r.ensureURL(!0),i(Be(o,e))):Ke(t)?(r.ensureURL(!0),i(t)):"string"===typeof t||"object"===typeof t&&("string"===typeof t.path||"string"===typeof t.name)?(i(Fe(o,e)),"object"===typeof t&&t.replace?r.replace(t):r.push(t)):n(t)}))}catch(a){i(a)}};Ge(p,d,(function(){var n=ct(f),a=n.concat(r.router.resolveHooks);Ge(a,d,(function(){if(r.pending!==e)return i(qe(o,e));r.pending=null,t(e),r.router.app&&r.router.app.$nextTick((function(){I(e)}))}))}))},et.prototype.updateRoute=function(e){this.current=e,this.cb&&this.cb(e)},et.prototype.setupListeners=function(){},et.prototype.teardown=function(){this.listeners.forEach((function(e){e()})),this.listeners=[],this.current=v,this.pending=null};var lt=function(e){function t(t,n){e.call(this,t,n),this._startLocation=ft(this.base)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router,n=t.options.scrollBehavior,r=Le&&n;r&&this.listeners.push(Ee());var o=function(){var n=e.current,o=ft(e.base);e.current===v&&o===e._startLocation||e.transitionTo(o,(function(e){r&&Ie(t,e,n,!0)}))};window.addEventListener("popstate",o),this.listeners.push((function(){window.removeEventListener("popstate",o)}))}},t.prototype.go=function(e){window.history.go(e)},t.prototype.push=function(e,t,n){var r=this,o=this,i=o.current;this.transitionTo(e,(function(e){Pe(w(r.base+e.fullPath)),Ie(r.router,e,i,!1),t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var r=this,o=this,i=o.current;this.transitionTo(e,(function(e){xe(w(r.base+e.fullPath)),Ie(r.router,e,i,!1),t&&t(e)}),n)},t.prototype.ensureURL=function(e){if(ft(this.base)!==this.current.fullPath){var t=w(this.base+this.current.fullPath);e?Pe(t):xe(t)}},t.prototype.getCurrentLocation=function(){return ft(this.base)},t}(et);function ft(e){var t=window.location.pathname,n=t.toLowerCase(),r=e.toLowerCase();return!e||n!==r&&0!==n.indexOf(w(r+"/"))||(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}var pt=function(e){function t(t,n,r){e.call(this,t,n),r&&dt(this.base)||ht()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router,n=t.options.scrollBehavior,r=Le&&n;r&&this.listeners.push(Ee());var o=function(){var t=e.current;ht()&&e.transitionTo(gt(),(function(n){r&&Ie(e.router,n,t,!0),Le||_t(n.fullPath)}))},i=Le?"popstate":"hashchange";window.addEventListener(i,o),this.listeners.push((function(){window.removeEventListener(i,o)}))}},t.prototype.push=function(e,t,n){var r=this,o=this,i=o.current;this.transitionTo(e,(function(e){mt(e.fullPath),Ie(r.router,e,i,!1),t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var r=this,o=this,i=o.current;this.transitionTo(e,(function(e){_t(e.fullPath),Ie(r.router,e,i,!1),t&&t(e)}),n)},t.prototype.go=function(e){window.history.go(e)},t.prototype.ensureURL=function(e){var t=this.current.fullPath;gt()!==t&&(e?mt(t):_t(t))},t.prototype.getCurrentLocation=function(){return gt()},t}(et);function dt(e){var t=ft(e);if(!/^\/#/.test(t))return window.location.replace(w(e+"/#"+t)),!0}function ht(){var e=gt();return"/"===e.charAt(0)||(_t("/"+e),!1)}function gt(){var e=window.location.href,t=e.indexOf("#");return t<0?"":(e=e.slice(t+1),e)}function vt(e){var t=window.location.href,n=t.indexOf("#"),r=n>=0?t.slice(0,n):t;return r+"#"+e}function mt(e){Le?Pe(vt(e)):window.location.hash=e}function _t(e){Le?xe(vt(e)):window.location.replace(vt(e))}var yt=function(e){function t(t,n){e.call(this,t,n),this.stack=[],this.index=-1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(e,t,n){var r=this;this.transitionTo(e,(function(e){r.stack=r.stack.slice(0,r.index+1).concat(e),r.index++,t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var r=this;this.transitionTo(e,(function(e){r.stack=r.stack.slice(0,r.index).concat(e),t&&t(e)}),n)},t.prototype.go=function(e){var t=this,n=this.index+e;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,(function(){var e=t.current;t.index=n,t.updateRoute(r),t.router.afterHooks.forEach((function(t){t&&t(r,e)}))}),(function(e){We(e,Ue.duplicated)&&(t.index=n)}))}},t.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},t.prototype.ensureURL=function(){},t}(et),bt=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=de(e.routes||[],this);var t=e.mode||"hash";switch(this.fallback="history"===t&&!Le&&!1!==e.fallback,this.fallback&&(t="hash"),ce||(t="abstract"),this.mode=t,t){case"history":this.history=new lt(this,e.base);break;case"hash":this.history=new pt(this,e.base,this.fallback);break;case"abstract":this.history=new yt(this,e.base);break;default:0}},Mt={currentRoute:{configurable:!0}};function Et(e,t){return e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function It(e,t,n){var r="hash"===n?"#"+t:t;return e?w(e+"/"+r):r}bt.prototype.match=function(e,t,n){return this.matcher.match(e,t,n)},Mt.currentRoute.get=function(){return this.history&&this.history.current},bt.prototype.init=function(e){var t=this;if(this.apps.push(e),e.$once("hook:destroyed",(function(){var n=t.apps.indexOf(e);n>-1&&t.apps.splice(n,1),t.app===e&&(t.app=t.apps[0]||null),t.app||t.history.teardown()})),!this.app){this.app=e;var n=this.history;if(n instanceof lt||n instanceof pt){var r=function(e){var r=n.current,o=t.options.scrollBehavior,i=Le&&o;i&&"fullPath"in e&&Ie(t,e,r,!1)},o=function(e){n.setupListeners(),r(e)};n.transitionTo(n.getCurrentLocation(),o,o)}n.listen((function(e){t.apps.forEach((function(t){t._route=e}))}))}},bt.prototype.beforeEach=function(e){return Et(this.beforeHooks,e)},bt.prototype.beforeResolve=function(e){return Et(this.resolveHooks,e)},bt.prototype.afterEach=function(e){return Et(this.afterHooks,e)},bt.prototype.onReady=function(e,t){this.history.onReady(e,t)},bt.prototype.onError=function(e){this.history.onError(e)},bt.prototype.push=function(e,t,n){var r=this;if(!t&&!n&&"undefined"!==typeof Promise)return new Promise((function(t,n){r.history.push(e,t,n)}));this.history.push(e,t,n)},bt.prototype.replace=function(e,t,n){var r=this;if(!t&&!n&&"undefined"!==typeof Promise)return new Promise((function(t,n){r.history.replace(e,t,n)}));this.history.replace(e,t,n)},bt.prototype.go=function(e){this.history.go(e)},bt.prototype.back=function(){this.go(-1)},bt.prototype.forward=function(){this.go(1)},bt.prototype.getMatchedComponents=function(e){var t=e?e.matched?e:this.resolve(e).route:this.currentRoute;return t?[].concat.apply([],t.matched.map((function(e){return Object.keys(e.components).map((function(t){return e.components[t]}))}))):[]},bt.prototype.resolve=function(e,t,n){t=t||this.history.current;var r=Z(e,t,n,this),o=this.match(r,t),i=o.redirectedFrom||o.fullPath,a=this.history.base,s=It(a,i,this.mode);return{location:r,route:o,href:s,normalizedTo:r,resolved:o}},bt.prototype.getRoutes=function(){return this.matcher.getRoutes()},bt.prototype.addRoute=function(e,t){this.matcher.addRoute(e,t),this.history.current!==v&&this.history.transitionTo(this.history.getCurrentLocation())},bt.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==v&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(bt.prototype,Mt),bt.install=se,bt.version="3.5.4",bt.isNavigationFailure=We,bt.NavigationFailureType=Ue,bt.START_LOCATION=v,ce&&window.Vue&&window.Vue.use(bt),t["a"]=bt},"8df4":function(e,t,n){"use strict";var r=n("7a77");function o(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e,t=new o((function(t){e=t}));return{token:t,cancel:e}},e.exports=o},"907a":function(e,t,n){"use strict";var r=n("ebb5"),o=n("07fa"),i=n("5926"),a=r.aTypedArray,s=r.exportTypedArrayMethod;s("at",(function(e){var t=a(this),n=o(t),r=i(e),s=r>=0?r:n+r;return s<0||s>=n?void 0:t[s]}))},"90d8":function(e,t,n){var r=n("c65b"),o=n("1a2d"),i=n("3a9b"),a=n("ad6d"),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||o(e,"flags")||!i(s,e)?t:r(a,e)}},"90e3":function(e,t,n){var r=n("e330"),o=0,i=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},9112:function(e,t,n){var r=n("83ab"),o=n("9bf2"),i=n("5c6c");e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},9141:function(e,t,n){var r=n("ef08").document;e.exports=r&&r.documentElement},9263:function(e,t,n){"use strict";var r=n("c65b"),o=n("e330"),i=n("577e"),a=n("ad6d"),s=n("9f7f"),c=n("5692"),u=n("7c73"),l=n("69f3").get,f=n("fce3"),p=n("107c"),d=c("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,g=h,v=o("".charAt),m=o("".indexOf),_=o("".replace),y=o("".slice),b=function(){var e=/a/,t=/b*/g;return r(h,e,"a"),r(h,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),M=s.BROKEN_CARET,E=void 0!==/()??/.exec("")[1],I=b||E||M||f||p;I&&(g=function(e){var t,n,o,s,c,f,p,I=this,S=l(I),T=i(e),O=S.raw;if(O)return O.lastIndex=I.lastIndex,t=r(g,O,T),I.lastIndex=O.lastIndex,t;var C=S.groups,A=M&&I.sticky,w=r(a,I),R=I.source,D=0,N=T;if(A&&(w=_(w,"y",""),-1===m(w,"g")&&(w+="g"),N=y(T,I.lastIndex),I.lastIndex>0&&(!I.multiline||I.multiline&&"\n"!==v(T,I.lastIndex-1))&&(R="(?: "+R+")",N=" "+N,D++),n=new RegExp("^(?:"+R+")",w)),E&&(n=new RegExp("^"+R+"$(?!\\s)",w)),b&&(o=I.lastIndex),s=r(h,A?n:I,N),A?s?(s.input=y(s.input,D),s[0]=y(s[0],D),s.index=I.lastIndex,I.lastIndex+=s[0].length):I.lastIndex=0:b&&s&&(I.lastIndex=I.global?s.index+s[0].length:o),E&&s&&s.length>1&&r(d,s[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(s[c]=void 0)})),s&&C)for(s.groups=f=u(null),c=0;c<C.length;c++)p=C[c],f[p[0]]=s[p[1]];return s}),e.exports=g},"92f0":function(e,t,n){var r=n("1a14").f,o=n("9c0e"),i=n("cc15")("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},"94ca":function(e,t,n){var r=n("d039"),o=n("1626"),i=/#|\.prototype\./,a=function(e,t){var n=c[s(e)];return n==l||n!=u&&(o(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},9619:function(e,t,n){var r=n("597f"),o=n("0e15");e.exports={throttle:r,debounce:o}},"970b":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n("d9e2"),e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},9742:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},9876:function(e,t,n){var r=n("03d6"),o=n("9742");e.exports=Object.keys||function(e){return r(e,o)}},"99af":function(e,t,n){"use strict";var r=n("23e7"),o=n("d039"),i=n("e8b5"),a=n("861d"),s=n("7b0b"),c=n("07fa"),u=n("3511"),l=n("8418"),f=n("65f0"),p=n("1dde"),d=n("b622"),h=n("2d00"),g=d("isConcatSpreadable"),v=h>=51||!o((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),m=p("concat"),_=function(e){if(!a(e))return!1;var t=e[g];return void 0!==t?!!t:i(e)},y=!v||!m;r({target:"Array",proto:!0,arity:1,forced:y},{concat:function(e){var t,n,r,o,i,a=s(this),p=f(a,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(i=-1===t?a:arguments[t],_(i))for(o=c(i),u(d+o),n=0;n<o;n++,d++)n in i&&l(p,d,i[n]);else u(d+1),l(p,d++,i);return p.length=d,p}})},"9a1f":function(e,t,n){var r=n("c65b"),o=n("59ed"),i=n("825a"),a=n("0d51"),s=n("35a1"),c=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(o(n))return i(r(n,e));throw c(a(e)+" is not iterable")}},"9a8c":function(e,t,n){"use strict";var r=n("e330"),o=n("ebb5"),i=n("145e"),a=r(i),s=o.aTypedArray,c=o.exportTypedArrayMethod;c("copyWithin",(function(e,t){return a(s(this),e,t,arguments.length>2?arguments[2]:void 0)}))},"9afc":function(e,t,n){"use strict";var r=function(e){return o(e)&&!i(e)};function o(e){return!!e&&"object"===typeof e}function i(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||c(e)}var a="function"===typeof Symbol&&Symbol.for,s=a?Symbol.for("react.element"):60103;function c(e){return e.$$typeof===s}function u(e){return Array.isArray(e)?[]:{}}function l(e,t){var n=t&&!0===t.clone;return n&&r(e)?d(u(e),e,t):e}function f(e,t,n){var o=e.slice();return t.forEach((function(t,i){"undefined"===typeof o[i]?o[i]=l(t,n):r(t)?o[i]=d(e[i],t,n):-1===e.indexOf(t)&&o.push(l(t,n))})),o}function p(e,t,n){var o={};return r(e)&&Object.keys(e).forEach((function(t){o[t]=l(e[t],n)})),Object.keys(t).forEach((function(i){r(t[i])&&e[i]?o[i]=d(e[i],t[i],n):o[i]=l(t[i],n)})),o}function d(e,t,n){var r=Array.isArray(t),o=Array.isArray(e),i=n||{arrayMerge:f},a=r===o;if(a){if(r){var s=i.arrayMerge||f;return s(e,t,n)}return p(e,t,n)}return l(t,n)}d.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return d(e,n,t)}))};var h=d;e.exports=h},"9bdd":function(e,t,n){var r=n("825a"),o=n("2a62");e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(a){o(e,"throw",a)}}},"9bf2":function(e,t,n){var r=n("83ab"),o=n("0cfb"),i=n("aed9"),a=n("825a"),s=n("a04b"),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f="enumerable",p="configurable",d="writable";t.f=r?i?function(e,t,n){if(a(e),t=s(t),a(n),"function"===typeof e&&"prototype"===t&&"value"in n&&d in n&&!n[d]){var r=l(e,t);r&&r[d]&&(e[t]=n.value,n={configurable:p in n?n[p]:r[p],enumerable:f in n?n[f]:r[f],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(a(e),t=s(t),a(n),o)try{return u(e,t,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9c0c":function(e,t,n){var r=n("1609");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},"9c0e":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"9d11":function(e,t,n){var r=n("fc5e"),o=Math.max,i=Math.min;e.exports=function(e,t){return e=r(e),e<0?o(e+t,0):i(e,t)}},"9d7e":function(e,t,n){"use strict";t.__esModule=!0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){function t(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return 1===n.length&&"object"===r(n[0])&&(n=n[0]),n&&n.hasOwnProperty||(n={}),e.replace(i,(function(t,r,i,a){var s=void 0;return"{"===e[a-1]&&"}"===e[a+t.length]?i:(s=(0,o.hasOwn)(n,i)?n[i]:null,null===s||void 0===s?"":s)}))}return t};var o=n("8122"),i=/(%|)\{([0-9a-zA-Z_]+)\}/g},"9ed3":function(e,t,n){"use strict";var r=n("ae93").IteratorPrototype,o=n("7c73"),i=n("5c6c"),a=n("d44e"),s=n("3f8c"),c=function(){return this};e.exports=function(e,t,n,u){var l=t+" Iterator";return e.prototype=o(r,{next:i(+!u,n)}),a(e,l,!1,!0),s[l]=c,e}},"9f7f":function(e,t,n){var r=n("d039"),o=n("da84"),i=o.RegExp,a=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),s=a||r((function(){return!i("a","y").sticky})),c=a||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:c,MISSED_STICKY:s,UNSUPPORTED_Y:a}},"9fbb":function(e,t,n){var r=n("4d88");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},a04b:function(e,t,n){var r=n("c04e"),o=n("d9b5");e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},a078:function(e,t,n){var r=n("0366"),o=n("c65b"),i=n("5087"),a=n("7b0b"),s=n("07fa"),c=n("9a1f"),u=n("35a1"),l=n("e95a"),f=n("ebb5").aTypedArrayConstructor;e.exports=function(e){var t,n,p,d,h,g,v=i(this),m=a(e),_=arguments.length,y=_>1?arguments[1]:void 0,b=void 0!==y,M=u(m);if(M&&!l(M)){h=c(m,M),g=h.next,m=[];while(!(d=o(g,h)).done)m.push(d.value)}for(b&&_>2&&(y=r(y,arguments[2])),n=s(m),p=new(f(v))(n),t=0;n>t;t++)p[t]=b?y(m[t],t):m[t];return p}},a15b:function(e,t,n){"use strict";var r=n("23e7"),o=n("e330"),i=n("44ad"),a=n("fc6a"),s=n("a640"),c=o([].join),u=i!=Object,l=s("join",",");r({target:"Array",proto:!0,forced:u||!l},{join:function(e){return c(a(this),void 0===e?",":e)}})},a15e:function(e,t,n){"use strict";n.r(t);var r=n("41b2"),o=n.n(r),i=n("1098"),a=n.n(i),s=/%[sdj%]/g,c=function(){};function u(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=1,o=t[0],i=t.length;if("function"===typeof o)return o.apply(null,t.slice(1));if("string"===typeof o){for(var a=String(o).replace(s,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(t[r++]);case"%d":return Number(t[r++]);case"%j":try{return JSON.stringify(t[r++])}catch(n){return"[Circular]"}break;default:return e}})),c=t[r];r<i;c=t[++r])a+=" "+c;return a}return o}function l(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"pattern"===e}function f(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!l(t)||"string"!==typeof e||e))}function p(e,t,n){var r=[],o=0,i=e.length;function a(e){r.push.apply(r,e),o++,o===i&&n(r)}e.forEach((function(e){t(e,a)}))}function d(e,t,n){var r=0,o=e.length;function i(a){if(a&&a.length)n(a);else{var s=r;r+=1,s<o?t(e[s],i):n([])}}i([])}function h(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n])})),t}function g(e,t,n,r){if(t.first){var o=h(e);return d(o,n,r)}var i=t.firstFields||[];!0===i&&(i=Object.keys(e));var a=Object.keys(e),s=a.length,c=0,u=[],l=function(e){u.push.apply(u,e),c++,c===s&&r(u)};a.forEach((function(t){var r=e[t];-1!==i.indexOf(t)?d(r,n,l):p(r,n,l)}))}function v(e){return function(t){return t&&t.message?(t.field=t.field||e.fullField,t):{message:t,field:t.field||e.fullField}}}function m(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===("undefined"===typeof r?"undefined":a()(r))&&"object"===a()(e[n])?e[n]=o()({},e[n],r):e[n]=r}return e}function _(e,t,n,r,o,i){!e.required||n.hasOwnProperty(e.field)&&!f(t,i||e.type)||r.push(u(o.messages.required,e.fullField))}var y=_;function b(e,t,n,r,o){(/^\s+$/.test(t)||""===t)&&r.push(u(o.messages.whitespace,e.fullField))}var M=b,E={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},I={integer:function(e){return I.number(e)&&parseInt(e,10)===e},float:function(e){return I.number(e)&&!I.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===("undefined"===typeof e?"undefined":a()(e))&&!I.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&!!e.match(E.email)&&e.length<255},url:function(e){return"string"===typeof e&&!!e.match(E.url)},hex:function(e){return"string"===typeof e&&!!e.match(E.hex)}};function S(e,t,n,r,o){if(e.required&&void 0===t)y(e,t,n,r,o);else{var i=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=e.type;i.indexOf(s)>-1?I[s](t)||r.push(u(o.messages.types[s],e.fullField,e.type)):s&&("undefined"===typeof t?"undefined":a()(t))!==e.type&&r.push(u(o.messages.types[s],e.fullField,e.type))}}var T=S;function O(e,t,n,r,o){var i="number"===typeof e.len,a="number"===typeof e.min,s="number"===typeof e.max,c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=t,f=null,p="number"===typeof t,d="string"===typeof t,h=Array.isArray(t);if(p?f="number":d?f="string":h&&(f="array"),!f)return!1;h&&(l=t.length),d&&(l=t.replace(c,"_").length),i?l!==e.len&&r.push(u(o.messages[f].len,e.fullField,e.len)):a&&!s&&l<e.min?r.push(u(o.messages[f].min,e.fullField,e.min)):s&&!a&&l>e.max?r.push(u(o.messages[f].max,e.fullField,e.max)):a&&s&&(l<e.min||l>e.max)&&r.push(u(o.messages[f].range,e.fullField,e.min,e.max))}var C=O,A="enum";function w(e,t,n,r,o){e[A]=Array.isArray(e[A])?e[A]:[],-1===e[A].indexOf(t)&&r.push(u(o.messages[A],e.fullField,e[A].join(", ")))}var R=w;function D(e,t,n,r,o){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(u(o.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){var i=new RegExp(e.pattern);i.test(t)||r.push(u(o.messages.pattern.mismatch,e.fullField,t,e.pattern))}}var N=D,k={required:y,whitespace:M,type:T,range:C,enum:R,pattern:N};function L(e,t,n,r,o){var i=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(f(t,"string")&&!e.required)return n();k.required(e,t,r,i,o,"string"),f(t,"string")||(k.type(e,t,r,i,o),k.range(e,t,r,i,o),k.pattern(e,t,r,i,o),!0===e.whitespace&&k.whitespace(e,t,r,i,o))}n(i)}var P=L;function x(e,t,n,r,o){var i=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(f(t)&&!e.required)return n();k.required(e,t,r,i,o),void 0!==t&&k.type(e,t,r,i,o)}n(i)}var G=x;function U(e,t,n,r,o){var i=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(f(t)&&!e.required)return n();k.required(e,t,r,i,o),void 0!==t&&(k.type(e,t,r,i,o),k.range(e,t,r,i,o))}n(i)}var F=U;function j(e,t,n,r,o){var i=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(f(t)&&!e.required)return n();k.required(e,t,r,i,o),void 0!==t&&k.type(e,t,r,i,o)}n(i)}var q=j;function B(e,t,n,r,o){var i=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(f(t)&&!e.required)return n();k.required(e,t,r,i,o),f(t)||k.type(e,t,r,i,o)}n(i)}var V=B;function $(e,t,n,r,o){var i=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(f(t)&&!e.required)return n();k.required(e,t,r,i,o),void 0!==t&&(k.type(e,t,r,i,o),k.range(e,t,r,i,o))}n(i)}var H=$;function K(e,t,n,r,o){var i=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(f(t)&&!e.required)return n();k.required(e,t,r,i,o),void 0!==t&&(k.type(e,t,r,i,o),k.range(e,t,r,i,o))}n(i)}var W=K;function z(e,t,n,r,o){var i=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(f(t,"array")&&!e.required)return n();k.required(e,t,r,i,o,"array"),f(t,"array")||(k.type(e,t,r,i,o),k.range(e,t,r,i,o))}n(i)}var Y=z;function J(e,t,n,r,o){var i=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(f(t)&&!e.required)return n();k.required(e,t,r,i,o),void 0!==t&&k.type(e,t,r,i,o)}n(i)}var X=J,Q="enum";function Z(e,t,n,r,o){var i=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(f(t)&&!e.required)return n();k.required(e,t,r,i,o),t&&k[Q](e,t,r,i,o)}n(i)}var ee=Z;function te(e,t,n,r,o){var i=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(f(t,"string")&&!e.required)return n();k.required(e,t,r,i,o),f(t,"string")||k.pattern(e,t,r,i,o)}n(i)}var ne=te;function re(e,t,n,r,o){var i=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(f(t)&&!e.required)return n();if(k.required(e,t,r,i,o),!f(t)){var s=void 0;s="number"===typeof t?new Date(t):t,k.type(e,s,r,i,o),s&&k.range(e,s.getTime(),r,i,o)}}n(i)}var oe=re;function ie(e,t,n,r,o){var i=[],s=Array.isArray(t)?"array":"undefined"===typeof t?"undefined":a()(t);k.required(e,t,r,i,o,s),n(i)}var ae=ie;function se(e,t,n,r,o){var i=e.type,a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(f(t,i)&&!e.required)return n();k.required(e,t,r,a,o,i),f(t,i)||k.type(e,t,r,a,o)}n(a)}var ce=se,ue={string:P,method:G,number:F,boolean:q,regexp:V,integer:H,float:W,array:Y,object:X,enum:ee,pattern:ne,date:oe,url:ce,hex:ce,email:ce,required:ae};function le(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var fe=le();function pe(e){this.rules=null,this._messages=fe,this.define(e)}pe.prototype={messages:function(e){return e&&(this._messages=m(le(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==("undefined"===typeof e?"undefined":a()(e))||Array.isArray(e))throw new Error("Rules must be an object");this.rules={};var t=void 0,n=void 0;for(t in e)e.hasOwnProperty(t)&&(n=e[t],this.rules[t]=Array.isArray(n)?n:[n])},validate:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2],i=e,s=n,l=r;if("function"===typeof s&&(l=s,s={}),this.rules&&0!==Object.keys(this.rules).length){if(s.messages){var f=this.messages();f===fe&&(f=le()),m(f,s.messages),s.messages=f}else s.messages=this.messages();var p=void 0,d=void 0,h={},_=s.keys||Object.keys(this.rules);_.forEach((function(n){p=t.rules[n],d=i[n],p.forEach((function(r){var a=r;"function"===typeof a.transform&&(i===e&&(i=o()({},i)),d=i[n]=a.transform(d)),a="function"===typeof a?{validator:a}:o()({},a),a.validator=t.getValidationMethod(a),a.field=n,a.fullField=a.fullField||n,a.type=t.getType(a),a.validator&&(h[n]=h[n]||[],h[n].push({rule:a,value:d,source:i,field:n}))}))}));var y={};g(h,s,(function(e,t){var n=e.rule,r=("object"===n.type||"array"===n.type)&&("object"===a()(n.fields)||"object"===a()(n.defaultField));function i(e,t){return o()({},t,{fullField:n.fullField+"."+e})}function l(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=a;if(Array.isArray(l)||(l=[l]),l.length&&c("async-validator:",l),l.length&&n.message&&(l=[].concat(n.message)),l=l.map(v(n)),s.first&&l.length)return y[n.field]=1,t(l);if(r){if(n.required&&!e.value)return l=n.message?[].concat(n.message).map(v(n)):s.error?[s.error(n,u(s.messages.required,n.field))]:[],t(l);var f={};if(n.defaultField)for(var p in e.value)e.value.hasOwnProperty(p)&&(f[p]=n.defaultField);for(var d in f=o()({},f,e.rule.fields),f)if(f.hasOwnProperty(d)){var h=Array.isArray(f[d])?f[d]:[f[d]];f[d]=h.map(i.bind(null,d))}var g=new pe(f);g.messages(s.messages),e.rule.options&&(e.rule.options.messages=s.messages,e.rule.options.error=s.error),g.validate(e.value,e.rule.options||s,(function(e){t(e&&e.length?l.concat(e):e)}))}else t(l)}r=r&&(n.required||!n.required&&e.value),n.field=e.field;var f=n.validator(n,e.value,l,e.source,s);f&&f.then&&f.then((function(){return l()}),(function(e){return l(e)}))}),(function(e){b(e)}))}else l&&l();function b(e){var t=void 0,n=void 0,r=[],o={};function i(e){Array.isArray(e)?r=r.concat.apply(r,e):r.push(e)}for(t=0;t<e.length;t++)i(e[t]);if(r.length)for(t=0;t<r.length;t++)n=r[t].field,o[n]=o[n]||[],o[n].push(r[t]);else r=null,o=null;l(r,o)}},getType:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!ue.hasOwnProperty(e.type))throw new Error(u("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?ue.required:ue[this.getType(e)]||!1}},pe.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");ue[e]=t},pe.messages=fe;t["default"]=pe},a434:function(e,t,n){"use strict";var r=n("23e7"),o=n("7b0b"),i=n("23cb"),a=n("5926"),s=n("07fa"),c=n("3511"),u=n("65f0"),l=n("8418"),f=n("083a"),p=n("1dde"),d=p("splice"),h=Math.max,g=Math.min;r({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var n,r,p,d,v,m,_=o(this),y=s(_),b=i(e,y),M=arguments.length;for(0===M?n=r=0:1===M?(n=0,r=y-b):(n=M-2,r=g(h(a(t),0),y-b)),c(y+n-r),p=u(_,r),d=0;d<r;d++)v=b+d,v in _&&l(p,d,_[v]);if(p.length=r,n<r){for(d=b;d<y-r;d++)v=d+r,m=d+n,v in _?_[m]=_[v]:f(_,m);for(d=y;d>y-r+n;d--)f(_,d-1)}else if(n>r)for(d=y-r;d>b;d--)v=d+r-1,m=d+n-1,v in _?_[m]=_[v]:f(_,m);for(d=0;d<n;d++)_[d+b]=arguments[d+2];return _.length=y-r+n,p}})},a4b4:function(e,t,n){var r=n("342f");e.exports=/web0s(?!.*chrome)/i.test(r)},a4d3:function(e,t,n){n("d9f5"),n("b4f8"),n("c513"),n("e9c4"),n("5a47")},a524:function(e){e.exports=JSON.parse('{"version":"3.2.1"}')},a630:function(e,t,n){var r=n("23e7"),o=n("4df4"),i=n("1c7e"),a=!i((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:a},{from:o})},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},a742:function(e,t,n){"use strict";t.__esModule=!0,t.isDefined=t.isUndefined=t.isFunction=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isString=s,t.isObject=c,t.isHtmlElement=u;var o=n("2b0e"),i=a(o);function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function c(e){return"[object Object]"===Object.prototype.toString.call(e)}function u(e){return e&&e.nodeType===Node.ELEMENT_NODE}var l=function(e){var t={};return e&&"[object Function]"===t.toString.call(e)};"object"===("undefined"===typeof Int8Array?"undefined":r(Int8Array))||!i.default.prototype.$isServer&&"function"===typeof document.childNodes||(t.isFunction=l=function(e){return"function"===typeof e||!1}),t.isFunction=l;t.isUndefined=function(e){return void 0===e},t.isDefined=function(e){return void 0!==e&&null!==e}},a79d:function(e,t,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("d256"),a=n("d039"),s=n("d066"),c=n("1626"),u=n("4840"),l=n("cdf9"),f=n("cb2d"),p=i&&i.prototype,d=!!i&&a((function(){p["finally"].call({then:function(){}},(function(){}))}));if(r({target:"Promise",proto:!0,real:!0,forced:d},{finally:function(e){var t=u(this,s("Promise")),n=c(e);return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),!o&&c(i)){var h=s("Promise").prototype["finally"];p["finally"]!==h&&f(p,"finally",h,{unsafe:!0})}},a925:function(e,t,n){"use strict";
/*!
 * vue-i18n v8.27.1 
 * (c) 2022 kazuya kawaguchi
 * Released under the MIT License.
 */var r=["compactDisplay","currency","currencyDisplay","currencySign","localeMatcher","notation","numberingSystem","signDisplay","style","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function o(e,t){"undefined"!==typeof console&&(console.warn("[vue-i18n] "+e),t&&console.warn(t.stack))}function i(e,t){"undefined"!==typeof console&&(console.error("[vue-i18n] "+e),t&&console.error(t.stack))}var a=Array.isArray;function s(e){return null!==e&&"object"===typeof e}function c(e){return"boolean"===typeof e}function u(e){return"string"===typeof e}var l=Object.prototype.toString,f="[object Object]";function p(e){return l.call(e)===f}function d(e){return null===e||void 0===e}function h(e){return"function"===typeof e}function g(){var e=[],t=arguments.length;while(t--)e[t]=arguments[t];var n=null,r=null;return 1===e.length?s(e[0])||a(e[0])?r=e[0]:"string"===typeof e[0]&&(n=e[0]):2===e.length&&("string"===typeof e[0]&&(n=e[0]),(s(e[1])||a(e[1]))&&(r=e[1])),{locale:n,params:r}}function v(e){return JSON.parse(JSON.stringify(e))}function m(e,t){if(e.delete(t))return e}function _(e){var t=[];return e.forEach((function(e){return t.push(e)})),t}function y(e,t){return!!~e.indexOf(t)}var b=Object.prototype.hasOwnProperty;function M(e,t){return b.call(e,t)}function E(e){for(var t=arguments,n=Object(e),r=1;r<arguments.length;r++){var o=t[r];if(void 0!==o&&null!==o){var i=void 0;for(i in o)M(o,i)&&(s(o[i])?n[i]=E(n[i],o[i]):n[i]=o[i])}}return n}function I(e,t){if(e===t)return!0;var n=s(e),r=s(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var o=a(e),i=a(t);if(o&&i)return e.length===t.length&&e.every((function(e,n){return I(e,t[n])}));if(o||i)return!1;var c=Object.keys(e),u=Object.keys(t);return c.length===u.length&&c.every((function(n){return I(e[n],t[n])}))}catch(l){return!1}}function S(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function T(e){return null!=e&&Object.keys(e).forEach((function(t){"string"==typeof e[t]&&(e[t]=S(e[t]))})),e}function O(e){e.prototype.hasOwnProperty("$i18n")||Object.defineProperty(e.prototype,"$i18n",{get:function(){return this._i18n}}),e.prototype.$t=function(e){var t=[],n=arguments.length-1;while(n-- >0)t[n]=arguments[n+1];var r=this.$i18n;return r._t.apply(r,[e,r.locale,r._getMessages(),this].concat(t))},e.prototype.$tc=function(e,t){var n=[],r=arguments.length-2;while(r-- >0)n[r]=arguments[r+2];var o=this.$i18n;return o._tc.apply(o,[e,o.locale,o._getMessages(),this,t].concat(n))},e.prototype.$te=function(e,t){var n=this.$i18n;return n._te(e,n.locale,n._getMessages(),t)},e.prototype.$d=function(e){var t,n=[],r=arguments.length-1;while(r-- >0)n[r]=arguments[r+1];return(t=this.$i18n).d.apply(t,[e].concat(n))},e.prototype.$n=function(e){var t,n=[],r=arguments.length-1;while(r-- >0)n[r]=arguments[r+1];return(t=this.$i18n).n.apply(t,[e].concat(n))}}function C(e){function t(){this!==this.$root&&this.$options.__INTLIFY_META__&&this.$el&&this.$el.setAttribute("data-intlify",this.$options.__INTLIFY_META__)}return void 0===e&&(e=!1),e?{mounted:t}:{beforeCreate:function(){var e=this.$options;if(e.i18n=e.i18n||(e.__i18nBridge||e.__i18n?{}:null),e.i18n)if(e.i18n instanceof Te){if(e.__i18nBridge||e.__i18n)try{var t=e.i18n&&e.i18n.messages?e.i18n.messages:{},n=e.__i18nBridge||e.__i18n;n.forEach((function(e){t=E(t,JSON.parse(e))})),Object.keys(t).forEach((function(n){e.i18n.mergeLocaleMessage(n,t[n])}))}catch(c){0}this._i18n=e.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(p(e.i18n)){var r=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof Te?this.$root.$i18n:null;if(r&&(e.i18n.root=this.$root,e.i18n.formatter=r.formatter,e.i18n.fallbackLocale=r.fallbackLocale,e.i18n.formatFallbackMessages=r.formatFallbackMessages,e.i18n.silentTranslationWarn=r.silentTranslationWarn,e.i18n.silentFallbackWarn=r.silentFallbackWarn,e.i18n.pluralizationRules=r.pluralizationRules,e.i18n.preserveDirectiveContent=r.preserveDirectiveContent),e.__i18nBridge||e.__i18n)try{var o=e.i18n&&e.i18n.messages?e.i18n.messages:{},i=e.__i18nBridge||e.__i18n;i.forEach((function(e){o=E(o,JSON.parse(e))})),e.i18n.messages=o}catch(c){0}var a=e.i18n,s=a.sharedMessages;s&&p(s)&&(e.i18n.messages=E(e.i18n.messages,s)),this._i18n=new Te(e.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(void 0===e.i18n.sync||e.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),r&&r.onComponentInstanceCreated(this._i18n)}else 0;else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof Te?this._i18n=this.$root.$i18n:e.parent&&e.parent.$i18n&&e.parent.$i18n instanceof Te&&(this._i18n=e.parent.$i18n)},beforeMount:function(){var e=this.$options;e.i18n=e.i18n||(e.__i18nBridge||e.__i18n?{}:null),e.i18n?(e.i18n instanceof Te||p(e.i18n))&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof Te||e.parent&&e.parent.$i18n&&e.parent.$i18n instanceof Te)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},mounted:t,beforeDestroy:function(){if(this._i18n){var e=this;this.$nextTick((function(){e._subscribing&&(e._i18n.unsubscribeDataChanging(e),delete e._subscribing),e._i18nWatcher&&(e._i18nWatcher(),e._i18n.destroyVM(),delete e._i18nWatcher),e._localeWatcher&&(e._localeWatcher(),delete e._localeWatcher)}))}}}}var A={name:"i18n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(e,t){var n=t.data,r=t.parent,o=t.props,i=t.slots,a=r.$i18n;if(a){var s=o.path,c=o.locale,u=o.places,l=i(),f=a.i(s,c,w(l)||u?R(l.default,u):l),p=o.tag&&!0!==o.tag||!1===o.tag?o.tag:"span";return p?e(p,n,f):f}}};function w(e){var t;for(t in e)if("default"!==t)return!1;return Boolean(t)}function R(e,t){var n=t?D(t):{};if(!e)return n;e=e.filter((function(e){return e.tag||""!==e.text.trim()}));var r=e.every(L);return e.reduce(r?N:k,n)}function D(e){return Array.isArray(e)?e.reduce(k,{}):Object.assign({},e)}function N(e,t){return t.data&&t.data.attrs&&t.data.attrs.place&&(e[t.data.attrs.place]=t),e}function k(e,t,n){return e[n]=t,e}function L(e){return Boolean(e.data&&e.data.attrs&&e.data.attrs.place)}var P,x={name:"i18n-n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(e,t){var n=t.props,o=t.parent,i=t.data,a=o.$i18n;if(!a)return null;var c=null,l=null;u(n.format)?c=n.format:s(n.format)&&(n.format.key&&(c=n.format.key),l=Object.keys(n.format).reduce((function(e,t){var o;return y(r,t)?Object.assign({},e,(o={},o[t]=n.format[t],o)):e}),null));var f=n.locale||a.locale,p=a._ntp(n.value,f,c,l),d=p.map((function(e,t){var n,r=i.scopedSlots&&i.scopedSlots[e.type];return r?r((n={},n[e.type]=e.value,n.index=t,n.parts=p,n)):e.value})),h=n.tag&&!0!==n.tag||!1===n.tag?n.tag:"span";return h?e(h,{attrs:i.attrs,class:i["class"],staticClass:i.staticClass},d):d}};function G(e,t,n){j(e,n)&&B(e,t,n)}function U(e,t,n,r){if(j(e,n)){var o=n.context.$i18n;q(e,n)&&I(t.value,t.oldValue)&&I(e._localeMessage,o.getLocaleMessage(o.locale))||B(e,t,n)}}function F(e,t,n,r){var i=n.context;if(i){var a=n.context.$i18n||{};t.modifiers.preserve||a.preserveDirectiveContent||(e.textContent=""),e._vt=void 0,delete e["_vt"],e._locale=void 0,delete e["_locale"],e._localeMessage=void 0,delete e["_localeMessage"]}else o("Vue instance does not exists in VNode context")}function j(e,t){var n=t.context;return n?!!n.$i18n||(o("VueI18n instance does not exists in Vue instance"),!1):(o("Vue instance does not exists in VNode context"),!1)}function q(e,t){var n=t.context;return e._locale===n.$i18n.locale}function B(e,t,n){var r,i,a=t.value,s=V(a),c=s.path,u=s.locale,l=s.args,f=s.choice;if(c||u||l)if(c){var p=n.context;e._vt=e.textContent=null!=f?(r=p.$i18n).tc.apply(r,[c,f].concat($(u,l))):(i=p.$i18n).t.apply(i,[c].concat($(u,l))),e._locale=p.$i18n.locale,e._localeMessage=p.$i18n.getLocaleMessage(p.$i18n.locale)}else o("`path` is required in v-t directive");else o("value type not supported")}function V(e){var t,n,r,o;return u(e)?t=e:p(e)&&(t=e.path,n=e.locale,r=e.args,o=e.choice),{path:t,locale:n,args:r,choice:o}}function $(e,t){var n=[];return e&&n.push(e),t&&(Array.isArray(t)||p(t))&&n.push(t),n}function H(e,t){void 0===t&&(t={bridge:!1}),H.installed=!0,P=e;P.version&&Number(P.version.split(".")[0]);O(P),P.mixin(C(t.bridge)),P.directive("t",{bind:G,update:U,unbind:F}),P.component(A.name,A),P.component(x.name,x);var n=P.config.optionMergeStrategies;n.i18n=function(e,t){return void 0===t?e:t}}var K=function(){this._caches=Object.create(null)};K.prototype.interpolate=function(e,t){if(!t)return[e];var n=this._caches[e];return n||(n=Y(e),this._caches[e]=n),J(n,t)};var W=/^(?:\d)+/,z=/^(?:\w)+/;function Y(e){var t=[],n=0,r="";while(n<e.length){var o=e[n++];if("{"===o){r&&t.push({type:"text",value:r}),r="";var i="";o=e[n++];while(void 0!==o&&"}"!==o)i+=o,o=e[n++];var a="}"===o,s=W.test(i)?"list":a&&z.test(i)?"named":"unknown";t.push({value:i,type:s})}else"%"===o?"{"!==e[n]&&(r+=o):r+=o}return r&&t.push({type:"text",value:r}),t}function J(e,t){var n=[],r=0,o=Array.isArray(t)?"list":s(t)?"named":"unknown";if("unknown"===o)return n;while(r<e.length){var i=e[r];switch(i.type){case"text":n.push(i.value);break;case"list":n.push(t[parseInt(i.value,10)]);break;case"named":"named"===o&&n.push(t[i.value]);break;case"unknown":0;break}r++}return n}var X=0,Q=1,Z=2,ee=3,te=0,ne=1,re=2,oe=3,ie=4,ae=5,se=6,ce=7,ue=8,le=[];le[te]={ws:[te],ident:[oe,X],"[":[ie],eof:[ce]},le[ne]={ws:[ne],".":[re],"[":[ie],eof:[ce]},le[re]={ws:[re],ident:[oe,X],0:[oe,X],number:[oe,X]},le[oe]={ident:[oe,X],0:[oe,X],number:[oe,X],ws:[ne,Q],".":[re,Q],"[":[ie,Q],eof:[ce,Q]},le[ie]={"'":[ae,X],'"':[se,X],"[":[ie,Z],"]":[ne,ee],eof:ue,else:[ie,X]},le[ae]={"'":[ie,X],eof:ue,else:[ae,X]},le[se]={'"':[ie,X],eof:ue,else:[se,X]};var fe=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function pe(e){return fe.test(e)}function de(e){var t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t!==n||34!==t&&39!==t?e:e.slice(1,-1)}function he(e){if(void 0===e||null===e)return"eof";var t=e.charCodeAt(0);switch(t){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function ge(e){var t=e.trim();return("0"!==e.charAt(0)||!isNaN(e))&&(pe(t)?de(t):"*"+t)}function ve(e){var t,n,r,o,i,a,s,c=[],u=-1,l=te,f=0,p=[];function d(){var t=e[u+1];if(l===ae&&"'"===t||l===se&&'"'===t)return u++,r="\\"+t,p[X](),!0}p[Q]=function(){void 0!==n&&(c.push(n),n=void 0)},p[X]=function(){void 0===n?n=r:n+=r},p[Z]=function(){p[X](),f++},p[ee]=function(){if(f>0)f--,l=ie,p[X]();else{if(f=0,void 0===n)return!1;if(n=ge(n),!1===n)return!1;p[Q]()}};while(null!==l)if(u++,t=e[u],"\\"!==t||!d()){if(o=he(t),s=le[l],i=s[o]||s["else"]||ue,i===ue)return;if(l=i[0],a=p[i[1]],a&&(r=i[2],r=void 0===r?t:r,!1===a()))return;if(l===ce)return c}}var me=function(){this._cache=Object.create(null)};me.prototype.parsePath=function(e){var t=this._cache[e];return t||(t=ve(e),t&&(this._cache[e]=t)),t||[]},me.prototype.getPathValue=function(e,t){if(!s(e))return null;var n=this.parsePath(t);if(0===n.length)return null;var r=n.length,o=e,i=0;while(i<r){var a=o[n[i]];if(void 0===a||null===a)return null;o=a,i++}return o};var _e,ye=/<\/?[\w\s="/.':;#-\/]+>/,be=/(?:@(?:\.[a-z]+)?:(?:[\w\-_|./]+|\([\w\-_:|./]+\)))/g,Me=/^@(?:\.([a-z]+))?:/,Ee=/[()]/g,Ie={upper:function(e){return e.toLocaleUpperCase()},lower:function(e){return e.toLocaleLowerCase()},capitalize:function(e){return""+e.charAt(0).toLocaleUpperCase()+e.substr(1)}},Se=new K,Te=function(e){var t=this;void 0===e&&(e={}),!P&&"undefined"!==typeof window&&window.Vue&&H(window.Vue);var n=e.locale||"en-US",r=!1!==e.fallbackLocale&&(e.fallbackLocale||"en-US"),o=e.messages||{},i=e.dateTimeFormats||e.datetimeFormats||{},a=e.numberFormats||{};this._vm=null,this._formatter=e.formatter||Se,this._modifiers=e.modifiers||{},this._missing=e.missing||null,this._root=e.root||null,this._sync=void 0===e.sync||!!e.sync,this._fallbackRoot=void 0===e.fallbackRoot||!!e.fallbackRoot,this._fallbackRootWithEmptyString=void 0===e.fallbackRootWithEmptyString||!!e.fallbackRootWithEmptyString,this._formatFallbackMessages=void 0!==e.formatFallbackMessages&&!!e.formatFallbackMessages,this._silentTranslationWarn=void 0!==e.silentTranslationWarn&&e.silentTranslationWarn,this._silentFallbackWarn=void 0!==e.silentFallbackWarn&&!!e.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new me,this._dataListeners=new Set,this._componentInstanceCreatedListener=e.componentInstanceCreatedListener||null,this._preserveDirectiveContent=void 0!==e.preserveDirectiveContent&&!!e.preserveDirectiveContent,this.pluralizationRules=e.pluralizationRules||{},this._warnHtmlInMessage=e.warnHtmlInMessage||"off",this._postTranslation=e.postTranslation||null,this._escapeParameterHtml=e.escapeParameterHtml||!1,"__VUE_I18N_BRIDGE__"in e&&(this.__VUE_I18N_BRIDGE__=e.__VUE_I18N_BRIDGE__),this.getChoiceIndex=function(e,n){var r=Object.getPrototypeOf(t);if(r&&r.getChoiceIndex){var o=r.getChoiceIndex;return o.call(t,e,n)}var i=function(e,t){return e=Math.abs(e),2===t?e?e>1?1:0:1:e?Math.min(e,2):0};return t.locale in t.pluralizationRules?t.pluralizationRules[t.locale].apply(t,[e,n]):i(e,n)},this._exist=function(e,n){return!(!e||!n)&&(!d(t._path.getPathValue(e,n))||!!e[n])},"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||Object.keys(o).forEach((function(e){t._checkLocaleMessage(e,t._warnHtmlInMessage,o[e])})),this._initVM({locale:n,fallbackLocale:r,messages:o,dateTimeFormats:i,numberFormats:a})},Oe={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0},postTranslation:{configurable:!0},sync:{configurable:!0}};Te.prototype._checkLocaleMessage=function(e,t,n){var r=[],s=function(e,t,n,r){if(p(n))Object.keys(n).forEach((function(o){var i=n[o];p(i)?(r.push(o),r.push("."),s(e,t,i,r),r.pop(),r.pop()):(r.push(o),s(e,t,i,r),r.pop())}));else if(a(n))n.forEach((function(n,o){p(n)?(r.push("["+o+"]"),r.push("."),s(e,t,n,r),r.pop(),r.pop()):(r.push("["+o+"]"),s(e,t,n,r),r.pop())}));else if(u(n)){var c=ye.test(n);if(c){var l="Detected HTML in message '"+n+"' of keypath '"+r.join("")+"' at '"+t+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";"warn"===e?o(l):"error"===e&&i(l)}}};s(t,e,n,r)},Te.prototype._initVM=function(e){var t=P.config.silent;P.config.silent=!0,this._vm=new P({data:e,__VUE18N__INSTANCE__:!0}),P.config.silent=t},Te.prototype.destroyVM=function(){this._vm.$destroy()},Te.prototype.subscribeDataChanging=function(e){this._dataListeners.add(e)},Te.prototype.unsubscribeDataChanging=function(e){m(this._dataListeners,e)},Te.prototype.watchI18nData=function(){var e=this;return this._vm.$watch("$data",(function(){var t=_(e._dataListeners),n=t.length;while(n--)P.nextTick((function(){t[n]&&t[n].$forceUpdate()}))}),{deep:!0})},Te.prototype.watchLocale=function(e){if(e){if(!this.__VUE_I18N_BRIDGE__)return null;var t=this,n=this._vm;return this.vm.$watch("locale",(function(r){n.$set(n,"locale",r),t.__VUE_I18N_BRIDGE__&&e&&(e.locale.value=r),n.$forceUpdate()}),{immediate:!0})}if(!this._sync||!this._root)return null;var r=this._vm;return this._root.$i18n.vm.$watch("locale",(function(e){r.$set(r,"locale",e),r.$forceUpdate()}),{immediate:!0})},Te.prototype.onComponentInstanceCreated=function(e){this._componentInstanceCreatedListener&&this._componentInstanceCreatedListener(e,this)},Oe.vm.get=function(){return this._vm},Oe.messages.get=function(){return v(this._getMessages())},Oe.dateTimeFormats.get=function(){return v(this._getDateTimeFormats())},Oe.numberFormats.get=function(){return v(this._getNumberFormats())},Oe.availableLocales.get=function(){return Object.keys(this.messages).sort()},Oe.locale.get=function(){return this._vm.locale},Oe.locale.set=function(e){this._vm.$set(this._vm,"locale",e)},Oe.fallbackLocale.get=function(){return this._vm.fallbackLocale},Oe.fallbackLocale.set=function(e){this._localeChainCache={},this._vm.$set(this._vm,"fallbackLocale",e)},Oe.formatFallbackMessages.get=function(){return this._formatFallbackMessages},Oe.formatFallbackMessages.set=function(e){this._formatFallbackMessages=e},Oe.missing.get=function(){return this._missing},Oe.missing.set=function(e){this._missing=e},Oe.formatter.get=function(){return this._formatter},Oe.formatter.set=function(e){this._formatter=e},Oe.silentTranslationWarn.get=function(){return this._silentTranslationWarn},Oe.silentTranslationWarn.set=function(e){this._silentTranslationWarn=e},Oe.silentFallbackWarn.get=function(){return this._silentFallbackWarn},Oe.silentFallbackWarn.set=function(e){this._silentFallbackWarn=e},Oe.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent},Oe.preserveDirectiveContent.set=function(e){this._preserveDirectiveContent=e},Oe.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage},Oe.warnHtmlInMessage.set=function(e){var t=this,n=this._warnHtmlInMessage;if(this._warnHtmlInMessage=e,n!==e&&("warn"===e||"error"===e)){var r=this._getMessages();Object.keys(r).forEach((function(e){t._checkLocaleMessage(e,t._warnHtmlInMessage,r[e])}))}},Oe.postTranslation.get=function(){return this._postTranslation},Oe.postTranslation.set=function(e){this._postTranslation=e},Oe.sync.get=function(){return this._sync},Oe.sync.set=function(e){this._sync=e},Te.prototype._getMessages=function(){return this._vm.messages},Te.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats},Te.prototype._getNumberFormats=function(){return this._vm.numberFormats},Te.prototype._warnDefault=function(e,t,n,r,o,i){if(!d(n))return n;if(this._missing){var a=this._missing.apply(null,[e,t,r,o]);if(u(a))return a}else 0;if(this._formatFallbackMessages){var s=g.apply(void 0,o);return this._render(t,i,s.params,t)}return t},Te.prototype._isFallbackRoot=function(e){return(this._fallbackRootWithEmptyString?!e:d(e))&&!d(this._root)&&this._fallbackRoot},Te.prototype._isSilentFallbackWarn=function(e){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(e):this._silentFallbackWarn},Te.prototype._isSilentFallback=function(e,t){return this._isSilentFallbackWarn(t)&&(this._isFallbackRoot()||e!==this.fallbackLocale)},Te.prototype._isSilentTranslationWarn=function(e){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(e):this._silentTranslationWarn},Te.prototype._interpolate=function(e,t,n,r,o,i,s){if(!t)return null;var c,l=this._path.getPathValue(t,n);if(a(l)||p(l))return l;if(d(l)){if(!p(t))return null;if(c=t[n],!u(c)&&!h(c))return null}else{if(!u(l)&&!h(l))return null;c=l}return u(c)&&(c.indexOf("@:")>=0||c.indexOf("@.")>=0)&&(c=this._link(e,t,c,r,"raw",i,s)),this._render(c,o,i,n)},Te.prototype._link=function(e,t,n,r,o,i,s){var c=n,u=c.match(be);for(var l in u)if(u.hasOwnProperty(l)){var f=u[l],p=f.match(Me),d=p[0],h=p[1],g=f.replace(d,"").replace(Ee,"");if(y(s,g))return c;s.push(g);var v=this._interpolate(e,t,g,r,"raw"===o?"string":o,"raw"===o?void 0:i,s);if(this._isFallbackRoot(v)){if(!this._root)throw Error("unexpected error");var m=this._root.$i18n;v=m._translate(m._getMessages(),m.locale,m.fallbackLocale,g,r,o,i)}v=this._warnDefault(e,g,v,r,a(i)?i:[i],o),this._modifiers.hasOwnProperty(h)?v=this._modifiers[h](v):Ie.hasOwnProperty(h)&&(v=Ie[h](v)),s.pop(),c=v?c.replace(f,v):c}return c},Te.prototype._createMessageContext=function(e,t,n,r){var o=this,i=a(e)?e:[],c=s(e)?e:{},u=function(e){return i[e]},l=function(e){return c[e]},f=this._getMessages(),p=this.locale;return{list:u,named:l,values:e,formatter:t,path:n,messages:f,locale:p,linked:function(e){return o._interpolate(p,f[p]||{},e,null,r,void 0,[e])}}},Te.prototype._render=function(e,t,n,r){if(h(e))return e(this._createMessageContext(n,this._formatter||Se,r,t));var o=this._formatter.interpolate(e,n,r);return o||(o=Se.interpolate(e,n,r)),"string"!==t||u(o)?o:o.join("")},Te.prototype._appendItemToChain=function(e,t,n){var r=!1;return y(e,t)||(r=!0,t&&(r="!"!==t[t.length-1],t=t.replace(/!/g,""),e.push(t),n&&n[t]&&(r=n[t]))),r},Te.prototype._appendLocaleToChain=function(e,t,n){var r,o=t.split("-");do{var i=o.join("-");r=this._appendItemToChain(e,i,n),o.splice(-1,1)}while(o.length&&!0===r);return r},Te.prototype._appendBlockToChain=function(e,t,n){for(var r=!0,o=0;o<t.length&&c(r);o++){var i=t[o];u(i)&&(r=this._appendLocaleToChain(e,i,n))}return r},Te.prototype._getLocaleChain=function(e,t){if(""===e)return[];this._localeChainCache||(this._localeChainCache={});var n=this._localeChainCache[e];if(!n){t||(t=this.fallbackLocale),n=[];var r,o=[e];while(a(o))o=this._appendBlockToChain(n,o,t);r=a(t)?t:s(t)?t["default"]?t["default"]:null:t,o=u(r)?[r]:r,o&&this._appendBlockToChain(n,o,null),this._localeChainCache[e]=n}return n},Te.prototype._translate=function(e,t,n,r,o,i,a){for(var s,c=this._getLocaleChain(t,n),u=0;u<c.length;u++){var l=c[u];if(s=this._interpolate(l,e[l],r,o,i,a,[r]),!d(s))return s}return null},Te.prototype._t=function(e,t,n,r){var o,i=[],a=arguments.length-4;while(a-- >0)i[a]=arguments[a+4];if(!e)return"";var s=g.apply(void 0,i);this._escapeParameterHtml&&(s.params=T(s.params));var c=s.locale||t,u=this._translate(n,c,this.fallbackLocale,e,r,"string",s.params);if(this._isFallbackRoot(u)){if(!this._root)throw Error("unexpected error");return(o=this._root).$t.apply(o,[e].concat(i))}return u=this._warnDefault(c,e,u,r,i,"string"),this._postTranslation&&null!==u&&void 0!==u&&(u=this._postTranslation(u,e)),u},Te.prototype.t=function(e){var t,n=[],r=arguments.length-1;while(r-- >0)n[r]=arguments[r+1];return(t=this)._t.apply(t,[e,this.locale,this._getMessages(),null].concat(n))},Te.prototype._i=function(e,t,n,r,o){var i=this._translate(n,t,this.fallbackLocale,e,r,"raw",o);if(this._isFallbackRoot(i)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(e,t,o)}return this._warnDefault(t,e,i,r,[o],"raw")},Te.prototype.i=function(e,t,n){return e?(u(t)||(t=this.locale),this._i(e,t,this._getMessages(),null,n)):""},Te.prototype._tc=function(e,t,n,r,o){var i,a=[],s=arguments.length-5;while(s-- >0)a[s]=arguments[s+5];if(!e)return"";void 0===o&&(o=1);var c={count:o,n:o},u=g.apply(void 0,a);return u.params=Object.assign(c,u.params),a=null===u.locale?[u.params]:[u.locale,u.params],this.fetchChoice((i=this)._t.apply(i,[e,t,n,r].concat(a)),o)},Te.prototype.fetchChoice=function(e,t){if(!e||!u(e))return null;var n=e.split("|");return t=this.getChoiceIndex(t,n.length),n[t]?n[t].trim():e},Te.prototype.tc=function(e,t){var n,r=[],o=arguments.length-2;while(o-- >0)r[o]=arguments[o+2];return(n=this)._tc.apply(n,[e,this.locale,this._getMessages(),null,t].concat(r))},Te.prototype._te=function(e,t,n){var r=[],o=arguments.length-3;while(o-- >0)r[o]=arguments[o+3];var i=g.apply(void 0,r).locale||t;return this._exist(n[i],e)},Te.prototype.te=function(e,t){return this._te(e,this.locale,this._getMessages(),t)},Te.prototype.getLocaleMessage=function(e){return v(this._vm.messages[e]||{})},Te.prototype.setLocaleMessage=function(e,t){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(e,this._warnHtmlInMessage,t),this._vm.$set(this._vm.messages,e,t)},Te.prototype.mergeLocaleMessage=function(e,t){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(e,this._warnHtmlInMessage,t),this._vm.$set(this._vm.messages,e,E("undefined"!==typeof this._vm.messages[e]&&Object.keys(this._vm.messages[e]).length?Object.assign({},this._vm.messages[e]):{},t))},Te.prototype.getDateTimeFormat=function(e){return v(this._vm.dateTimeFormats[e]||{})},Te.prototype.setDateTimeFormat=function(e,t){this._vm.$set(this._vm.dateTimeFormats,e,t),this._clearDateTimeFormat(e,t)},Te.prototype.mergeDateTimeFormat=function(e,t){this._vm.$set(this._vm.dateTimeFormats,e,E(this._vm.dateTimeFormats[e]||{},t)),this._clearDateTimeFormat(e,t)},Te.prototype._clearDateTimeFormat=function(e,t){for(var n in t){var r=e+"__"+n;this._dateTimeFormatters.hasOwnProperty(r)&&delete this._dateTimeFormatters[r]}},Te.prototype._localizeDateTime=function(e,t,n,r,o){for(var i=t,a=r[i],s=this._getLocaleChain(t,n),c=0;c<s.length;c++){var u=s[c];if(a=r[u],i=u,!d(a)&&!d(a[o]))break}if(d(a)||d(a[o]))return null;var l=a[o],f=i+"__"+o,p=this._dateTimeFormatters[f];return p||(p=this._dateTimeFormatters[f]=new Intl.DateTimeFormat(i,l)),p.format(e)},Te.prototype._d=function(e,t,n){if(!n)return new Intl.DateTimeFormat(t).format(e);var r=this._localizeDateTime(e,t,this.fallbackLocale,this._getDateTimeFormats(),n);if(this._isFallbackRoot(r)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(e,n,t)}return r||""},Te.prototype.d=function(e){var t=[],n=arguments.length-1;while(n-- >0)t[n]=arguments[n+1];var r=this.locale,o=null;return 1===t.length?u(t[0])?o=t[0]:s(t[0])&&(t[0].locale&&(r=t[0].locale),t[0].key&&(o=t[0].key)):2===t.length&&(u(t[0])&&(o=t[0]),u(t[1])&&(r=t[1])),this._d(e,r,o)},Te.prototype.getNumberFormat=function(e){return v(this._vm.numberFormats[e]||{})},Te.prototype.setNumberFormat=function(e,t){this._vm.$set(this._vm.numberFormats,e,t),this._clearNumberFormat(e,t)},Te.prototype.mergeNumberFormat=function(e,t){this._vm.$set(this._vm.numberFormats,e,E(this._vm.numberFormats[e]||{},t)),this._clearNumberFormat(e,t)},Te.prototype._clearNumberFormat=function(e,t){for(var n in t){var r=e+"__"+n;this._numberFormatters.hasOwnProperty(r)&&delete this._numberFormatters[r]}},Te.prototype._getNumberFormatter=function(e,t,n,r,o,i){for(var a=t,s=r[a],c=this._getLocaleChain(t,n),u=0;u<c.length;u++){var l=c[u];if(s=r[l],a=l,!d(s)&&!d(s[o]))break}if(d(s)||d(s[o]))return null;var f,p=s[o];if(i)f=new Intl.NumberFormat(a,Object.assign({},p,i));else{var h=a+"__"+o;f=this._numberFormatters[h],f||(f=this._numberFormatters[h]=new Intl.NumberFormat(a,p))}return f},Te.prototype._n=function(e,t,n,r){if(!Te.availabilities.numberFormat)return"";if(!n){var o=r?new Intl.NumberFormat(t,r):new Intl.NumberFormat(t);return o.format(e)}var i=this._getNumberFormatter(e,t,this.fallbackLocale,this._getNumberFormats(),n,r),a=i&&i.format(e);if(this._isFallbackRoot(a)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(e,Object.assign({},{key:n,locale:t},r))}return a||""},Te.prototype.n=function(e){var t=[],n=arguments.length-1;while(n-- >0)t[n]=arguments[n+1];var o=this.locale,i=null,a=null;return 1===t.length?u(t[0])?i=t[0]:s(t[0])&&(t[0].locale&&(o=t[0].locale),t[0].key&&(i=t[0].key),a=Object.keys(t[0]).reduce((function(e,n){var o;return y(r,n)?Object.assign({},e,(o={},o[n]=t[0][n],o)):e}),null)):2===t.length&&(u(t[0])&&(i=t[0]),u(t[1])&&(o=t[1])),this._n(e,o,i,a)},Te.prototype._ntp=function(e,t,n,r){if(!Te.availabilities.numberFormat)return[];if(!n){var o=r?new Intl.NumberFormat(t,r):new Intl.NumberFormat(t);return o.formatToParts(e)}var i=this._getNumberFormatter(e,t,this.fallbackLocale,this._getNumberFormats(),n,r),a=i&&i.formatToParts(e);if(this._isFallbackRoot(a)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(e,t,n,r)}return a||[]},Object.defineProperties(Te.prototype,Oe),Object.defineProperty(Te,"availabilities",{get:function(){if(!_e){var e="undefined"!==typeof Intl;_e={dateTimeFormat:e&&"undefined"!==typeof Intl.DateTimeFormat,numberFormat:e&&"undefined"!==typeof Intl.NumberFormat}}return _e}}),Te.install=H,Te.version="8.27.1",t["a"]=Te},a975:function(e,t,n){"use strict";var r=n("ebb5"),o=n("b727").every,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("every",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},a981:function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},a9e3:function(e,t,n){"use strict";var r=n("83ab"),o=n("da84"),i=n("e330"),a=n("94ca"),s=n("cb2d"),c=n("1a2d"),u=n("7156"),l=n("3a9b"),f=n("d9b5"),p=n("c04e"),d=n("d039"),h=n("241c").f,g=n("06cf").f,v=n("9bf2").f,m=n("408a"),_=n("58a8").trim,y="Number",b=o[y],M=b.prototype,E=o.TypeError,I=i("".slice),S=i("".charCodeAt),T=function(e){var t=p(e,"number");return"bigint"==typeof t?t:O(t)},O=function(e){var t,n,r,o,i,a,s,c,u=p(e,"number");if(f(u))throw E("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=_(u),t=S(u,0),43===t||45===t){if(n=S(u,2),88===n||120===n)return NaN}else if(48===t){switch(S(u,1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+u}for(i=I(u,2),a=i.length,s=0;s<a;s++)if(c=S(i,s),c<48||c>o)return NaN;return parseInt(i,r)}return+u};if(a(y,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var C,A=function(e){var t=arguments.length<1?0:b(T(e)),n=this;return l(M,n)&&d((function(){m(n)}))?u(Object(t),n,A):t},w=r?h(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),R=0;w.length>R;R++)c(b,C=w[R])&&!c(A,C)&&v(A,C,g(b,C));A.prototype=M,M.constructor=A,s(o,y,A,{constructor:!0})}},ab13:function(e,t,n){var r=n("b622"),o=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[o]=!1,"/./"[e](t)}catch(r){}}return!1}},ab36:function(e,t,n){var r=n("861d"),o=n("9112");e.exports=function(e,t){r(t)&&"cause"in t&&o(e,"cause",t.cause)}},ac1f:function(e,t,n){"use strict";var r=n("23e7"),o=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},adaf:function(e,t,n){!function(t,n){e.exports=n()}(0,(function(){"use strict";var e,t;function n(t){this.name="__st"+(1e9*Math.random()>>>0)+e+"__",null==t||t.forEach(this.add,this),e+=1}Array.prototype.find||Object.defineProperty(Array.prototype,"find",{configurable:!0,writable:!0,value:function(e){if(null===this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],o=0;o<n;){var i=t[o];if(e.call(r,i,o,t))return i;o+=1}}}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){return this.substring(t=!t||t<0?0:+t,t+e.length)===e}}),window.WeakSet||(e=Date.now()%1e9,n.prototype.add=function(e){var t=this.name;return e[t]||Object.defineProperty(e,t,{value:!0,writable:!0}),this},n.prototype.delete=function(e){return!!e[this.name]&&!(e[this.name]=void 0)},n.prototype.has=function(e){return!!e[this.name]},t=n,Object.defineProperty(window,"WeakSet",{value:function(e){return new t(e)}})),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),n=1;n<arguments.length;n++)if(null!=(r=arguments[n]))for(var r=Object(r),o=Object.keys(Object(r)),i=0,a=o.length;i<a;i++){var s=o[i],c=Object.getOwnPropertyDescriptor(r,s);null!=c&&c.enumerable&&(t[s]=r[s])}return t}});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function i(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function a(e){try{return encodeURIComponent(decodeURIComponent(e))}catch(n){return e}}var s,c=(u.prototype.indexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n].callback===t)return n;return-1},u.prototype.on=function(e,t,n){if(void 0===n&&(n=0),this){var r=this.eventsList[e];return r||(this.eventsList[e]=[],r=this.eventsList[e]),-1!==this.indexOf(r,t)||r.push({name:e,type:n||0,callback:t}),this}},u.prototype.one=function(e,t){this.on(e,t,1)},u.prototype.remove=function(e,t){if(this){var n=this.eventsList[e];if(!n)return null;if(t)return n.length&&(t=this.indexOf(n,t),n.splice(t,1)),this;try{delete this.eventsList[e]}catch(e){}return null}},u.prototype.clear=function(){this.eventsList={}},u);function u(){var e=this;this.emit=function(t,n){if(e){var r;if(null!=(o=e.eventsList[t])&&o.length)for(var o=o.slice(),i=0;i<o.length;i++){r=o[i];try{var a=r.callback.apply(e,[n]);if(1===r.type&&e.remove(t,r.callback),!1===a)break}catch(t){throw t}}return e}},this.eventsList={}}function l(e,t){return"number"==typeof e||"string"==typeof e?e:t?s.string:s.number}function f(e,t){return"string"==typeof e?e.split("?")[t?1:0]||"":e}function p(e){return"string"==typeof e&&e.startsWith("//")?"undefined"!=typeof location&&"https:"===location.protocol:/^https/.test(e)}function d(e){return _.some((function(t){return-1!==e.indexOf(t)}))}function h(){var e=new WeakSet;return function(t,n){if(n instanceof Error)return"Error.message: "+n.message+" \n  Error.stack: "+n.stack;if("object"==typeof n&&null!==n){if(e.has(n))return"[Circular "+(t||"root")+"]";e.add(n)}return n}}(at=s=s||{})[at.number=-1]="number",at.string="";var g,v,m,_=["application/octet-stream","application/xhtml+xml","application/xml","application/pdf","application/pkcs12","application/javascript","application/ecmascript","application/vnd.mspowerpoint","application/vnd.apple.mpegurl","application/ogg","text/css","text/javascript","image","audio","video"],y=["ret","retcode","code","errcode"],b=function(e,t,n){var r;try{if("function"==typeof(null==t?void 0:t.retCodeHandler)){var o=t.retCodeHandler(e,null==n?void 0:n.url,null==n?void 0:n.ctx)||{};return{code:void 0===(i=o.code)?"unknown":i,isErr:o.isErr}}"string"==typeof e&&(e=JSON.parse(e)),"function"==typeof(null===(r=null==t?void 0:t.ret)||void 0===r?void 0:r.join)&&(y=[].concat(t.ret.map((function(e){return e.toLowerCase()}))));var i,a=Object.getOwnPropertyNames(e).filter((function(e){return-1!==y.indexOf(e.toLowerCase())}));return a.length?{code:""+(i=Number(e[a[0]])),isErr:0!==i}:{code:"unknown",isErr:!1}}catch(e){return{code:"unknown",isErr:!1}}},M=function(e){if("string"==typeof e)return e;try{return e instanceof Error?(JSON.stringify(e,h(),4)||"undefined").replace(/"/gim,""):JSON.stringify(e,h(),4)||"undefined"}catch(e){return"error happen when aegis stringify: \n "+e.message+" \n "+e.stack}},E=function(e){if("string"==typeof e)return e;try{return JSON.stringify(e,h())||"undefined"}catch(e){return"error happen when aegis stringify: \n "+e.message+" \n "+e.stack}},I=function(e,t){void 0===t&&(t=3);var n,r,o,i="";return Array.isArray(e)?(i+="[",n=e.length,e.forEach((function(e,r){i+="object"==typeof e&&1<t?I(e,t-1):T(e),i+=r===n-1?"":","})),i+="]"):e instanceof Object?(i="{",r=Object.keys(e),o=r.length,r.forEach((function(n,a){"object"==typeof e[n]&&1<t?i+='"'+n+'":'+I(e[n],t-1):i+=S(n,e[n]),i+=a===o-1||a<o-1&&void 0===e[r[a+1]]?"":","})),i+="}"):i+=e,i},S=function(e,t){var n=typeof t,r="";return"string"==n||"object"==n?r+='"'+e+'":"'+t+'"':"function"==typeof t?r+='"'+e+'":"function '+t.name+'"':"symbol"==typeof t?r+='"'+e+'":"symbol"':"number"!=typeof t&&"boolean"!=n||(r+='"'+e+'": '+t),r},T=function(e){var t=typeof e;return""+("undefined"==t||"symbol"==t||"function"==t?"null":"string"==t||"object"==t?'"'+e+'"':e)},O=(w.prototype.sourceURL=function(){return this.data.responseURL},w.prototype.status=function(){return Number(this.data.status)},w.prototype.headers=function(){var e=this.data.getAllResponseHeaders().split("\n"),t={};return e.forEach((function(e){var n;e&&(e=(n=e.split(": "))[0],n=n[1].trim(),t[e]=n)})),t},w),C=(A.prototype.sourceURL=function(){return this.data.url},A.prototype.status=function(){return Number(this.data.status)},A.prototype.headers=function(){var e={};return this.data.headers.forEach((function(t,n){e[n]=t})),e},A);function A(e,t){this.type="fetch",this.data=e||{},this.data.response=t}function w(e){this.type="xhr",this.data=e}function R(e){return e.filter((function(t,n){return"static"!==t.type||!e.find((function(e,r){return t.url===e.url&&200===t.status&&n<r}))}))}function D(e){e.level===g.INFO_ALL&&(e.level=g.INFO)}function N(e){return function(t,n){e.lifeCycle.emit("modifyRequest",t);var r=e.config.modifyRequest;if("function"==typeof r)try{var o=r(t);"object"==typeof o&&"url"in o&&(t=o)}catch(t){console.error(t)}n(t)}}function k(e){return function(t,n){e.lifeCycle.emit("afterRequest",t);var r=e.config.afterRequest;"function"==typeof r&&!1===r(t)||n(t)}}function L(){}function P(e,t){Object.getOwnPropertyNames(e).forEach((function(n){"function"==typeof e[n]&&"constructor"!==n&&(t?t[n]="sendPipeline"===n?function(){return function(){}}:function(){}:e[n]=function(){})}))}function x(e){if(e.payload){var t={};return Object.keys(e).forEach((function(n){"payload"!==n&&(t[n]=e[n])})),t}return e}function G(){return void 0!==window.performance&&"function"==typeof performance.clearResourceTimings&&"function"==typeof performance.getEntriesByType&&"function"==typeof performance.now}function U(e,t){var n=function(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)}function F(e){var t,n;se.find((function(t){return t.name===e.name}))||(se.push(e),ae||!window.XMLHttpRequest)||(ae=!0,t=window.XMLHttpRequest.prototype.send,n=window.XMLHttpRequest.prototype.open,window.XMLHttpRequest.prototype.open=function(){if(this.aegisMethod=arguments[0],this.aegisUrl=arguments[1],this.aegisXhrStartTime=Date.now(),!this.sendByAegis)for(var e=0;e<se.length;e++){var t=se[e];try{"function"==typeof t.open&&t.open(this)}catch(e){}}return n.apply(this,arguments)},window.XMLHttpRequest.prototype.send=function(){if(!this.sendByAegis)for(var e=0;e<se.length;e++){var n=se[e];try{"function"==typeof n.send&&n.send(this,arguments[0])}catch(e){}}return t.apply(this,arguments)})}function j(e){var t=se.findIndex((function(t){return t.name===e.name}));-1!==t&&se.splice(t,1)}(et=g=g||{}).INFO_ALL="-1",et.API_RESPONSE="1",et.INFO="2",et.ERROR="4",et.PROMISE_ERROR="8",et.AJAX_ERROR="16",et.SCRIPT_ERROR="32",et.IMAGE_ERROR="64",et.CSS_ERROR="128",et.CONSOLE_ERROR="256",et.MEDIA_ERROR="512",et.RET_ERROR="1024",et.REPORT="2048",et.PV="4096",et.EVENT="8192",et.PAGE_NOT_FOUND_ERROR="16384",et.WEBSOCKET_ERROR="32768",(Ie={})[Ie.android=1]="android",Ie[Ie.ios=2]="ios",Ie[Ie.windows=3]="windows",Ie[Ie.macos=4]="macos",Ie[Ie.linux=5]="linux",Ie[Ie.devtools=6]="devtools",Ie[Ie.other=100]="other",(we={})[we.unknown=100]="unknown",we[we.wifi=1]="wifi",we[we.net2g=2]="net2g",we[we.net3g=3]="net3g",we[we.net4g=4]="net4g",we[we.net5g=5]="net5g",we[we.net6g=6]="net6g",(Ne=v=v||{}).LOG="log",Ne.SPEED="speed",Ne.PERFORMANCE="performance",Ne.OFFLINE="offline",Ne.WHITE_LIST="whiteList",Ne.VITALS="vitals",Ne.PV="pv",Ne.CUSTOM_PV="customPV",Ne.EVENT="event",Ne.CUSTOM="custom",Ne.SDK_ERROR="sdkError",Ne.SET_DATA="setData",(Je=m=m||{}).production="production",Je.gray="gray",Je.pre="pre",Je.daily="daily",Je.local="local",Je.test="test",Je.others="others";var q,B,V=function(e,t){return function(n,r){var o=t.logCreated;return"function"!=typeof o?(e("beforeWrite",n),r(n)):(n=n.filter((function(e){return!1!==o(e)})),e("beforeWrite",n),r(n))}},$=function(e,t){var n,r=[],o=e.config;return e.lifeCycle.on("destroy",(function(){r.length=0})),function(i,a){if(Array.isArray(i)?r=r.concat(i):r.push(i),t&&r.length>=t||e.sendNow&&0<r.length)return r=R(r),a(r.splice(0,r.length)),void(n&&clearTimeout(n));n&&clearTimeout(n),n=setTimeout((function(){n=null,0<(r=R(r)).length&&a(r.splice(0,r.length))}),o.delay)}},H=function(e,t){return Array.isArray(e)?t(e.map((function(e){return o(o({},e),{msg:"string"==typeof e.msg?e.msg:[].concat(e.msg).map(M).join(" ")})}))):t([o(o({},e),{msg:"string"==typeof e.msg?e.msg:M(e.msg)})])},K=function(e){var t,n=!1,r=!1,o=!1,i=[];return e.lifeCycle.on("onConfigChange",(function(){t&&clearTimeout(t),t=setTimeout((function(){var t,a;!o&&e.config&&(o=!0,t=e.config.whiteListUrl,(a=void 0===t?"":t)&&e.sendPipeline([function(t,o){o({url:a,type:v.WHITE_LIST,success:function(t){r=!0;try{var o=t.data||JSON.parse(t),a=o.retcode,s=o.result,c=void 0===s?{}:s;if(0===a){if(n=c.is_in_white_list,e.isWhiteList=n,c.shutdown)return void e.destroy();0<=c.rate&&c.rate<=1&&(e.config.random=c.rate,e.isGetSample=!1)}e.isWhiteList&&i.length?J(e)(i.splice(0),(function(){})):!e.isWhiteList&&i.length&&(i.length=0);var u=e.config.onWhitelist;"function"==typeof u&&u(n)}catch(t){}},fail:function(t){"403 forbidden"===t&&e.destroy(),r=!0}})}],v.WHITE_LIST)(null),o=!1)}),e.config.uin?50:500)})),e.lifeCycle.on("destroy",(function(){i.length=0})),function(t,o){var a;n||null!==(a=null===(a=e.config)||void 0===a?void 0:a.api)&&void 0!==a&&a.reportRequest?o(t.concat(i.splice(0)).map((function(e){return D(e),e}))):(t=t.filter((function(e){return e.level!==g.INFO&&e.level!==g.API_RESPONSE?(D(e),!0):(r||(i.push(e),200<=i.length&&(i.length=200)),!1)}))).length&&o(t)}},W=function(e){return setTimeout((function(){var t=e.config.pvUrl,n=void 0===t?"":t;n&&e.sendPipeline([function(t,r){r({url:n,type:v.PV,fail:function(t){"403 forbidden"===t&&e.destroy()}})}],v.PV)(null)}),100),function(e,t){t(e)}},z=function(e){var t={};return function(n,r){var o,i;e.speedSample?(i="object"==typeof e.repeat?e.repeat:{repeat:e.repeat},o=+i.speed||+i.repeat||5,Array.isArray(n)?(i=n.filter((function(e){var n=!t[e.url]||t[e.url]<o;return t[e.url]=1+~~t[e.url],n}))).length&&r(i):(!t[n.url]||t[n.url]<o)&&(t[n.url]=1+~~t[n.url],r(n))):r(n)}},Y=function(e){var t={};return function(n,r){var o="number"==typeof e.repeat?e.repeat:5;if(0===o)return r(n);r(n.filter((function(e){return e.level!==g.ERROR&&e.level!==g.PROMISE_ERROR&&e.level!==g.AJAX_ERROR&&e.level!==g.SCRIPT_ERROR&&e.level!==g.IMAGE_ERROR&&e.level!==g.CSS_ERROR&&e.level!==g.MEDIA_ERROR||(t[e.msg]=t[e.msg]||0,t[e.msg]+=1,!(t[e.msg]>o))})))}},J=function(e){return function(t){return e.sendPipeline([function(t,n){return n({url:e.config.url||"",data:function(e){if(!e||0===e.length)return"{}";e=Array.isArray(e)?e:[e];var t=Object.keys(e[0]),n={};return t.forEach((function(t){n[t]=e.map((function(e){return e[t]}))})),n.count=e.length,E(n)}((r=t,(Array.isArray(r)?r:[r]).map((function(e){return Object.getOwnPropertyNames(e).reduce((function(t,n){return"ctx"!==n&&(t[n]=e[n]),t}),{level:g.INFO,msg:""})})))),method:"post",contentType:"application/json",type:v.LOG,log:t,requestConfig:{timeout:5e3},success:function(){var r=e.config.onReport;"function"==typeof r&&t.forEach((function(e){r(e)})),"function"==typeof n&&n([])},fail:function(t){"403 forbidden"===t&&e.destroy()}});var r}],v.LOG)(t)}},X=function(e){return function(t){e.sendPipeline([function(t,n){var r=t.map((function(t){return{name:t.name,ext1:t.ext1||e.config.ext1||"",ext2:t.ext2||e.config.ext2||"",ext3:t.ext3||e.config.ext3||""}}));n({url:e.config.eventUrl+"?payload="+encodeURIComponent(JSON.stringify(r)),type:v.EVENT,log:t,fail:function(t){"403 forbidden"===t&&e.destroy()}})}],v.EVENT)(t)}},Q=function(e){return function(t){return e.sendPipeline([function(t,n){n({url:e.config.customTimeUrl+"?payload="+encodeURIComponent(JSON.stringify({custom:t})),type:v.CUSTOM,log:t,fail:function(t){"403 forbidden"===t&&e.destroy()}})}],v.CUSTOM)(t)}},Z=function(e){if(!e||!e.reduce||!e.length)throw new TypeError("createPipeline need at least one function param");return 1===e.length?function(t,n){e[0](t,n||L)}:e.reduce((function(e,t){return function(n,r){return void 0===r&&(r=L),e(n,(function(e){return null==t?void 0:t(e,r)}))}}))},ee=(Object.defineProperty(pe.prototype,"__version__",{get:function(){return console.warn("__version__ has discard, please use version"),"1.35.26"},enumerable:!1,configurable:!0}),Object.defineProperty(pe.prototype,"LogType",{get:function(){return console.warn("LogType has discard, please use logType"),g},enumerable:!1,configurable:!0}),pe.prototype.init=function(e){this.setConfig(e);for(var t=0;t<pe.installedPlugins.length;t++)try{pe.installedPlugins[t].patch(this)}catch(e){this.sendSDKError(e)}this.lifeCycle.emit("onInited")},pe.prototype.setConfig=function(e){Object.assign(this.config,e);var t=this.config,n=t.id,r=t.uin,o=t.version,i=t.ext1,a=t.ext2,s=t.ext3,c=t.aid,u=(e=t.env,void 0===e?"production":e);e=t.pageUrl,t=this.bean.id!==n||this.bean.uin!==r||this.bean.aid!==c;return this.bean.id=n||"",this.bean.uin=r||"",this.bean.version=o||"1.35.26",this.bean.aid=c||"",this.bean.env=function(){switch(u){case m.production:case m.gray:case m.pre:case m.daily:case m.local:case m.test:case m.others:return 1;default:return}}()?u:m.others,e&&this.extendBean("from",encodeURIComponent(e)),i&&this.extendBean("ext1",encodeURIComponent(i)),a&&this.extendBean("ext2",encodeURIComponent(a)),s&&this.extendBean("ext3",encodeURIComponent(s)),t&&this.lifeCycle.emit("onConfigChange",this.config),this.config},pe.use=function(e){-1===pe.installedPlugins.indexOf(e)&&e.aegisPlugin&&pe.installedPlugins.push(e)},pe.unuse=function(e){e=pe.installedPlugins.indexOf(e),-1!==e&&pe.installedPlugins.splice(e,1)},pe.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={level:g.INFO,msg:e};1===e.length&&e[0].msg&&Object.assign(n,o({},e[0]),{level:g.INFO}),this.normalLogPipeline(n)},pe.prototype.infoAll=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={level:g.INFO_ALL,msg:e};1===e.length&&e[0].msg&&Object.assign(n,o({},e[0]),{level:g.INFO_ALL}),this.normalLogPipeline(n)},pe.prototype.report=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={level:g.REPORT,msg:e};1===e.length&&e[0].msg&&Object.assign(n,o({},e[0])),this.normalLogPipeline(n)},pe.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={level:g.ERROR,msg:e};1===e.length&&e[0].msg&&Object.assign(n,o({},e[0]),{level:g.ERROR}),this.normalLogPipeline(n)},pe.prototype.speedLogPipeline=function(e){throw new Error('You need to override "speedLogPipeline" method')},pe.prototype.reportPv=function(e){var t,n=this;e&&(console.warn("reportPv is deprecated, please use reportEvent"),t=""+Object.getOwnPropertyNames(this.bean).filter((function(e){return"id"!==e})).map((function(e){return e+"="+n.bean[e]})).join("&"),this.sendPipeline([function(r,o){o({url:n.config.url+"/"+e+"?"+t,addBean:!1,type:v.CUSTOM_PV,fail:function(e){"403 forbidden"===e&&n.destroy()}})}],v.CUSTOM_PV)(null))},pe.prototype.reportEvent=function(e){e&&((e="string"==typeof e?{name:e,ext1:this.config.ext1||"",ext2:this.config.ext2||"",ext3:this.config.ext3||""}:e).name?this.eventPipeline(e):console.warn("reportEvent params error"))},pe.prototype.reportTime=function(e,t){if("object"==typeof e)return this.reportT(e);"string"==typeof e?"number"==typeof t?t<0||6e4<t?console.warn("reportTime: duration must between 0 and 60000"):this.submitCustomTime(e,t):console.warn("reportTime: second param must be number"):console.warn("reportTime: first param must be a string")},pe.prototype.reportT=function(e){var t=e.name,n=e.duration,r=e.ext1,o=void 0===r?"":r,i=e.ext2;r=void 0===i?"":i,i=e.ext3,i=void 0===i?"":i,e=e.from;if("string"==typeof t&&"number"==typeof n&&"string"==typeof o&&"string"==typeof r&&"string"==typeof i){if(!(n<0||6e4<n))return this.submitCustomTime(t,n,o,r,i,void 0===e?"":e);console.warn("reportTime: duration must between 0 and 60000")}else console.warn("reportTime: params error")},pe.prototype.time=function(e){"string"==typeof e?this.timeMap[e]?console.warn("Timer "+e+" already exists"):this.timeMap[e]=Date.now():console.warn("time: first param must be a string")},pe.prototype.timeEnd=function(e){"string"==typeof e?this.timeMap[e]?(this.submitCustomTime(e,Date.now()-this.timeMap[e]),delete this.timeMap[e]):console.warn("Timer "+e+" does not exist"):console.warn("timeEnd: first param must be a string")},pe.prototype.submitCustomTime=function(e,t,n,r,o,i){this.customTimePipeline({name:e,duration:t,ext1:n||this.config.ext1,ext2:r||this.config.ext2,ext3:o||this.config.ext3,from:i||void 0})},pe.prototype.extendBean=function(e,t){this.bean[e]=t},pe.prototype.sendPipeline=function(e,t){var n,r,a,s=this;return Z(i([function(e,t){if("number"!=typeof n.config.random&&(console.warn("random must in [0, 1], default is 1."),n.config.random=1),!n.isHidden||!n.isGetSample)if(n.isGetSample)n.isHidden||t(e);else{if(n.isGetSample=!0,Math.random()<n.config.random)return n.isHidden=!1,t(e);n.isHidden=!0}},(a=t,function(e,t){var n=Array.isArray(e),i=n?e:[e];r.lifeCycle.emit("beforeRequest",e);var s=r.config.beforeRequest;(i="function"==typeof s?i.map((function(e){try{var t=s({logs:e,logType:a});return(null==t?void 0:t.logType)===a&&null!=t&&t.logs?t.logs:!1!==t&&e}catch(t){return e}})).filter((function(e){return!1!==e})):i).length&&(i=function(e,t){if(!Array.isArray(e)||e.length<=1)return e;var n=[],r=[];return!(r="string"==typeof t?[t]:t)||r.length<=0||(r.forEach((function(t){e.forEach((function(e){null!=e&&e[t]&&n.push(t)}))})),0<n.length&&(e=e.map((function(e){var t={};return n.forEach((function(e){t[e]=""})),o(o({},t),e)})))),e}(i,["ext1","ext2","ext3","level","trace","tag","seq"]),t(n?i:i[0]))})],e,[N(r=n=this),function(e,t){s.request(e,(function(){for(var n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];s.failRequestCount=0,t({isErr:!1,result:r,logType:null==e?void 0:e.type,logs:null==e?void 0:e.log}),null===(n=null==e?void 0:e.success)||void 0===n||n.call.apply(n,i([e],r))}),(function(){for(var n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];10<=++s.failRequestCount&&s.destroy(),t({isErr:!0,result:r,logType:null==e?void 0:e.type,logs:null==e?void 0:e.log}),null===(n=null==e?void 0:e.fail)||void 0===n||n.call.apply(n,i([e],r))}))},k(this)]))},pe.prototype.send=function(e,t,n){var r=this;return Z([N(this),function(e,o){r.request(e,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];o({isErr:!1,result:n,logType:e.type,logs:e.log}),null==t||t.apply(void 0,n)}),(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];o({isErr:!0,result:t,logType:e.type,logs:e.log}),null==n||n.apply(void 0,t)}))},k(this)])(e)},pe.prototype.request=function(e,t,n){throw new Error('You need to override "request" method')},pe.prototype.sendSDKError=function(e){var t=this;this.sendPipeline([function(e,n){n({url:t.config.url+"?id=1085&msg[0]="+encodeURIComponent(M(e))+"&level[0]=2&from="+t.config.id+"&count=1&version="+t.config.id+"(1.35.26)",addBean:!1,method:"get",type:v.SDK_ERROR,log:e})}],v.SDK_ERROR)(e)},pe.prototype.destroy=function(e){void 0===e&&(e=!1);var t,n,r=pe.instances.indexOf(this);-1!==r&&pe.instances.splice(r,1);for(var o=pe.installedPlugins.length-1;0<=o;o--)try{pe.installedPlugins[o].unpatch(this)}catch(e){this.sendSDKError(e)}if(this.lifeCycle.emit("destroy"),this.lifeCycle.clear(),e)t=this,n=Object.getOwnPropertyDescriptors(t),Object.keys(n).forEach((function(e){n[e].writable&&(t[e]=null)})),Object.setPrototypeOf(this,null);else{for(var i=this;i.constructor!==Object&&P(i,this),i=Object.getPrototypeOf(i););0===pe.instances.length&&(e=Object.getPrototypeOf(this).constructor,P(e),P(pe))}},pe.version="1.35.26",pe.instances=[],pe.logType=g,pe.environment=m,pe.installedPlugins=[],pe),te=(fe.prototype.patch=function(e){this.canUse(e)&&this.exist(e)&&(this.instances.push(e),this.triggerInit(e),this.triggerOnNewAegis(e))},fe.prototype.unpatch=function(e){e=this.instances.indexOf(e),-1!==e&&(this.instances.splice(e,1),0===this.instances.length&&this.uninstall())},fe.prototype.countInstance=function(){return this.instances.length},fe.prototype.uninstall=function(){var e;null===(e=null===(e=this.option)||void 0===e?void 0:e.destroy)||void 0===e||e.apply(this)},fe.prototype.walk=function(e){var t=this;this.instances.forEach((function(n){var r=t.canUse(n);r&&e(n,r)}))},fe.prototype.canUse=function(e){return e=this.getConfig(e),!(!e||"object"!=typeof e)||!!e},fe.prototype.getConfig=function(e){return null===(e=e.config)||void 0===e?void 0:e[this.name]},fe.prototype.exist=function(e){return-1===this.instances.indexOf(e)},fe.prototype.triggerInit=function(e){var t;this.inited||(this.inited=!0,null===(t=null===(t=this.option)||void 0===t?void 0:t.init)||void 0===t||t.call(this.option,this.getConfig(e)))},fe.prototype.triggerOnNewAegis=function(e){var t;null===(t=null===(t=this.option)||void 0===t?void 0:t.onNewAegis)||void 0===t||t.call(this.option,e,this.getConfig(e))},fe),ne=new te({name:"aid",aid:"",init:function(e){try{var t=!0!==e&&e||window.localStorage.getItem("AEGIS_ID");t||(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),window.localStorage.setItem("AEGIS_ID",t)),this.aid=t}catch(e){}},onNewAegis:function(e){e.bean.aid=this.aid,e.config.aid=this.aid}}),re=function(e,t){var n,r={fetch:[],static:[]},i=new FormData;return Array.isArray(e)?e.forEach((function(e){var t=x(e);r[e.type].push(t)})):(n=x(e),r[e.type].push(n)),i.append("payload",E(o({duration:r},t))),i},oe=new te({name:"reportAssetSpeed"}),ie=oe=new te({name:"reportAssetSpeed",collectCur:0,collectEntryType:"resource",ASSETS_INITIATOR_TYPE:["img","css","script","link","audio","video"],onNewAegis:function(e){var t=this;G()&&(this.collectSuccessLog(e),this.collectFailLog(e),performance.onresourcetimingbufferfull=function(){t.collectCur=0,performance.clearResourceTimings()})},publish:function(e){this.$walk((function(t){t.speedLogPipeline(e)}))},publishMany:function(e,t){for(var n=t.config,r=0,o=e.length;r<o;r++){var i=e[r];-1!==this.ASSETS_INITIATOR_TYPE.indexOf(i.initiatorType)&&-1===i.name.indexOf("cdn-go.cn/aegis/aegis-sdk")&&this.publish(this.generateLog(i,n))}},collectSuccessLog:function(e){var t,n,r=this;"function"==typeof window.PerformanceObserver?(this.publishMany(performance.getEntriesByType(this.collectEntryType),e),(t=new window.PerformanceObserver((function(t){r.publishMany(t.getEntries(),e)}))).observe({entryTypes:[this.collectEntryType]}),e.lifeCycle.on("destroy",(function(){0===oe.countInstance()&&t.disconnect()}))):(n=setInterval((function(){var t=performance.getEntriesByType(r.collectEntryType),n=t.slice(r.collectCur);r.collectCur=t.length,r.publishMany(n,e)}),3e3),e.lifeCycle.on("destroy",(function(){0===oe.countInstance()&&clearInterval(n)})))},collectFailLog:function(e){function t(e){var t,o;e&&(e=e.target||e.srcElement,t=(null==e?void 0:e.src)||(null==e?void 0:e.href),e=null==e?void 0:e.tagName,t&&"string"==typeof t&&("IMG"===e&&-1<window.location.href.indexOf(t)||(e="function"==typeof(null===(e=r.api)||void 0===e?void 0:e.resourceTypeHandler)?null===(o=r.api)||void 0===o?void 0:o.resourceTypeHandler(t):"",o=performance.getEntriesByType(n.collectEntryType).find((function(e){return e.name===t})),e={url:f(t),status:400,duration:Number(((null==o?void 0:o.duration)||0).toFixed(2)),method:"get",type:e||"static",isHttps:p(t),urlQuery:f(t,!0),domainLookup:0,connectTime:0},n.publish(e))))}var n=this,r=e.config;window.document.addEventListener("error",t,!0),e.lifeCycle.on("destroy",(function(){0===oe.countInstance()&&window.document.removeEventListener("error",t,!0)}))},generateLog:function(e,t){var n,r="function"==typeof(null===(n=t.api)||void 0===n?void 0:n.resourceTypeHandler)?null===(r=t.api)||void 0===r?void 0:r.resourceTypeHandler(e.name):"";return{url:f(e.name),method:"get",duration:Number(e.duration.toFixed(2)),status:200,type:r||"static",isHttps:p(e.name),urlQuery:f(e.name,!0),domainLookup:l(e.domainLookupEnd-e.domainLookupStart),connectTime:l(e.connectEnd-e.connectStart)}},collectNotReportedLog:function(e){var t=performance.getEntriesByType(this.collectEntryType),n=t.length;"function"!=typeof window.PerformanceObserver&&this.collectCur!==n&&(t=t.slice(this.collectCur),this.collectCur=n,this.publishMany(t,e,!0))},destroy:function(){this.option.publish=function(){}}}),ae=!1,se=[],ce=!1,ue=[],le=(new te({name:"reportApiSpeed"}),new te({name:"reportApiSpeed",override:!1,onNewAegis:function(e){this.override||(this.override=!0,this.overrideFetch(e.config),this.overrideXhr(e.config))},overrideFetch:function(e){var t=this,n={name:this.name,then:function(n,r,o,i){var a,c,u,l;e.hostUrl&&-1<o.indexOf(e.hostUrl)||(c={url:n.url,isHttps:p(n.url),method:(null==i?void 0:i.method)||"get",duration:r,type:"fetch",status:n.status||0},"fetch"!==(l="function"==typeof(null===(a=e.api)||void 0===a?void 0:a.resourceTypeHandler)?null===(u=e.api)||void 0===u?void 0:u.resourceTypeHandler(n.url):l)&&"static"!==l&&(u=n.headers?n.headers.get("content-type"):"",l=n.ok&&"string"==typeof u&&d(u)?"static":"fetch"),"fetch"===l?n.clone().text().then((function(a){var s=null===(f=e.api)||void 0===f?void 0:f.apiDetail,u=n.status<=0||400<=n.status,l=b(a,e.api,{url:o,ctx:n}),f=l.code;l=l.isErr,s=(u?"FETCH_ERROR: "+a+" \n\n":"")+"req url: "+o+" \n                                \nreq method: "+((null==i?void 0:i.method)||"get")+" \n                                \nreq param: "+(s?I(null==i?void 0:i.body):"")+" \n                                \nres duration: "+r+"ms \n                                \nres status: "+(n.status||0)+" \n                                \nres retcode: "+f+"\n                                \nres data: "+(s?a:"");c.payload=new C(n,a),c.ret=f,c.isErr=+l,t.publishNormalLog({msg:s,level:u?g.AJAX_ERROR:l?g.RET_ERROR:g.API_RESPONSE,code:f,ctx:n})})):Object.assign(c,{type:"static",urlQuery:f(n.url,!0),domainLookup:s.number,connectTime:s.number}),t.publishSpeed(c))},catch:function(n,r,o,i){if(!(e.hostUrl&&-1<o.indexOf(e.hostUrl))){var a={url:o,isHttps:p(o),method:(null==i?void 0:i.method)||"get",duration:r,type:"fetch",status:0};throw t.publishSpeed(a),a=null===(a=e.api)||void 0===a?void 0:a.apiDetail,i="AJAX_ERROR: "+n+"\n                          \nres status: 0\n                          \nres duration: "+r+"ms\n                          \nreq url: "+o+"\n                          \nreq method: "+((null==i?void 0:i.method)||"get")+"\n                          \nreq param: "+(a?I(null==i?void 0:i.body):""),t.publishNormalLog({msg:i,level:g.AJAX_ERROR,code:-400,ctx:n}),n}}};this.hackFetchOptions=n,function(e){if(ue.find((function(t){return t.name===e.name})))throw new Error("name '"+e.name+"' is already in hackFetch option list");var t;ue.push(e),!ce&&window.fetch&&(ce=!0,t=window.fetch,window.fetch=function(e,n){void 0===n&&(n={});for(var r="string"==typeof e?e:e.url,o=0;o<ue.length;o++){var i=ue[o];try{"function"==typeof i.beforeFetch&&i.beforeFetch(r,n)}catch(e){}}var a=Date.now();return t(e,n).then((function(e){for(var t=0;t<ue.length;t++){var o=ue[t];try{"function"==typeof o.then&&o.then(e,Date.now()-a,r,n)}catch(e){}}return e})).catch((function(e){for(var t=0;t<ue.length;t++){var o=ue[t];try{"function"==typeof o.catch&&o.catch(e,Date.now()-a,r,n)}catch(e){}}throw e}))})}(this.hackFetchOptions)},getRequestType:function(e,t,n){var r,o="function"==typeof(null===(r=e.api)||void 0===r?void 0:r.resourceTypeHandler)?null===(o=e.api)||void 0===o?void 0:o.resourceTypeHandler(n):"";return"fetch"!==o&&"static"!==o&&(n=t.getResponseHeader("content-type"),o=400<=t.status||"string"!=typeof n||!d(n)?"fetch":"static"),o},overrideXhr:function(e){var t=this,n={name:this.name,send:function(n,r){var o=Date.now();n.addEventListener("loadend",(function(){var i,a=n.aegisUrl;if(a&&!(e.hostUrl&&-1<a.indexOf(e.hostUrl))){var c=Date.now()-o,u={url:a,isHttps:p(a),status:n.status||0,method:n.aegisMethod||"get",type:"fetch",duration:c,payload:new O(n)};if("fetch"===t.getRequestType(e,n,a))try{var l=null===(i=e.api)||void 0===i?void 0:i.apiDetail,d=b(n.response,e.api,{url:a,ctx:n}),h=d.code,v=d.isErr,m="req url: "+a+" \n                                \nreq method: "+u.method+" \n                                \nreq param: "+(l?I(r):"")+" \n                                \nres duration: "+c+"ms \n                                \nres status: "+u.status+" \n                                \nres retcode: "+h+"\n                                \nres data: "+(l?I(n.response):"");u.ret=h,u.isErr=+v,t.publishNormalLog({msg:m,level:v?g.RET_ERROR:g.API_RESPONSE,code:h,ctx:n})}catch(i){u.ret="unknown"}else Object.assign(u,{type:"static",urlQuery:f(a,!0),domainLookup:s.number,connectTime:s.number});t.publishSpeed(u)}}))}};this.hackXHROptions=n,F(this.hackXHROptions)},publishSpeed:function(e){var t=this;e.url=f(e.url),this.$walk((function(n){var r=t.$getConfig(n);"fetch"===e.type&&r&&"function"==typeof r.urlHandler?n.speedLogPipeline(o(o({},e),{url:encodeURIComponent(r.urlHandler(e.url,e.payload))})):n.speedLogPipeline(e)}))},publishNormalLog:function(e){this.$walk((function(t){t.normalLogPipeline(e)}))},destroy:function(){var e,t;this.option.publishSpeed=function(){},this.option.publishNormalLog=function(){},this.option.hackXHROptions&&j(this.option.hackXHROptions),this.option.hackFetchOptions&&(e=this.option.hackFetchOptions,-1!==(t=ue.findIndex((function(t){return t.name===e.name})))&&ue.splice(t,1))}}));function fe(e){this.aegisPlugin=!0,this.name="",this.instances=[],this.inited=!1,e.$walk=this.walk.bind(this),e.$getConfig=this.getConfig.bind(this),this.option=e,this.name=e.name}function pe(e){var t,n,r=this;this.isGetSample=!1,this.isHidden=!1,this.config={version:0,delay:1e3,onError:!0,repeat:5,random:1,aid:!0,device:!0,pagePerformance:!0,webVitals:!0,speedSample:!0,onClose:!0,hostUrl:"https://aegis.qq.com",websocketHack:!1,env:"production",url:"",offlineUrl:"",whiteListUrl:"",pvUrl:"",speedUrl:"",customTimeUrl:"",performanceUrl:"",webVitalsUrl:"",eventUrl:"",setDataReportUrl:""},this.isWhiteList=!1,this.lifeCycle=new c,this.bean={},this.normalLogPipeline=Z([$(this,5),H,function(e,n){var r=t.config;n(e=e.map((function(e){var t,n=r.maxLength||204800;try{if(!e.msg||e.msg.length<=n)return e;e.msg=null===(t=e.msg)||void 0===t?void 0:t.substring(0,n)}catch(t){e.msg=M(e.msg).substring(0,r.maxLength)}return e})))},Y((t=this).config),V(this.lifeCycle.emit,this.config),W(this),K(this),function(e,t){try{var n=JSON.parse(JSON.stringify(e));r.lifeCycle.emit("beforeReport",n);var o=r.config.beforeReport;(e="function"==typeof o?e.filter((function(e){return!1!==o(e)})):e).length&&t(e)}catch(e){}},J(this)]),this.eventPipeline=Z([$(this,5),X(this)]),this.timeMap={},this.failRequestCount=0,this.customTimePipeline=Z([$(this,5),Q(this)]),this.config=(n=this.config,void 0===(e=e.hostUrl)&&(e="https://aegis.qq.com"),n.url=n.url||e+"/collect",n.offlineUrl=n.offlineUrl||e+"/offline",n.whiteListUrl=n.whiteListUrl||e+"/collect/whitelist",n.pvUrl=n.pvUrl||e+"/collect/pv",n.eventUrl=n.eventUrl||e+"/collect/events",n.speedUrl=n.speedUrl||e+"/speed",n.customTimeUrl=n.customTimeUrl||e+"/speed/custom",n.performanceUrl=n.performanceUrl||e+"/speed/performance",n.webVitalsUrl=n.webVitalsUrl||e+"/speed/webvitals",n.setDataReportUrl=n.SetDataReportUrl||e+"/speed/miniProgramData",n),pe.instances.push(this)}(at=q=q||{})[at.unknown=100]="unknown",at[at.wifi=1]="wifi",at[at.net2g=2]="net2g",at[at.net3g=3]="net3g",at[at.net4g=4]="net4g",at[at.net5g=5]="net5g",at[at.net6g=6]="net6g",(et=B=B||{})[et.android=1]="android",et[et.ios=2]="ios",et[et.windows=3]="windows",et[et.macos=4]="macos",et[et.linux=5]="linux",et[et.other=100]="other";var de,he,ge,ve,me,_e,ye,be,Me,Ee,Ie=new te({name:"device",onNewAegis:function(e){e.extendBean("platform",this.getPlatform()),e.extendBean("netType",q.unknown),this.getDpi(e),this.refreshNetworkTypeToBean(e)},getDpi:function(e){e.extendBean("vp",Math.round(window.innerWidth)+" * "+Math.round(window.innerHeight)),window.screen&&e.extendBean("sr",Math.round(window.screen.width)+" * "+Math.round(window.screen.height))},getPlatform:function(){var e={android:/\bAndroid\s*([^;]+)/,ios:/\b(iPad|iPhone|iPod)\b.*? OS ([\d_]+)/,windows:/\b(Windows NT)/,macos:/\b(Mac OS)/,linux:/\b(Linux)/i},t=Object.keys(e).find((function(t){return e[t].test(navigator.userAgent)}));return t?B[t]:B.other},refreshNetworkTypeToBean:function(e){var t=this,n=e.config;n&&("function"==typeof n.getNetworkType?n.getNetworkType:Se)((function(n){q[n]||(n=q.unknown),e.extendBean("netType",n),t.NetworkRefreshTimer=setTimeout((function(){t.refreshNetworkTypeToBean(e),clearTimeout(t.NetworkRefreshTimer)}),1e4)}))}}),Se=function(e){var t="",n=navigator.userAgent.match(/NetType\/(\w+)/);n?t=n[1]:navigator.connection&&(t=navigator.connection.effectiveType||navigator.connection.type),e((t=t=t||"unknown",0<=(t=String(t).toLowerCase()).indexOf("4g")?q.net4g:0<=t.indexOf("wifi")?q.wifi:0<=t.indexOf("5g")?q.net5g:0<=t.indexOf("6g")?q.net6g:0<=t.indexOf("3g")?q.net3g:0<=t.indexOf("2g")?q.net2g:q.unknown))},Te=window.WebSocket,Oe=[],Ce={construct:function(e,t){var n=new e(t[0],t[1]);return n.originSend=n.send,n.addEventListener("error",(function(e){e=(null==e?void 0:e.currentTarget)||{};var t=e.url,n=e.readyState;null==Oe||Oe.forEach((function(e){e=e.onErr,null==e||e({msg:"无法获知具体错误信息，需在浏览器控制台查看！",readyState:n,connectUrl:t})}))})),Object.defineProperty(n,"send",{get:function(){return function(e){null===(a=n.originSend)||void 0===a||a.call(n,e);var t=n.readyState,r=WebSocket.OPEN,i=WebSocket.CLOSED,a=WebSocket.CONNECTING;e=WebSocket.CLOSING;if(t!==r){var s={readyState:t,connectUrl:n.url};switch(t){case i:Oe.forEach((function(e){e=e.sendErr,null==e||e(o({msg:"消息发送失败，连接已关闭！"},s))}));break;case a:Oe.forEach((function(e){(0,e.sendErr)(o({msg:"消息发送失败，正在连接中！"},s))}));break;case e:Oe.forEach((function(e){(0,e.sendErr)(o({msg:"消息发送失败，连接正在关闭！"},s))}))}}}}}),n}},Ae=new te({name:"onError"}),we=Ae=new te({name:"onError",onNewAegis:function(e){this.startListen(e)},startListen:function(e){var t=this,n=window.onerror;function r(e){e=e&&M(e.reason),t.publishErrorLog({msg:"PROMISE_ERROR: "+e,level:g.PROMISE_ERROR})}function o(e){var n=(null==e?void 0:e.target)||(null==e?void 0:e.srcElement);if(n&&(e=n.src||n.href,n=n.tagName,"string"==typeof e&&n&&!(-1<window.location.href.indexOf(e)))){var r={msg:n+" load fail: "+e,level:g.INFO};if(/\.js$/.test(e))r.level=g.SCRIPT_ERROR;else if(/\.css$/.test(e))r.level=g.CSS_ERROR;else switch(n.toLowerCase()){case"script":r.level=g.SCRIPT_ERROR;break;case"link":r.level=g.CSS_ERROR;break;case"img":r.level=g.IMAGE_ERROR;break;case"audio":case"video":r.level=g.MEDIA_ERROR;break;default:return}t.publishErrorLog(r)}}window.onerror=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.publishErrorLog({msg:(M(e[0])||"")+" @ ("+(M(e[1])||"")+":"+(e[2]||0)+":"+(e[3]||0)+")\n          \n"+M(e[4]||""),level:g.ERROR}),null==n||n.call.apply(n,i([window],e))},window.addEventListener("unhandledrejection",r),window.document.addEventListener("error",o,!0),e.lifeCycle.on("destroy",(function(){0===Ae.countInstance()&&(window.document.removeEventListener("unhandledrejection",r),window.document.removeEventListener("error",o,!0))}));var a,s,c,u=this,l={name:this.name,send:function(t,n){t.addEventListener("loadend",(function(){var r,o,i="";this.failType?i=this.failType:this.status?400<=this.status&&(i="error"):i="failed",e.config.hostUrl&&this.aegisUrl&&-1<this.aegisUrl.indexOf(e.config.hostUrl)||(o=null===(r=e.config.api)||void 0===r?void 0:r.apiDetail,i&&(r=t.aegisUrl,r=b(t.response,e.config.api,{url:r,ctx:t}).code,u.publishErrorLog({msg:"AJAX_ERROR: request "+i+"\n                      \nreq url: "+this.aegisUrl+"\n                      \nres status: "+(this.status||0)+"\n                      \nres retcode: "+r+"\n                      \nres duration: "+(Date.now()-t.aegisXhrStartTime)+"ms\n                      \nreq method: "+this.aegisMethod+"\n                      \nreq param: "+(o?I(n):"")+"\n                      \nres data: "+(o?null===(o=(o=t).responseType&&"text"!==o.responseType?"":o.responseText)||void 0===o?void 0:o.slice(0,1e3):""),level:g.AJAX_ERROR,ctx:t})))})),t.addEventListener("timeout",(function(){t.failType="timeout"})),t.addEventListener("error",(function(){t.failType="error"})),t.addEventListener("abort",(function(){t.failType="abort"}))}};this.hackXHROptions=l,F(this.hackXHROptions),e.config.websocketHack&&(s={key:e.config.id+"-"+this.name,onErr:function(e){var n;null===(n=t.publishWsErrorLog)||void 0===n||n.call(t,e)},sendErr:function(e){var n;null===(n=t.publishWsErrorLog)||void 0===n||n.call(t,e)}},this.hackWebsocketConfig=s,a=this.hackWebsocketConfig,window.Proxy&&window.WebSocket&&(l=window.WebSocket,window&&!l.isHack&&(s=new Proxy(WebSocket,Ce),l.isHack=!0,window.WebSocket=s),c=a,Oe.find((function(e){return e.key===c.key}))||c&&Oe.push(c)))},publishErrorLog:function(e){this.$walk((function(t){t.normalLogPipeline(e)}))},publishWsErrorLog:function(e){var t=e.connectUrl,n=e.msg;e=e.readyState;this.publishErrorLog({msg:"WEBSOCKET_ERROR: \n              connect: "+t+"\n              readyState: "+e+"\n              msg: "+n,level:g.WEBSOCKET_ERROR})},destroy:function(){this.option.publishErrorLog=function(){},this.option.hackXHROptions&&j(this.option.hackXHROptions),this.option.hackWebsocketConfig&&function(e){window.WebSocket=Te;var t=Oe.findIndex((function(t){return t.key===e.key}));-1!==t&&Oe.splice(t,1)}(this.option.hackWebsocketConfig)}}),Re=(new te({name:"pagePerformance"}),function(e,t,n,r){return void 0===n&&(n=15e3),void 0===r&&(r=0),(t=void 0===t?0:t)<=e&&e<=n?e:r}),De=1,Ne=new te({name:"pagePerformance",onNewAegis:function(e){var t=this;if(G())if(de)this.publish(de,e);else try{this.getFirstScreenTiming(e,(function(n){var r=performance.timing;r&&(de={dnsLookup:Re(r.domainLookupEnd-r.domainLookupStart),tcp:Re(r.connectEnd-r.connectStart),ssl:Re(0===r.secureConnectionStart?0:r.requestStart-r.secureConnectionStart),ttfb:Re(r.responseStart-r.requestStart),contentDownload:Re(r.responseEnd-r.responseStart),domParse:Re(r.domInteractive-r.domLoading),resourceDownload:Re(r.loadEventStart-r.domInteractive,0,15e3,1070),firstScreenTiming:Re(Math.floor(n),0,6e4)},t.publish(de,e))}))}catch(e){}},publish:function(e,t){var n=this;t.sendPipeline([function(e,r){var o,i=[];for(o in e)i.push(o+"="+e[o]);var a=n.$getConfig(t);if(a){var s=-1===t.config.performanceUrl.indexOf("?")?"?":"&";return"function"==typeof a.urlHandler?r({url:t.config.performanceUrl+s+i.join("&")+"&from="+(encodeURIComponent(a.urlHandler())||window.location.href),beanFilter:["from"],type:v.PERFORMANCE,log:e}):r({url:t.config.performanceUrl+s+i.join("&"),type:v.PERFORMANCE,log:e})}}],v.PERFORMANCE)(e)},getFirstScreenTiming:function(e,t){e.lifeCycle.on("destroy",(function(){c&&clearTimeout(c)}));var n=["script","style","link","br"],r=[],o=this,i={},a=new MutationObserver((function(e){var t={roots:[],rootsDomNum:[],time:performance.now()};e.forEach((function(e){e&&e.addedNodes&&e.addedNodes.forEach&&e.addedNodes.forEach((function(e){1===e.nodeType&&(e.hasAttribute("AEGIS-FIRST-SCREEN-TIMING")||e.querySelector("[AEGIS-FIRST-SCREEN-TIMING]"))?(Object.prototype.hasOwnProperty.apply(i,[t.time])||(i[t.time]=[]),i[t.time].push(e)):1!==e.nodeType||-1!==n.indexOf(e.nodeName.toLocaleLowerCase())||o.isEleInArray(e,t.roots)||e.hasAttribute("AEGIS-IGNORE-FIRST-SCREEN-TIMING")||(t.roots.push(e),t.rootsDomNum.push(o.walkAndCount(e)||0))}))})),t.roots.length&&r.push(t)}));a.observe(document,{childList:!0,subtree:!0});var s=function(){var n,u=0,l=0,f=Object.keys(i).filter((function(e){return i[+e].find((function(e){return o.isInFirstScreen(e)}))}));f.length?(l=Math.max.apply(null,f),("object"!=typeof(null===(f=e.config)||void 0===f?void 0:f.pagePerformance)||null!==(n=e.config.pagePerformance)&&void 0!==n&&n.firstScreenInfo)&&(e.firstScreenInfo={element:null===(n=i[l])||void 0===n?void 0:n[0],timing:l,markDoms:i})):r.forEach((function(t){for(var n,r=0;r<t.roots.length;r++)t.rootsDomNum[r]>u&&o.isInFirstScreen(t.roots[r])&&(u=t.rootsDomNum[r],l=t.time,("object"!=typeof(null===(n=e.config)||void 0===n?void 0:n.pagePerformance)||null!==(n=e.config.pagePerformance)&&void 0!==n&&n.firstScreenInfo)&&(e.firstScreenInfo={element:t.roots[r],timing:l}))})),!l&&De?c=setTimeout((function(){return s()}),3e3):(a.disconnect(),null==t||t(l)),--De},c=setTimeout((function(){return s()}),3e3)},isEleInArray:function(e,t){return!(!e||e===document.documentElement)&&(-1!==t.indexOf(e)||this.isEleInArray(e.parentElement,t))},isInFirstScreen:function(e){if(!e||"function"!=typeof e.getBoundingClientRect)return!1;var t=e.getBoundingClientRect(),n=window.innerHeight;e=window.innerWidth;return 0<=t.left&&t.left<e&&0<=t.top&&t.top<n&&0<t.width&&0<t.height},walkAndCount:function(e){var t=0;if(e&&1===e.nodeType){t+=1;var n=e.children;if(null!=n&&n.length)for(var r=0;r<n.length;r++)t+=this.walkAndCount(n[r])}return t}});function ke(){me=[],ge=-1,he=null,Me(addEventListener)}function Le(e,t){he||(he=t,ge=e,ve=new Date,Me(removeEventListener),be())}function Pe(e){var t,n,r,o;function i(){Le(n,r),o()}function a(){o()}e.cancelable&&(t=(1e12<e.timeStamp?new Date:performance.now())-e.timeStamp,"pointerdown"==e.type?(n=t,r=e,o=function(){removeEventListener("pointerup",i,_e),removeEventListener("pointercancel",a,_e)},addEventListener("pointerup",i,_e),addEventListener("pointercancel",a,_e)):Le(t,e))}function xe(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v1-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}}function Ge(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}}function Ue(e,t){function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))}addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)}function Fe(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)}function je(e,t,n){var r;return function(){0<=t.value&&(n||We.has(t)||"hidden"===document.visibilityState)&&(t.delta=t.value-(r||0),!t.delta&&void 0!==r||(r=t.value,e(t)))}}function qe(){Ue((function(e){e=e.timeStamp,ze=e}),!0)}function Be(){return ze<0&&((ze=self.webVitals.firstHiddenTime)===1/0&&qe(),Fe((function(){setTimeout((function(){ze="hidden"===document.visibilityState?0:1/0,qe()}),0)}))),{get timeStamp(){return ze}}}function Ve(e){var t=e.name;e=e.value;Ye[t]=e}function $e(e,t){function n(e){u=e}function r(e){s=s.concat(e)}function i(e,t){c={conds:e=void 0===e?{}:e,params:t=void 0===t?{}:t}}var s=[],c=null,u=null;Qe.useAsyncPlugin(e,{exportsConstructor:"Flog",onAegisInit:function(e){e.lifeCycle.on("beforeWrite",r),e.lifeCycle.on("uploadLogs",i),e.lifeCycle.on("onConfigChange",n)},onAegisInitAndPluginLoaded:function(e,l){var f,p,d,h,m,_=t.dbConfig,y=void 0===_?{}:_,b=t.url,E=void 0===b?Qe.urls.aegisCollect:b,I=t.offlineLogExp,S=void 0===I?3:I;_=t.id,b=t.uin;null===(I=e.lifeCycle)||void 0===I||I.remove("beforeWrite",r),null===(I=e.lifeCycle)||void 0===I||I.remove("uploadLogs",i),null===(I=e.lifeCycle)||void 0===I||I.remove("onConfigChange",n),y=Object.assign({lookupUrl:E+"/offlineAuto?id="+_,preservedDay:S,id:_,uin:b,aid:(null===(b=e.bean)||void 0===b?void 0:b.aid)||"",beforeRequest:e.config.beforeRequest,afterRequest:e.config.afterRequest},y,{sessionId:Qe.sessionID});try{var T=new l(y);s.forEach((function(e){T.add(o(o({},e),{level:e.level===g.INFO_ALL?g.INFO:e.level}))})),null===(f=e.lifeCycle)||void 0===f||f.on("beforeWrite",(function(e){(e=void 0===e?[]:e).forEach((function(e){T.add(o(o({},e),{level:e.level===g.INFO_ALL?g.INFO:e.level}))}))})),null===(p=e.lifeCycle)||void 0===p||p.on("uploadLogs",(function(n,r){var o;void 0===n&&(n={}),void 0===r&&(r={}),T.uploadLogs(Object.assign({id:t.id,uin:t.uin,aid:null===(o=e.bean)||void 0===o?void 0:o.aid},n),r)})),null===(d=e.lifeCycle)||void 0===d||d.on("onConfigChange",(function(e){T.setConfig(e)})),null===(h=e.lifeCycle)||void 0===h||h.on("destroy",(function(){0===Ze.countInstance()&&(s.length=0,"function"==typeof((c=null)==T?void 0:T.destroy)&&T.destroy())})),T.on("PERREVENT",(function(n){e.sendPipeline([function(e,n){var r=(r={msg:M(e),level:g.INFO},(r=Array.isArray(r)?r:[r]).map((function(e,t){return Object.getOwnPropertyNames(e).map((function(n){return a(n)+"["+t+"]="+(void 0===e[n]?"":a(e[n]))})).join("&")})).join("&")+(r.length?"&count="+r.length:""));n({type:v.OFFLINE,data:r,contentType:"application/x-www-form-urlencoded",method:"post",addBean:!1,url:t.url+"?id=893&sessionId="+Qe.sessionID+"&uin="+t.uin+"&from="+t.id+"&count=1&version=1.35.26",log:e})}],v.OFFLINE)(n)})),u&&(T.setConfig(u),u=null),c&&(null===(m=e.lifeCycle)||void 0===m||m.emit("uploadLogs",c.conds,c.params),c=null),e.flog=T}catch(e){console.log(e)}}})}_e={passive:!0,capture:!0},ye=new Date,be=function(){var e;0<=ge&&ge<ve-ye&&(e={entryType:"first-input",name:he.type,target:he.target,cancelable:he.cancelable,startTime:he.timeStamp,processingStart:he.timeStamp+ge},me.forEach((function(t){t(e)})),me=[])},Me=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,Pe,_e)}))},Ee="hidden"===document.visibilityState?0:1/0,addEventListener("visibilitychange",(function e(t){"hidden"===document.visibilityState&&(Ee=t.timeStamp,removeEventListener("visibilitychange",e,!0))}),!0),ke(),self.webVitals={firstInputPolyfill:function(e){me.push(e),be()},resetFirstInputPolyfill:ke,get firstHiddenTime(){return Ee}};var He,Ke,We=new("function"==typeof WeakSet?WeakSet:Set),ze=-1,Ye=(new te({name:"webVitals"}),{FCP:-1,LCP:-1,FID:-1,CLS:-1}),Je=new te({name:"webVitals",onNewAegis:function(e){if(G()&&"function"==typeof window.PerformanceObserver)try{m=Ve,y=Be(),b=xe("FCP"),M=performance.getEntriesByName("first-contentful-paint")[0],E=M?null:Ge("paint",T),(M||E)&&(_=je(m,b,void 0),M&&T(M),Fe((function(e){b=xe("FCP"),_=je(m,b,void 0),requestAnimationFrame((function(){requestAnimationFrame((function(){b.value=performance.now()-e.timeStamp,We.add(b),_()}))}))}))),f=Ve,h=Be(),g=xe("LCP"),(v=Ge("largest-contentful-paint",S))&&(p=je(f,g,void 0),d=function(){We.has(g)||(v.takeRecords().map(S),v.disconnect(),We.add(g),p())},["keydown","click"].forEach((function(e){addEventListener(e,d,{once:!0,capture:!0})})),Ue(d,!0),Fe((function(e){g=xe("LCP"),p=je(f,g,void 0),requestAnimationFrame((function(){requestAnimationFrame((function(){g.value=performance.now()-e.timeStamp,We.add(g),p()}))}))}))),a=Ve,s=Be(),c=xe("FID"),u=Ge("first-input",I),l=je(a,c,void 0),u&&Ue((function(){u.takeRecords().map(I),u.disconnect()}),!0),u||window.webVitals.firstInputPolyfill(I),Fe((function(){c=xe("FID"),l=je(a,c,void 0),window.webVitals.resetFirstInputPolyfill(),window.webVitals.firstInputPolyfill(I)})),n=Ve,o=xe("CLS",0),(i=Ge("layout-shift",t))&&(r=je(n,o,void 0),Ue((function(){i.takeRecords().map(t),r()})),Fe((function(){o=xe("CLS",0),r=je(n,o,void 0)}))),U(this.publish.bind(this,e),!0)}catch(e){}function t(e){e.hadRecentInput||(o.value+=e.value,o.entries.push(e),r())}var n,r,o,i,a,s,c,u,l,f,p,d,h,g,v,m,_,y,b,M,E;function I(e){e.startTime<s.timeStamp&&(c.value=e.processingStart-e.startTime,c.entries.push(e),We.add(c),l())}function S(e){var t=e.startTime;t<h.timeStamp&&(g.value=t,g.entries.push(e)),p()}function T(e){"first-contentful-paint"===e.name&&(E&&E.disconnect(),e.startTime<y.timeStamp&&(b.value=e.startTime,b.entries.push(e),We.add(b),_()))}},publish:function(e){e.sendPipeline([function(t,n){var r,o=[];for(r in t)o.push(r+"="+t[r]);var i=-1===e.config.performanceUrl.indexOf("?")?"?":"&";n({url:e.config.webVitalsUrl+i+o.join("&"),type:v.VITALS,log:t,sendBeacon:!0})}],v.VITALS)(Ye)},destroy:function(){this.option.publish=function(){}}}),Xe=0,Qe=(r(Ke=tt,at=He=ee),Ke.prototype=null===at?Object.create(at):(nt.prototype=at.prototype,new nt),tt.prototype.getBean=function(e){var t=this;return void 0===e&&(e=[]),""+Object.getOwnPropertyNames(this.bean).filter((function(t){return-1===e.indexOf(t)})).map((function(e){return e+"="+t.bean[e]})).join("&")},tt.prototype.resetRequesting=function(){var e;this.sendNow||(this.requesting=!1,(e=this.requestQueue.shift())&&this.request(e.options,e.success,e.fail))},tt.prototype.request=function(e,t,n){var r=this;if(e&&"string"==typeof e.url&&""!==e.url&&this.bean.id)if(this.sendNow||!this.requesting){this.requesting=!0;var o=e.url;!1!==e.addBean&&(o=o+(-1===o.indexOf("?")?"?":"&")+this.getBean(e.beanFilter)),e.url=o;var i=e.method||"get";o=this.config.onBeforeRequest;if(!(e=o?o(e,this):e))return this.resetRequesting(),console.warn("Sending request blocked");if(!e.url)return this.resetRequesting(),console.warn("Please handle the parameters reasonably, options.url is necessary");if((e.sendBeacon||this.sendNow)&&"function"==typeof navigator.sendBeacon)return this.resetRequesting(),void navigator.sendBeacon(e.url,e.data);var a=new XMLHttpRequest;a.sendByAegis=!0,a.addEventListener("readystatechange",(function(){4===a.readyState&&(r.resetRequesting(),400<=a.status||0===a.status?null==n||n(a.response):null==t||t(a.response))})),"get"===i.toLocaleLowerCase()?(a.open("get",function(e,t){if("string"!=typeof e)return"";if("object"==typeof t&&t){var n=Object.getOwnPropertyNames(t).map((function(e){var n=t[e];return e+"="+("string"==typeof n?encodeURIComponent(n):encodeURIComponent(JSON.stringify(n)))})).join("&").replace(/eval/gi,"evaI");return e+(-1===e.indexOf("?")?"?":"&")+n}return e}(e.url,e.data)),a.send()):(a.open("post",e.url),e.contentType&&a.setRequestHeader("Content-Type",e.contentType),"string"==typeof e.data&&(e.data=e.data.replace(/eval/gi,"evaI")),a.send(e.data))}else this.requestQueue.push({options:e,success:t,fail:n})},tt.useAsyncPlugin=function(e,t){var n=(t=void 0===t?{}:t).exportsConstructor,r=void 0===n?"aegis-plugin-"+Xe:n,o=(n=t.onAegisInit,void 0===n?function(){}:n),i=(t=t.onAegisInitAndPluginLoaded,void 0===t?function(){}:t);if(Xe+=1,"string"!=typeof e)throw new TypeError("useAsyncPlugin first param must be string");if("function"!=typeof o||"function"!=typeof i)throw new TypeError("onAegisInit and onAegisInitAndPluginLoaded must be function");this.use(new te({name:"asyncPlugin",onNewAegis:function(t){try{o(t),tt.asyncPlugin[e]?i(t,window[tt.asyncPlugin[e]]):(n=e,a=r,s=function(n){n||(tt.asyncPlugin[e]=r,n=window[r],i(t,n))},c=document.createElement("script"),u=document.head,"function"==typeof a&&(s=a,a=""),c.src=n,c.setAttribute("name",a),c.name=a,c.setAttribute("crossorigin","anonymous"),c.crossorigin="anonymous",c.defer=!0,c.hasLoaded=!1,c.onreadystatechange=function(){c.hasLoaded||c.readyState&&"loaded"!==c.readyState&&"complete"!==c.readyState||(c.hasLoaded=!0,"function"==typeof s&&s(!1),setTimeout((function(){u.contains(c)&&u.removeChild(c)})))},c.onload=c.onreadystatechange,c.onerror=function(){"function"==typeof s&&s(!0),setTimeout((function(){u.contains(c)&&u.removeChild(c)}))},"complete"===document.readyState?u.appendChild(c):window.addEventListener("load",(function(){u.appendChild(c)})))}catch(n){console.log("error on below is caused by "+e+" "),console.error(n)}var n,a,s,c,u}}))},tt.prototype.publishPluginsLogs=function(){var e=tt.installedPlugins.find((function(e){return"reportAssetSpeed"===e.name}));null==e||e.option.collectNotReportedLog(this)},tt.prototype.publishLogsQueue=function(){var e=this;this.sendNow=!0,this.requestQueue.forEach((function(t){t.option&&(t.option=o(o({},t.option),{sendBeacon:!0})),e.request(t)})),this.requestQueue=[]},tt.prototype.uploadLogs=function(e,t){this.lifeCycle.emit("uploadLogs",e=void 0===e?{}:e,t=void 0===t?{}:t)},tt.sessionID="session-"+Date.now(),tt.asyncPlugin={},tt.urls={aegisCollect:"https://aegis.qq.com/collect",flog:"https://cdn-go.cn/vasdev/web_webpersistance_v2/v1.8.2/flog.core.min.js",shadowLog:""},tt),Ze=new te({name:"offlineLog"}),et=Ze=new te({name:"offlineLog",onNewAegis:function(e){$e(Qe.urls.flog,e.config)}});new te({name:"spa"}),ee=new te({name:"spa",init:function(){history.pushState=this.wr("pushState")||history.pushState,history.replaceState=this.wr("replaceState")||history.replaceState;var e=(null===(e=location.href)||void 0===e?void 0:e.split("?"))[0];this.$fireUrl=e,this.sendPv=this.sendPv.bind(this),this.onPageChange()},onPageChange:function(){window.addEventListener("replaceState",this.sendPv),window.addEventListener("pushState",this.sendPv),window.addEventListener("popstate",this.sendPv)},wr:function(e){var t=history[e],n="__"+e+"__hasWrittenByTamSpa";return"function"==typeof t&&!history[n]&&(Object.defineProperty(history,n,{value:!0,enumerable:!1}),function(){var n=t.apply(this,arguments),r=null;return"function"==typeof Event?r=new Event(e):(r=document.createEvent("HTMLEvents")).initEvent(e,!1,!0),window.dispatchEvent(r),n})},sendPv:function(){var e=this;setTimeout((function(){var t=location.href,n=(null===(n=location.href)||void 0===n?void 0:n.split("?"))[0];n&&n!==e.$fireUrl&&(e.$walk((function(e){e.sendPipeline([function(n,r){r({url:e.config.pvUrl+"?from="+encodeURIComponent(t),beanFilter:["from"],type:v.PV})}],v.PV)(null)})),e.$fireUrl=n)}),0)},destroy:function(){window.removeEventListener("replaceState",this.option.sendPv),window.removeEventListener("pushState",this.option.sendPv),window.removeEventListener("popstate",this.option.sendPv)}});function tt(e){var t,n,r,o=He.call(this,e)||this;o.sendNow=!1,o.requestQueue=[],o.requesting=!1,o.speedLogPipeline=Z([$(o),z(o.config),(r=o,function(e,t){Se((function(n){r.extendBean("netType",n),t(e)}))}),function(e,t){o.lifeCycle.emit("beforeReportSpeed",e);var n=o.config.beforeReportSpeed;if((e="function"==typeof n?e.filter((function(e){var t,r,i=!1!==n(e);return"fetch"===e.type&&void 0===e.ret&&e.payload&&(t=(r=b(e.payload.data.response,o.config.api,{url:e.payload.data.url,ctx:e.payload.data})||{}).code,r=r.isErr,e.ret=t,e.isErr=+r),i})):e).length)return t(e)},function(e){return o.sendPipeline([function(e,t){t({type:v.SPEED,url:""+o.config.speedUrl,method:"post",data:re(e,o.bean),log:e})}],v.SPEED)(e)}]),e.asyncPlugin=!0;try{"undefined"!=typeof document&&(e.uin=e.uin||(null!==(t=document.cookie.match(/\buin=\D+(\d*)/))&&void 0!==t?t:[])[1]||(null!==(n=document.cookie.match(/\bilive_uin=\D*(\d+)/))&&void 0!==n?n:[])[1]||""),o.init(e),o.extendBean("sessionId",tt.sessionID),o.extendBean("from",encodeURIComponent(e.pageUrl||location.href)),"undefined"!=typeof document&&o.extendBean("referer",encodeURIComponent(document.referrer||"")),e.ext1&&o.extendBean("ext1",encodeURIComponent(e.ext1)),e.ext2&&o.extendBean("ext2",encodeURIComponent(e.ext2)),e.ext3&&o.extendBean("ext3",encodeURIComponent(e.ext3))}catch(e){console.warn(e),console.log("%cThe above error occurred in the process of initializing Aegis, which will affect your normal use of Aegis.\nIt is recommended that you contact us for feedback and thank you for your support.","color: red"),o.sendSDKError(e)}return o}function nt(){this.constructor=Ke}function rt(e){return-1!==ot.indexOf(e)}new te({name:"ie"});var ot=window.navigator.userAgent.toLowerCase(),it={macos:function(){return rt("mac")},ios:function(){return it.iphone()||it.ipod()||it.ipad()},iphone:function(){return!it.windows()&&rt("iphone")},ipod:function(){return rt("ipod")},ipad:function(){var e="MacIntel"===navigator.platform&&1<navigator.maxTouchPoints;return rt("ipad")||e},android:function(){return!it.windows()&&rt("android")},androidPhone:function(){return it.android()&&rt("mobile")},androidTablet:function(){return it.android()&&!rt("mobile")},blackberry:function(){return rt("blackberry")||rt("bb10")},blackberryPhone:function(){return it.blackberry()&&!rt("tablet")},blackberryTablet:function(){return it.blackberry()&&rt("tablet")},windows:function(){return rt("windows")},windowsPhone:function(){return it.windows()&&rt("phone")},windowsTablet:function(){return it.windows()&&rt("touch")&&!it.windowsPhone()},fxos:function(){return(rt("(mobile")||rt("(tablet"))&&rt(" rv:")},fxosPhone:function(){return it.fxos()&&rt("mobile")},fxosTablet:function(){return it.fxos()&&rt("tablet")},meego:function(){return rt("meego")},cordova:function(){return window.cordova&&"file:"===location.protocol},nodeWebkit:function(){return"object"==typeof window.process},mobile:function(){return it.androidPhone()||it.iphone()||it.ipod()||it.windowsPhone()||it.blackberryPhone()||it.fxosPhone()||it.meego()},tablet:function(){return it.ipad()||it.androidTablet()||it.blackberryTablet()||it.windowsTablet()||it.fxosTablet()},desktop:function(){return!it.tablet()&&!it.mobile()}};new te({name:"onClose"});var at=new te({name:"onClose",onNewAegis:function(){var e,t=this;it.desktop()?(e=window.onunload,window.onunload=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t.publishNotReportedLog(),null==e||e.call.apply(e,i([window],n))}):U(this.publishNotReportedLog.bind(this),!0)},publishNotReportedLog:function(){var e=this;this.$walk((function(t){t.sendNow=!0,t.publishPluginsLogs(),t.publishLogsQueue(),e.publishThrottlePipeLogs(t)}))},publishThrottlePipeLogs:function(e){null==e||e.speedLogPipeline([]),null==e||e.eventPipeline([]),null==e||e.customTimePipeline([]),null==e||e.normalLogPipeline([])}});return Qe.use(we),Qe.use(le),Qe.use(ie),Qe.use(Ne),Qe.use(Je),Qe.use(ne),Qe.use(Ie),Qe.use(et),Qe.use(ee),Qe.use(at),Qe}))},addb:function(e,t,n){var r=n("4dae"),o=Math.floor,i=function(e,t){var n=e.length,c=o(n/2);return n<8?a(e,t):s(e,i(r(e,0,c),t),i(r(e,c),t),t)},a=function(e,t){var n,r,o=e.length,i=1;while(i<o){r=i,n=e[i];while(r&&t(e[r-1],n)>0)e[r]=e[--r];r!==i++&&(e[r]=n)}return e},s=function(e,t,n,r){var o=t.length,i=n.length,a=0,s=0;while(a<o||s<i)e[a+s]=a<o&&s<i?r(t[a],n[s])<=0?t[a++]:n[s++]:a<o?t[a++]:n[s++];return e};e.exports=i},ae93:function(e,t,n){"use strict";var r,o,i,a=n("d039"),s=n("1626"),c=n("7c73"),u=n("e163"),l=n("cb2d"),f=n("b622"),p=n("c430"),d=f("iterator"),h=!1;[].keys&&(i=[].keys(),"next"in i?(o=u(u(i)),o!==Object.prototype&&(r=o)):h=!0);var g=void 0==r||a((function(){var e={};return r[d].call(e)!==e}));g?r={}:p&&(r=c(r)),s(r[d])||l(r,d,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},aeb0:function(e,t,n){var r=n("9bf2").f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},aed9:function(e,t,n){var r=n("83ab"),o=n("d039");e.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},b041:function(e,t,n){"use strict";var r=n("00ee"),o=n("f5df");e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},b0c0:function(e,t,n){var r=n("83ab"),o=n("5e77").EXISTS,i=n("e330"),a=n("9bf2").f,s=Function.prototype,c=i(s.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=i(u.exec),f="name";r&&!o&&a(s,f,{configurable:!0,get:function(){try{return l(u,c(this))[1]}catch(e){return""}}})},b367:function(e,t,n){var r=n("5524"),o=n("ef08"),i="__core-js_shared__",a=o[i]||(o[i]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("e444")?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},b39a:function(e,t,n){"use strict";var r=n("da84"),o=n("2ba4"),i=n("ebb5"),a=n("d039"),s=n("f36a"),c=r.Int8Array,u=i.aTypedArray,l=i.exportTypedArrayMethod,f=[].toLocaleString,p=!!c&&a((function(){f.call(new c(1))})),d=a((function(){return[1,2].toLocaleString()!=new c([1,2]).toLocaleString()}))||!a((function(){c.prototype.toLocaleString.call([1,2])}));l("toLocaleString",(function(){return o(f,p?s(u(this)):u(this),s(arguments))}),d)},b42e:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var t=+e;return(t>0?r:n)(t)}},b4f8:function(e,t,n){var r=n("23e7"),o=n("d066"),i=n("1a2d"),a=n("577e"),s=n("5692"),c=n("3d87"),u=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(e){var t=a(e);if(i(u,t))return u[t];var n=o("Symbol")(t);return u[t]=n,l[n]=t,n}})},b50d:function(e,t,n){"use strict";var r=n("c532"),o=n("467f"),i=n("7aac"),a=n("30b5"),s=n("83b9"),c=n("c345"),u=n("3934"),l=n("2d83"),f=n("2444"),p=n("7a77");e.exports=function(e){return new Promise((function(t,n){var d,h=e.data,g=e.headers,v=e.responseType;function m(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}r.isFormData(h)&&delete g["Content-Type"];var _=new XMLHttpRequest;if(e.auth){var y=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(y+":"+b)}var M=s(e.baseURL,e.url);function E(){if(_){var r="getAllResponseHeaders"in _?c(_.getAllResponseHeaders()):null,i=v&&"text"!==v&&"json"!==v?_.response:_.responseText,a={data:i,status:_.status,statusText:_.statusText,headers:r,config:e,request:_};o((function(e){t(e),m()}),(function(e){n(e),m()}),a),_=null}}if(_.open(e.method.toUpperCase(),a(M,e.params,e.paramsSerializer),!0),_.timeout=e.timeout,"onloadend"in _?_.onloadend=E:_.onreadystatechange=function(){_&&4===_.readyState&&(0!==_.status||_.responseURL&&0===_.responseURL.indexOf("file:"))&&setTimeout(E)},_.onabort=function(){_&&(n(l("Request aborted",e,"ECONNABORTED",_)),_=null)},_.onerror=function(){n(l("Network Error",e,null,_)),_=null},_.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||f.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",_)),_=null},r.isStandardBrowserEnv()){var I=(e.withCredentials||u(M))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;I&&(g[e.xsrfHeaderName]=I)}"setRequestHeader"in _&&r.forEach(g,(function(e,t){"undefined"===typeof h&&"content-type"===t.toLowerCase()?delete g[t]:_.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(_.withCredentials=!!e.withCredentials),v&&"json"!==v&&(_.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&_.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&_.upload&&_.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(d=function(e){_&&(n(!e||e&&e.type?new p("canceled"):e),_.abort(),_=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d))),h||(h=null),_.send(h)}))}},b575:function(e,t,n){var r,o,i,a,s,c,u,l,f=n("da84"),p=n("0366"),d=n("06cf").f,h=n("2cf4").set,g=n("1cdc"),v=n("d4c3"),m=n("a4b4"),_=n("605d"),y=f.MutationObserver||f.WebKitMutationObserver,b=f.document,M=f.process,E=f.Promise,I=d(f,"queueMicrotask"),S=I&&I.value;S||(r=function(){var e,t;_&&(e=M.domain)&&e.exit();while(o){t=o.fn,o=o.next;try{t()}catch(n){throw o?a():i=void 0,n}}i=void 0,e&&e.enter()},g||_||m||!y||!b?!v&&E&&E.resolve?(u=E.resolve(void 0),u.constructor=E,l=p(u.then,u),a=function(){l(r)}):_?a=function(){M.nextTick(r)}:(h=p(h,f),a=function(){h(r)}):(s=!0,c=b.createTextNode(""),new y(r).observe(c,{characterData:!0}),a=function(){c.data=s=!s})),e.exports=S||function(e){var t={fn:e,next:void 0};i&&(i.next=t),o||(o=t,a()),i=t}},b622:function(e,t,n){var r=n("da84"),o=n("5692"),i=n("1a2d"),a=n("90e3"),s=n("4930"),c=n("fdbf"),u=o("wks"),l=r.Symbol,f=l&&l["for"],p=c?l:l&&l.withoutSetter||a;e.exports=function(e){if(!i(u,e)||!s&&"string"!=typeof u[e]){var t="Symbol."+e;s&&i(l,e)?u[e]=l[e]:u[e]=c&&f?f(t):p(t)}return u[e]}},b64b:function(e,t,n){var r=n("23e7"),o=n("7b0b"),i=n("df75"),a=n("d039"),s=a((function(){i(1)}));r({target:"Object",stat:!0,forced:s},{keys:function(e){return i(o(e))}})},b6b7:function(e,t,n){var r=n("ebb5"),o=n("4840"),i=r.TYPED_ARRAY_CONSTRUCTOR,a=r.aTypedArrayConstructor;e.exports=function(e){return a(o(e,e[i]))}},b727:function(e,t,n){var r=n("0366"),o=n("e330"),i=n("44ad"),a=n("7b0b"),s=n("07fa"),c=n("65f0"),u=o([].push),l=function(e){var t=1==e,n=2==e,o=3==e,l=4==e,f=6==e,p=7==e,d=5==e||f;return function(h,g,v,m){for(var _,y,b=a(h),M=i(b),E=r(g,v),I=s(M),S=0,T=m||c,O=t?T(h,I):n||p?T(h,0):void 0;I>S;S++)if((d||S in M)&&(_=M[S],y=E(_,S,b),e))if(t)O[S]=y;else if(y)switch(e){case 3:return!0;case 5:return _;case 6:return S;case 2:u(O,_)}else switch(e){case 4:return!1;case 7:u(O,_)}return f?-1:o||l?l:O}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},b980:function(e,t,n){var r=n("d039"),o=n("5c6c");e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",o(1,7)),7!==e.stack)}))},b9c7:function(e,t,n){n("e507"),e.exports=n("5524").Object.assign},ba01:function(e,t,n){e.exports=n("051b")},bb2f:function(e,t,n){var r=n("d039");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bc3a:function(e,t,n){e.exports=n("cee4")},bee2:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,"a",(function(){return o}))},bf19:function(e,t,n){"use strict";var r=n("23e7"),o=n("c65b");r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return o(URL.prototype.toString,this)}})},c04e:function(e,t,n){var r=n("c65b"),o=n("861d"),i=n("d9b5"),a=n("dc4a"),s=n("485a"),c=n("b622"),u=TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var n,c=a(e,l);if(c){if(void 0===t&&(t="default"),n=r(c,e,t),!o(n)||i(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},c0bb:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=112)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):o&&(c=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},112:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-collapse",attrs:{role:"tablist","aria-multiselectable":"true"}},[e._t("default")],2)},o=[];r._withStripped=!0;var i={name:"ElCollapse",componentName:"ElCollapse",props:{accordion:Boolean,value:{type:[Array,String,Number],default:function(){return[]}}},data:function(){return{activeNames:[].concat(this.value)}},provide:function(){return{collapse:this}},watch:{value:function(e){this.activeNames=[].concat(e)}},methods:{setActiveNames:function(e){e=[].concat(e);var t=this.accordion?e[0]:e;this.activeNames=e,this.$emit("input",t),this.$emit("change",t)},handleItemClick:function(e){if(this.accordion)this.setActiveNames(!this.activeNames[0]&&0!==this.activeNames[0]||this.activeNames[0]!==e.name?e.name:"");else{var t=this.activeNames.slice(0),n=t.indexOf(e.name);n>-1?t.splice(n,1):t.push(e.name),this.setActiveNames(t)}}},created:function(){this.$on("item-click",this.handleItemClick)}},a=i,s=n(0),c=Object(s["a"])(a,r,o,!1,null,null,null);c.options.__file="packages/collapse/src/collapse.vue";var u=c.exports;u.install=function(e){e.component(u.name,u)};t["default"]=u}})},c198:function(e,t,n){(function(t,r,o){e.exports=r(n("21bf"),n("1132"),n("72fe"),n("2b79"),n("38ba"))})(0,(function(e){return function(){var t=e,n=t.lib,r=n.BlockCipher,o=t.algo,i=[],a=[],s=[],c=[],u=[],l=[],f=[],p=[],d=[],h=[];(function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var o=r^r<<1^r<<2^r<<3^r<<4;o=o>>>8^255&o^99,i[n]=o,a[o]=n;var g=e[n],v=e[g],m=e[v],_=257*e[o]^16843008*o;s[n]=_<<24|_>>>8,c[n]=_<<16|_>>>16,u[n]=_<<8|_>>>24,l[n]=_;_=16843009*m^65537*v^257*g^16843008*n;f[o]=_<<24|_>>>8,p[o]=_<<16|_>>>16,d[o]=_<<8|_>>>24,h[o]=_,n?(n=g^e[e[e[m^g]]],r^=e[e[r]]):n=r=1}})();var g=[0,1,2,4,8,16,32,64,128,27,54],v=o.AES=r.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=this._nRounds=n+6,o=4*(r+1),a=this._keySchedule=[],s=0;s<o;s++)s<n?a[s]=t[s]:(l=a[s-1],s%n?n>6&&s%n==4&&(l=i[l>>>24]<<24|i[l>>>16&255]<<16|i[l>>>8&255]<<8|i[255&l]):(l=l<<8|l>>>24,l=i[l>>>24]<<24|i[l>>>16&255]<<16|i[l>>>8&255]<<8|i[255&l],l^=g[s/n|0]<<24),a[s]=a[s-n]^l);for(var c=this._invKeySchedule=[],u=0;u<o;u++){s=o-u;if(u%4)var l=a[s];else l=a[s-4];c[u]=u<4||s<=4?l:f[i[l>>>24]]^p[i[l>>>16&255]]^d[i[l>>>8&255]]^h[i[255&l]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,c,u,l,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,f,p,d,h,a);n=e[t+1];e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,o,i,a,s){for(var c=this._nRounds,u=e[t]^n[0],l=e[t+1]^n[1],f=e[t+2]^n[2],p=e[t+3]^n[3],d=4,h=1;h<c;h++){var g=r[u>>>24]^o[l>>>16&255]^i[f>>>8&255]^a[255&p]^n[d++],v=r[l>>>24]^o[f>>>16&255]^i[p>>>8&255]^a[255&u]^n[d++],m=r[f>>>24]^o[p>>>16&255]^i[u>>>8&255]^a[255&l]^n[d++],_=r[p>>>24]^o[u>>>16&255]^i[l>>>8&255]^a[255&f]^n[d++];u=g,l=v,f=m,p=_}g=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[f>>>8&255]<<8|s[255&p])^n[d++],v=(s[l>>>24]<<24|s[f>>>16&255]<<16|s[p>>>8&255]<<8|s[255&u])^n[d++],m=(s[f>>>24]<<24|s[p>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^n[d++],_=(s[p>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&f])^n[d++];e[t]=g,e[t+1]=v,e[t+2]=m,e[t+3]=_},keySize:8});t.AES=r._createHelper(v)}(),e.AES}))},c19f:function(e,t,n){"use strict";var r=n("23e7"),o=n("da84"),i=n("621a"),a=n("2626"),s="ArrayBuffer",c=i[s],u=o[s];r({global:!0,constructor:!0,forced:u!==c},{ArrayBuffer:c}),a(s)},c1ac:function(e,t,n){"use strict";var r=n("ebb5"),o=n("b727").filter,i=n("1448"),a=r.aTypedArray,s=r.exportTypedArrayMethod;s("filter",(function(e){var t=o(a(this),e,arguments.length>1?arguments[1]:void 0);return i(this,t)}))},c2cc:function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=138)}({138:function(e,t,n){"use strict";n.r(t);var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o={name:"ElCol",props:{span:{type:Number,default:24},tag:{type:String,default:"div"},offset:Number,pull:Number,push:Number,xs:[Number,Object],sm:[Number,Object],md:[Number,Object],lg:[Number,Object],xl:[Number,Object]},computed:{gutter:function(){var e=this.$parent;while(e&&"ElRow"!==e.$options.componentName)e=e.$parent;return e?e.gutter:0}},render:function(e){var t=this,n=[],o={};return this.gutter&&(o.paddingLeft=this.gutter/2+"px",o.paddingRight=o.paddingLeft),["span","offset","pull","push"].forEach((function(e){(t[e]||0===t[e])&&n.push("span"!==e?"el-col-"+e+"-"+t[e]:"el-col-"+t[e])})),["xs","sm","md","lg","xl"].forEach((function(e){if("number"===typeof t[e])n.push("el-col-"+e+"-"+t[e]);else if("object"===r(t[e])){var o=t[e];Object.keys(o).forEach((function(t){n.push("span"!==t?"el-col-"+e+"-"+t+"-"+o[t]:"el-col-"+e+"-"+o[t])}))}})),e(this.tag,{class:["el-col",n],style:o},this.$slots.default)},install:function(e){e.component(o.name,o)}};t["default"]=o}})},c345:function(e,t,n){"use strict";var r=n("c532"),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},c401:function(e,t,n){"use strict";var r=n("c532"),o=n("2444");e.exports=function(e,t,n){var i=this||o;return r.forEach(n,(function(n){e=n.call(i,e,t)})),e}},c430:function(e,t){e.exports=!1},c513:function(e,t,n){var r=n("23e7"),o=n("1a2d"),i=n("d9b5"),a=n("0d51"),s=n("5692"),c=n("3d87"),u=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(e){if(!i(e))throw TypeError(a(e)+" is not a symbol");if(o(u,e))return u[e]}})},c532:function(e,t,n){"use strict";var r=n("1d2b"),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function a(e){return"undefined"===typeof e}function s(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function c(e){return"[object ArrayBuffer]"===o.call(e)}function u(e){return"undefined"!==typeof FormData&&e instanceof FormData}function l(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function f(e){return"string"===typeof e}function p(e){return"number"===typeof e}function d(e){return null!==e&&"object"===typeof e}function h(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function g(e){return"[object Date]"===o.call(e)}function v(e){return"[object File]"===o.call(e)}function m(e){return"[object Blob]"===o.call(e)}function _(e){return"[object Function]"===o.call(e)}function y(e){return d(e)&&_(e.pipe)}function b(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function M(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function E(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function I(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}function S(){var e={};function t(t,n){h(e[n])&&h(t)?e[n]=S(e[n],t):h(t)?e[n]=S({},t):i(t)?e[n]=t.slice():e[n]=t}for(var n=0,r=arguments.length;n<r;n++)I(arguments[n],t);return e}function T(e,t,n){return I(t,(function(t,o){e[o]=n&&"function"===typeof t?r(t,n):t})),e}function O(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}e.exports={isArray:i,isArrayBuffer:c,isBuffer:s,isFormData:u,isArrayBufferView:l,isString:f,isNumber:p,isObject:d,isPlainObject:h,isUndefined:a,isDate:g,isFile:v,isBlob:m,isFunction:_,isStream:y,isURLSearchParams:b,isStandardBrowserEnv:E,forEach:I,merge:S,extend:T,trim:M,stripBOM:O}},c607:function(e,t,n){var r=n("83ab"),o=n("fce3"),i=n("c6b6"),a=n("edd0"),s=n("69f3").get,c=RegExp.prototype,u=TypeError;r&&o&&a(c,"dotAll",{configurable:!0,get:function(){if(this!==c){if("RegExp"===i(this))return!!s(this).dotAll;throw u("Incompatible receiver, RegExp required")}}})},c65b:function(e,t,n){var r=n("40d5"),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},c6b6:function(e,t,n){var r=n("e330"),o=r({}.toString),i=r("".slice);e.exports=function(e){return i(o(e),8,-1)}},c6cd:function(e,t,n){var r=n("da84"),o=n("6374"),i="__core-js_shared__",a=r[i]||o(i,{});e.exports=a},c6eb:function(e,t,n){"use strict";(function(e){var r=n("5ea3"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o,s=a&&r["a"].process,c=function(){try{var e=i&&i.require&&i.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();t["a"]=c}).call(this,n("dd40")(e))},c770:function(e,t,n){var r=n("e330"),o=Error,i=r("".replace),a=function(e){return String(o(e).stack)}("zxcasd"),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(a);e.exports=function(e,t){if(c&&"string"==typeof e&&!o.prepareStackTrace)while(t--)e=i(e,s,"");return e}},c8af:function(e,t,n){"use strict";var r=n("c532");e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},c8d2:function(e,t,n){var r=n("5e77").PROPER,o=n("d039"),i=n("5899"),a="​᠎";e.exports=function(e){return o((function(){return!!i[e]()||a[e]()!==a||r&&i[e].name!==e}))}},c901:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},ca84:function(e,t,n){var r=n("e330"),o=n("1a2d"),i=n("fc6a"),a=n("4d64").indexOf,s=n("d012"),c=r([].push);e.exports=function(e,t){var n,r=i(e),u=0,l=[];for(n in r)!o(s,n)&&o(r,n)&&c(l,n);while(t.length>u)o(r,n=t[u++])&&(~a(l,n)||c(l,n));return l}},ca91:function(e,t,n){"use strict";var r=n("ebb5"),o=n("d58f").left,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("reduce",(function(e){var t=arguments.length;return o(i(this),e,t,t>1?arguments[1]:void 0)}))},caad:function(e,t,n){"use strict";var r=n("23e7"),o=n("4d64").includes,i=n("d039"),a=n("44d2"),s=i((function(){return!Array(1).includes()}));r({target:"Array",proto:!0,forced:s},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},cb29:function(e,t,n){var r=n("23e7"),o=n("81d5"),i=n("44d2");r({target:"Array",proto:!0},{fill:o}),i("fill")},cb2d:function(e,t,n){var r=n("1626"),o=n("9112"),i=n("13d2"),a=n("6374");e.exports=function(e,t,n,s){s||(s={});var c=s.enumerable,u=void 0!==s.name?s.name:t;return r(n)&&i(n,u,s),s.global?c?e[t]=n:a(t,n):(s.unsafe?e[t]&&(c=!0):delete e[t],c?e[t]=n:o(e,t,n)),e}},cc12:function(e,t,n){var r=n("da84"),o=n("861d"),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},cc15:function(e,t,n){var r=n("b367")("wks"),o=n("8b1a"),i=n("ef08").Symbol,a="function"==typeof i,s=e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))};s.store=r},cc98:function(e,t,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("4738").CONSTRUCTOR,a=n("d256"),s=n("d066"),c=n("1626"),u=n("cb2d"),l=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(e){return this.then(void 0,e)}}),!o&&c(a)){var f=s("Promise").prototype["catch"];l["catch"]!==f&&u(l,"catch",f,{unsafe:!0})}},cca6:function(e,t,n){var r=n("23e7"),o=n("60da");r({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},cd26:function(e,t,n){"use strict";var r=n("ebb5"),o=r.aTypedArray,i=r.exportTypedArrayMethod,a=Math.floor;i("reverse",(function(){var e,t=this,n=o(t).length,r=a(n/2),i=0;while(i<r)e=t[i],t[i++]=t[--n],t[n]=e;return t}))},cdf9:function(e,t,n){var r=n("825a"),o=n("861d"),i=n("f069");e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e),a=n.resolve;return a(t),n.promise}},ce7a:function(e,t,n){var r=n("9c0e"),o=n("0983"),i=n("5a94")("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},cee4:function(e,t,n){"use strict";var r=n("c532"),o=n("1d2b"),i=n("0a06"),a=n("4a7b"),s=n("2444");function c(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n.create=function(t){return c(a(e,t))},n}var u=c(s);u.Axios=i,u.Cancel=n("7a77"),u.CancelToken=n("8df4"),u.isCancel=n("2e67"),u.VERSION=n("5cce").version,u.all=function(e){return Promise.all(e)},u.spread=n("0df6"),u.isAxiosError=n("5f02"),e.exports=u,e.exports.default=u},cfc3:function(e,t,n){var r=n("74e8");r("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},d010:function(e,t,n){"use strict";function r(e,t,n){this.$children.forEach((function(o){var i=o.$options.componentName;i===e?o.$emit.apply(o,[t].concat(n)):r.apply(o,[e,t].concat([n]))}))}t.__esModule=!0,t.default={methods:{dispatch:function(e,t,n){var r=this.$parent||this.$root,o=r.$options.componentName;while(r&&(!o||o!==e))r=r.$parent,r&&(o=r.$options.componentName);r&&r.$emit.apply(r,[t].concat(n))},broadcast:function(e,t,n){r.call(this,e,t,n)}}}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var r=n("da84"),o=n("1626"),i=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e]):r[e]&&r[e][t]}},d139:function(e,t,n){"use strict";var r=n("ebb5"),o=n("b727").find,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("find",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},d16a:function(e,t,n){var r=n("fc5e"),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},d180:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=113)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):o&&(c=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},113:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-collapse-item",class:{"is-active":e.isActive,"is-disabled":e.disabled}},[n("div",{attrs:{role:"tab","aria-expanded":e.isActive,"aria-controls":"el-collapse-content-"+e.id,"aria-describedby":"el-collapse-content-"+e.id}},[n("div",{staticClass:"el-collapse-item__header",class:{focusing:e.focusing,"is-active":e.isActive},attrs:{role:"button",id:"el-collapse-head-"+e.id,tabindex:e.disabled?void 0:0},on:{click:e.handleHeaderClick,keyup:function(t){return!("button"in t)&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.handleEnterClick(t))},focus:e.handleFocus,blur:function(t){e.focusing=!1}}},[e._t("title",[e._v(e._s(e.title))]),n("i",{staticClass:"el-collapse-item__arrow el-icon-arrow-right",class:{"is-active":e.isActive}})],2)]),n("el-collapse-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],staticClass:"el-collapse-item__wrap",attrs:{role:"tabpanel","aria-hidden":!e.isActive,"aria-labelledby":"el-collapse-head-"+e.id,id:"el-collapse-content-"+e.id}},[n("div",{staticClass:"el-collapse-item__content"},[e._t("default")],2)])])],1)},o=[];r._withStripped=!0;var i=n(28),a=n.n(i),s=n(4),c=n.n(s),u=n(3),l={name:"ElCollapseItem",componentName:"ElCollapseItem",mixins:[c.a],components:{ElCollapseTransition:a.a},data:function(){return{contentWrapStyle:{height:"auto",display:"block"},contentHeight:0,focusing:!1,isClick:!1,id:Object(u["generateId"])()}},inject:["collapse"],props:{title:String,name:{type:[String,Number],default:function(){return this._uid}},disabled:Boolean},computed:{isActive:function(){return this.collapse.activeNames.indexOf(this.name)>-1}},methods:{handleFocus:function(){var e=this;setTimeout((function(){e.isClick?e.isClick=!1:e.focusing=!0}),50)},handleHeaderClick:function(){this.disabled||(this.dispatch("ElCollapse","item-click",this),this.focusing=!1,this.isClick=!0)},handleEnterClick:function(){this.dispatch("ElCollapse","item-click",this)}}},f=l,p=n(0),d=Object(p["a"])(f,r,o,!1,null,null,null);d.options.__file="packages/collapse/src/collapse-item.vue";var h=d.exports;h.install=function(e){e.component(h.name,h)};t["default"]=h},28:function(e,t){e.exports=n("5488")},3:function(e,t){e.exports=n("8122")},4:function(e,t){e.exports=n("d010")}})},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},d256:function(e,t,n){var r=n("da84");e.exports=r.Promise},d28b:function(e,t,n){var r=n("746f");r("iterator")},d2bb:function(e,t,n){var r=n("e330"),o=n("825a"),i=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(a){}return function(n,r){return o(n),i(r),t?e(n,r):n.__proto__=r,n}}():void 0)},d397:function(e,t,n){"use strict";function r(e){return void 0!==e&&null!==e}function o(e){var t=/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi;return t.test(e)}t.__esModule=!0,t.isDef=r,t.isKorean=o},d3b7:function(e,t,n){var r=n("00ee"),o=n("cb2d"),i=n("b041");r||o(Object.prototype,"toString",i,{unsafe:!0})},d44e:function(e,t,n){var r=n("9bf2").f,o=n("1a2d"),i=n("b622"),a=i("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!o(e,a)&&r(e,a,{configurable:!0,value:t})}},d4c3:function(e,t,n){var r=n("342f"),o=n("da84");e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==o.Pebble},d4ec:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("d9e2");function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},d58f:function(e,t,n){var r=n("59ed"),o=n("7b0b"),i=n("44ad"),a=n("07fa"),s=TypeError,c=function(e){return function(t,n,c,u){r(n);var l=o(t),f=i(l),p=a(l),d=e?p-1:0,h=e?-1:1;if(c<2)while(1){if(d in f){u=f[d],d+=h;break}if(d+=h,e?d<0:p<=d)throw s("Reduce of empty array with no initial value")}for(;e?d>=0:p>d;d+=h)d in f&&(u=n(u,f[d],d,l));return u}};e.exports={left:c(!1),right:c(!0)}},d5d6:function(e,t,n){"use strict";var r=n("ebb5"),o=n("b727").forEach,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("forEach",(function(e){o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},d6d6:function(e,t){var n=TypeError;e.exports=function(e,t){if(e<t)throw n("Not enough arguments");return e}},d784:function(e,t,n){"use strict";n("ac1f");var r=n("e330"),o=n("cb2d"),i=n("9263"),a=n("d039"),s=n("b622"),c=n("9112"),u=s("species"),l=RegExp.prototype;e.exports=function(e,t,n,f){var p=s(e),d=!a((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),h=d&&!a((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[u]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t}));if(!d||!h||n){var g=r(/./[p]),v=t(p,""[e],(function(e,t,n,o,a){var s=r(e),c=t.exec;return c===i||c===l.exec?d&&!a?{done:!0,value:g(t,n,o)}:{done:!0,value:s(n,t,o)}:{done:!1}}));o(String.prototype,e,v[0]),o(l,p,v[1])}f&&c(l[p],"sham",!0)}},d81d:function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").map,i=n("1dde"),a=i("map");r({target:"Array",proto:!0,forced:!a},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},d86b:function(e,t,n){var r=n("d039");e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},d925:function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},d998:function(e,t,n){var r=n("342f");e.exports=/MSIE|Trident/.test(r)},d9b5:function(e,t,n){var r=n("d066"),o=n("1626"),i=n("3a9b"),a=n("fdbf"),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return o(t)&&i(t.prototype,s(e))}},d9e2:function(e,t,n){var r=n("23e7"),o=n("da84"),i=n("2ba4"),a=n("e5cb"),s="WebAssembly",c=o[s],u=7!==Error("e",{cause:7}).cause,l=function(e,t){var n={};n[e]=a(e,t,u),r({global:!0,constructor:!0,arity:1,forced:u},n)},f=function(e,t){if(c&&c[e]){var n={};n[e]=a(s+"."+e,t,u),r({target:s,stat:!0,constructor:!0,arity:1,forced:u},n)}};l("Error",(function(e){return function(t){return i(e,this,arguments)}})),l("EvalError",(function(e){return function(t){return i(e,this,arguments)}})),l("RangeError",(function(e){return function(t){return i(e,this,arguments)}})),l("ReferenceError",(function(e){return function(t){return i(e,this,arguments)}})),l("SyntaxError",(function(e){return function(t){return i(e,this,arguments)}})),l("TypeError",(function(e){return function(t){return i(e,this,arguments)}})),l("URIError",(function(e){return function(t){return i(e,this,arguments)}})),f("CompileError",(function(e){return function(t){return i(e,this,arguments)}})),f("LinkError",(function(e){return function(t){return i(e,this,arguments)}})),f("RuntimeError",(function(e){return function(t){return i(e,this,arguments)}}))},d9f5:function(e,t,n){"use strict";var r=n("23e7"),o=n("da84"),i=n("c65b"),a=n("e330"),s=n("c430"),c=n("83ab"),u=n("4930"),l=n("d039"),f=n("1a2d"),p=n("3a9b"),d=n("825a"),h=n("fc6a"),g=n("a04b"),v=n("577e"),m=n("5c6c"),_=n("7c73"),y=n("df75"),b=n("241c"),M=n("057f"),E=n("7418"),I=n("06cf"),S=n("9bf2"),T=n("37e8"),O=n("d1e7"),C=n("cb2d"),A=n("5692"),w=n("f772"),R=n("d012"),D=n("90e3"),N=n("b622"),k=n("e538"),L=n("746f"),P=n("57b9"),x=n("d44e"),G=n("69f3"),U=n("b727").forEach,F=w("hidden"),j="Symbol",q="prototype",B=G.set,V=G.getterFor(j),$=Object[q],H=o.Symbol,K=H&&H[q],W=o.TypeError,z=o.QObject,Y=I.f,J=S.f,X=M.f,Q=O.f,Z=a([].push),ee=A("symbols"),te=A("op-symbols"),ne=A("wks"),re=!z||!z[q]||!z[q].findChild,oe=c&&l((function(){return 7!=_(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Y($,t);r&&delete $[t],J(e,t,n),r&&e!==$&&J($,t,r)}:J,ie=function(e,t){var n=ee[e]=_(K);return B(n,{type:j,tag:e,description:t}),c||(n.description=t),n},ae=function(e,t,n){e===$&&ae(te,t,n),d(e);var r=g(t);return d(n),f(ee,r)?(n.enumerable?(f(e,F)&&e[F][r]&&(e[F][r]=!1),n=_(n,{enumerable:m(0,!1)})):(f(e,F)||J(e,F,m(1,{})),e[F][r]=!0),oe(e,r,n)):J(e,r,n)},se=function(e,t){d(e);var n=h(t),r=y(n).concat(pe(n));return U(r,(function(t){c&&!i(ue,n,t)||ae(e,t,n[t])})),e},ce=function(e,t){return void 0===t?_(e):se(_(e),t)},ue=function(e){var t=g(e),n=i(Q,this,t);return!(this===$&&f(ee,t)&&!f(te,t))&&(!(n||!f(this,t)||!f(ee,t)||f(this,F)&&this[F][t])||n)},le=function(e,t){var n=h(e),r=g(t);if(n!==$||!f(ee,r)||f(te,r)){var o=Y(n,r);return!o||!f(ee,r)||f(n,F)&&n[F][r]||(o.enumerable=!0),o}},fe=function(e){var t=X(h(e)),n=[];return U(t,(function(e){f(ee,e)||f(R,e)||Z(n,e)})),n},pe=function(e){var t=e===$,n=X(t?te:h(e)),r=[];return U(n,(function(e){!f(ee,e)||t&&!f($,e)||Z(r,ee[e])})),r};u||(H=function(){if(p(K,this))throw W("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?v(arguments[0]):void 0,t=D(e),n=function(e){this===$&&i(n,te,e),f(this,F)&&f(this[F],t)&&(this[F][t]=!1),oe(this,t,m(1,e))};return c&&re&&oe($,t,{configurable:!0,set:n}),ie(t,e)},K=H[q],C(K,"toString",(function(){return V(this).tag})),C(H,"withoutSetter",(function(e){return ie(D(e),e)})),O.f=ue,S.f=ae,T.f=se,I.f=le,b.f=M.f=fe,E.f=pe,k.f=function(e){return ie(N(e),e)},c&&(J(K,"description",{configurable:!0,get:function(){return V(this).description}}),s||C($,"propertyIsEnumerable",ue,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:H}),U(y(ne),(function(e){L(e)})),r({target:j,stat:!0,forced:!u},{useSetter:function(){re=!0},useSimple:function(){re=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!c},{create:ce,defineProperty:ae,defineProperties:se,getOwnPropertyDescriptor:le}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:fe}),P(),x(H,j),R[F]=!0},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},dbb4:function(e,t,n){var r=n("23e7"),o=n("83ab"),i=n("56ef"),a=n("fc6a"),s=n("06cf"),c=n("8418");r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){var t,n,r=a(e),o=s.f,u=i(r),l={},f=0;while(u.length>f)n=o(r,t=u[f++]),void 0!==n&&c(l,t,n);return l}})},dc4a:function(e,t,n){var r=n("59ed");e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},dca8:function(e,t,n){var r=n("23e7"),o=n("bb2f"),i=n("d039"),a=n("861d"),s=n("f183").onFreeze,c=Object.freeze,u=i((function(){c(1)}));r({target:"Object",stat:!0,forced:u,sham:!o},{freeze:function(e){return c&&a(e)?c(s(e)):e}})},dd40:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},ddb0:function(e,t,n){var r=n("da84"),o=n("fdbc"),i=n("785a"),a=n("e260"),s=n("9112"),c=n("b622"),u=c("iterator"),l=c("toStringTag"),f=a.values,p=function(e,t){if(e){if(e[u]!==f)try{s(e,u,f)}catch(r){e[u]=f}if(e[l]||s(e,l,t),o[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(r){e[n]=a[n]}}};for(var d in o)p(r[d]&&r[d].prototype,d);p(i,"DOMTokenList")},df2f:function(e,t,n){(function(t,r){e.exports=r(n("21bf"))})(0,(function(e){return function(){var t=e,n=t.lib,r=n.WordArray,o=n.Hasher,i=t.algo,a=[],s=i.SHA1=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],s=n[3],c=n[4],u=0;u<80;u++){if(u<16)a[u]=0|e[t+u];else{var l=a[u-3]^a[u-8]^a[u-14]^a[u-16];a[u]=l<<1|l>>>31}var f=(r<<5|r>>>27)+c+a[u];f+=u<20?1518500249+(o&i|~o&s):u<40?1859775393+(o^i^s):u<60?(o&i|o&s|i&s)-1894007588:(o^i^s)-899497514,c=s,s=i,i=o<<30|o>>>2,o=r,r=f}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+s|0,n[4]=n[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=o._createHelper(s),t.HmacSHA1=o._createHmacHelper(s)}(),e.SHA1}))},df75:function(e,t,n){var r=n("ca84"),o=n("7839");e.exports=Object.keys||function(e){return r(e,o)}},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,o=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!o){n=t+1;break}}else-1===r&&(o=!1,r=t+1);return-1===r?"":e.slice(n,r)}function o(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return t=n(o(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),a="/"===i(e,-1);return e=n(o(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&a&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(o(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=r(e.split("/")),i=r(n.split("/")),a=Math.min(o.length,i.length),s=a,c=0;c<a;c++)if(o[c]!==i[c]){s=c;break}var u=[];for(c=s;c<o.length;c++)u.push("..");return u=u.concat(i.slice(s)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,o=!0,i=e.length-1;i>=1;--i)if(t=e.charCodeAt(i),47===t){if(!o){r=i;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,o=!0,i=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(o=!1,r=a+1),46===s?-1===t?t=a:1!==i&&(i=1):-1!==t&&(i=-1);else if(!o){n=a+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},dfb9:function(e,t,n){var r=n("07fa");e.exports=function(e,t){var n=0,o=r(t),i=new e(o);while(o>n)i[n]=t[n++];return i}},dfe5:function(e,t){},dff1:function(e,t,n){"use strict";(function(e){var r=n("26ee"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o,s=a?r["a"].Buffer:void 0,c=s?s.allocUnsafe:void 0;function u(e,t){if(t)return e.slice();var n=e.length,r=c?c(n):new e.constructor(n);return e.copy(r),r}t["a"]=u}).call(this,n("dd40")(e))},e017:function(e,t,n){(function(t){(function(t,n){e.exports=n()})(0,(function(){"use strict";var e=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};e.prototype.stringify=function(){return this.content},e.prototype.toString=function(){return this.stringify()},e.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))};var n=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n};"undefined"!==typeof window?window:"undefined"!==typeof t||"undefined"!==typeof self&&self;function r(e,t){return t={exports:{}},e(t,t.exports),t.exports}var o=r((function(e,t){(function(t,n){e.exports=n()})(0,(function(){function e(e){var t=e&&"object"===typeof e;return t&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(e){return Array.isArray(e)?[]:{}}function n(n,r){var o=r&&!0===r.clone;return o&&e(n)?i(t(n),n,r):n}function r(t,r,o){var a=t.slice();return r.forEach((function(r,s){"undefined"===typeof a[s]?a[s]=n(r,o):e(r)?a[s]=i(t[s],r,o):-1===t.indexOf(r)&&a.push(n(r,o))})),a}function o(t,r,o){var a={};return e(t)&&Object.keys(t).forEach((function(e){a[e]=n(t[e],o)})),Object.keys(r).forEach((function(s){e(r[s])&&t[s]?a[s]=i(t[s],r[s],o):a[s]=n(r[s],o)})),a}function i(e,t,i){var a=Array.isArray(t),s=i||{arrayMerge:r},c=s.arrayMerge||r;return a?Array.isArray(e)?c(e,t,i):n(t,i):o(e,t,i)}return i.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return i(e,n,t)}))},i}))})),i=r((function(e,t){var n={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}};t.default=n,e.exports=t.default})),a=function(e){return Object.keys(e).map((function(t){var n=e[t].toString().replace(/"/g,"&quot;");return t+'="'+n+'"'})).join(" ")},s=i.svg,c=i.xlink,u={};u[s.name]=s.uri,u[c.name]=c.uri;var l=function(e,t){void 0===e&&(e="");var n=o(u,t||{}),r=a(n);return"<svg "+r+">"+e+"</svg>"},f=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"===typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return n(l(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,r),t}(e);return f}))}).call(this,n("c8ba"))},e01a:function(e,t,n){"use strict";var r=n("23e7"),o=n("83ab"),i=n("da84"),a=n("e330"),s=n("1a2d"),c=n("1626"),u=n("3a9b"),l=n("577e"),f=n("9bf2").f,p=n("e893"),d=i.Symbol,h=d&&d.prototype;if(o&&c(d)&&(!("description"in h)||void 0!==d().description)){var g={},v=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=u(h,this)?new d(e):void 0===e?d():d(e);return""===e&&(g[t]=!0),t};p(v,d),v.prototype=h,h.constructor=v;var m="Symbol(test)"==String(d("test")),_=a(h.toString),y=a(h.valueOf),b=/^Symbol\((.*)\)[^)]+$/,M=a("".replace),E=a("".slice);f(h,"description",{configurable:!0,get:function(){var e=y(this),t=_(e);if(s(g,e))return"";var n=m?E(t,7,-1):M(t,b,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:v})}},e04d:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=101)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):o&&(c=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},101:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"el-alert-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-alert",class:[e.typeClass,e.center?"is-center":"","is-"+e.effect],attrs:{role:"alert"}},[e.showIcon?n("i",{staticClass:"el-alert__icon",class:[e.iconClass,e.isBigIcon]}):e._e(),n("div",{staticClass:"el-alert__content"},[e.title||e.$slots.title?n("span",{staticClass:"el-alert__title",class:[e.isBoldTitle]},[e._t("title",[e._v(e._s(e.title))])],2):e._e(),e.$slots.default&&!e.description?n("p",{staticClass:"el-alert__description"},[e._t("default")],2):e._e(),e.description&&!e.$slots.default?n("p",{staticClass:"el-alert__description"},[e._v(e._s(e.description))]):e._e(),n("i",{directives:[{name:"show",rawName:"v-show",value:e.closable,expression:"closable"}],staticClass:"el-alert__closebtn",class:{"is-customed":""!==e.closeText,"el-icon-close":""===e.closeText},on:{click:function(t){e.close()}}},[e._v(e._s(e.closeText))])])])])},o=[];r._withStripped=!0;var i={success:"el-icon-success",warning:"el-icon-warning",error:"el-icon-error"},a={name:"ElAlert",props:{title:{type:String,default:""},description:{type:String,default:""},type:{type:String,default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,default:"light",validator:function(e){return-1!==["light","dark"].indexOf(e)}}},data:function(){return{visible:!0}},methods:{close:function(){this.visible=!1,this.$emit("close")}},computed:{typeClass:function(){return"el-alert--"+this.type},iconClass:function(){return i[this.type]||"el-icon-info"},isBigIcon:function(){return this.description||this.$slots.default?"is-big":""},isBoldTitle:function(){return this.description||this.$slots.default?"is-bold":""}}},s=a,c=n(0),u=Object(c["a"])(s,r,o,!1,null,null,null);u.options.__file="packages/alert/src/main.vue";var l=u.exports;l.install=function(e){e.component(l.name,l)};t["default"]=l}})},e163:function(e,t,n){var r=n("1a2d"),o=n("1626"),i=n("7b0b"),a=n("f772"),s=n("e177"),c=a("IE_PROTO"),u=Object,l=u.prototype;e.exports=s?u.getPrototypeOf:function(e){var t=i(e);if(r(t,c))return t[c];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof u?l:null}},e177:function(e,t,n){var r=n("d039");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e198:function(e,t,n){var r=n("ef08"),o=n("5524"),i=n("e444"),a=n("fcd4"),s=n("1a14").f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},e23e:function(e,t,n){"use strict";(function(t){!function(t,n){e.exports=n()}(0,(function(){function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function p(e,t,n){return(p=f()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&l(o,n.prototype),o}).apply(null,arguments)}function d(e){var t="function"==typeof Map?new Map:void 0;return(d=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return p(e,arguments,u(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,e)})(e)}function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function m(e){var t=f();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function _(e,t){return b(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){s=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||E(e,t)||S()}function y(e){return function(e){if(Array.isArray(e))return I(e)}(e)||M(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){if(Array.isArray(e))return e}function M(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function E(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function T(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=E(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}var O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{};function C(e,t){return e(t={exports:{}},t.exports),t.exports}var A,w,R=function(e){return e&&e.Math==Math&&e},D=R("object"==typeof globalThis&&globalThis)||R("object"==typeof window&&window)||R("object"==typeof self&&self)||R("object"==typeof O&&O)||function(){return this}()||Function("return this")(),N=function(e){try{return!!e()}catch(n){return!0}},k=!N((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),L=!N((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),P=Function.prototype.call,x=L?P.bind(P):function(){return P.apply(P,arguments)},G={}.propertyIsEnumerable,U=Object.getOwnPropertyDescriptor,F={f:U&&!G.call({1:2},1)?function(e){var t=U(this,e);return!!t&&t.enumerable}:G},j=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},q=Function.prototype,B=q.bind,V=q.call,$=L&&B.bind(V,V),H=L?function(e){return e&&$(e)}:function(e){return e&&function(){return V.apply(e,arguments)}},K=H({}.toString),W=H("".slice),z=function(e){return W(K(e),8,-1)},Y=D.Object,J=H("".split),X=N((function(){return!Y("z").propertyIsEnumerable(0)}))?function(e){return"String"==z(e)?J(e,""):Y(e)}:Y,Q=D.TypeError,Z=function(e){if(null==e)throw Q("Can't call method on "+e);return e},ee=function(e){return X(Z(e))},te=function(e){return"function"==typeof e},ne=function(e){return"object"==typeof e?null!==e:te(e)},re=function(e){return te(e)?e:void 0},oe=function(e,t){return arguments.length<2?re(D[e]):D[e]&&D[e][t]},ie=H({}.isPrototypeOf),ae=oe("navigator","userAgent")||"",se=D.process,ce=D.Deno,ue=se&&se.versions||ce&&ce.version,le=ue&&ue.v8;le&&(w=(A=le.split("."))[0]>0&&A[0]<4?1:+(A[0]+A[1])),!w&&ae&&(!(A=ae.match(/Edge\/(\d+)/))||A[1]>=74)&&(A=ae.match(/Chrome\/(\d+)/))&&(w=+A[1]);var fe=w,pe=!!Object.getOwnPropertySymbols&&!N((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&fe&&fe<41})),de=pe&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,he=D.Object,ge=de?function(e){return"symbol"==typeof e}:function(e){var t=oe("Symbol");return te(t)&&ie(t.prototype,he(e))},ve=D.String,me=function(e){try{return ve(e)}catch(n){return"Object"}},_e=D.TypeError,ye=function(e){if(te(e))return e;throw _e(me(e)+" is not a function")},be=function(e,t){var n=e[t];return null==n?void 0:ye(n)},Me=D.TypeError,Ee=Object.defineProperty,Ie=function(e,t){try{Ee(D,e,{value:t,configurable:!0,writable:!0})}catch(r){D[e]=t}return t},Se=D["__core-js_shared__"]||Ie("__core-js_shared__",{}),Te=C((function(e){(e.exports=function(e,t){return Se[e]||(Se[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.21.0",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.0/LICENSE",source:"https://github.com/zloirock/core-js"})})),Oe=D.Object,Ce=function(e){return Oe(Z(e))},Ae=H({}.hasOwnProperty),we=Object.hasOwn||function(e,t){return Ae(Ce(e),t)},Re=0,De=Math.random(),Ne=H(1..toString),ke=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Ne(++Re+De,36)},Le=Te("wks"),Pe=D.Symbol,xe=Pe&&Pe.for,Ge=de?Pe:Pe&&Pe.withoutSetter||ke,Ue=function(e){if(!we(Le,e)||!pe&&"string"!=typeof Le[e]){var t="Symbol."+e;pe&&we(Pe,e)?Le[e]=Pe[e]:Le[e]=de&&xe?xe(t):Ge(t)}return Le[e]},Fe=D.TypeError,je=Ue("toPrimitive"),qe=function(e,t){if(!ne(e)||ge(e))return e;var n,r=be(e,je);if(r){if(void 0===t&&(t="default"),n=x(r,e,t),!ne(n)||ge(n))return n;throw Fe("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&te(n=e.toString)&&!ne(r=x(n,e)))return r;if(te(n=e.valueOf)&&!ne(r=x(n,e)))return r;if("string"!==t&&te(n=e.toString)&&!ne(r=x(n,e)))return r;throw Me("Can't convert object to primitive value")}(e,t)},Be=function(e){var t=qe(e,"string");return ge(t)?t:t+""},Ve=D.document,$e=ne(Ve)&&ne(Ve.createElement),He=function(e){return $e?Ve.createElement(e):{}},Ke=!k&&!N((function(){return 7!=Object.defineProperty(He("div"),"a",{get:function(){return 7}}).a})),We=Object.getOwnPropertyDescriptor,ze={f:k?We:function(e,t){if(e=ee(e),t=Be(t),Ke)try{return We(e,t)}catch(r){}if(we(e,t))return j(!x(F.f,e,t),e[t])}},Ye=k&&N((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Je=D.String,Xe=D.TypeError,Qe=function(e){if(ne(e))return e;throw Xe(Je(e)+" is not an object")},Ze=D.TypeError,et=Object.defineProperty,nt=Object.getOwnPropertyDescriptor,rt={f:k?Ye?function(e,t,n){if(Qe(e),t=Be(t),Qe(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=nt(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return et(e,t,n)}:et:function(e,t,n){if(Qe(e),t=Be(t),Qe(n),Ke)try{return et(e,t,n)}catch(o){}if("get"in n||"set"in n)throw Ze("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},ot=k?function(e,t,n){return rt.f(e,t,j(1,n))}:function(e,t,n){return e[t]=n,e},it=H(Function.toString);te(Se.inspectSource)||(Se.inspectSource=function(e){return it(e)});var at,st,ct,ut=Se.inspectSource,lt=D.WeakMap,ft=te(lt)&&/native code/.test(ut(lt)),pt=Te("keys"),dt=function(e){return pt[e]||(pt[e]=ke(e))},ht={},gt=D.TypeError,vt=D.WeakMap;if(ft||Se.state){var mt=Se.state||(Se.state=new vt),_t=H(mt.get),yt=H(mt.has),bt=H(mt.set);at=function(e,t){if(yt(mt,e))throw new gt("Object already initialized");return t.facade=e,bt(mt,e,t),t},st=function(e){return _t(mt,e)||{}},ct=function(e){return yt(mt,e)}}else{var Mt=dt("state");ht[Mt]=!0,at=function(e,t){if(we(e,Mt))throw new gt("Object already initialized");return t.facade=e,ot(e,Mt,t),t},st=function(e){return we(e,Mt)?e[Mt]:{}},ct=function(e){return we(e,Mt)}}var Et={set:at,get:st,has:ct,enforce:function(e){return ct(e)?st(e):at(e,{})},getterFor:function(e){return function(t){var n;if(!ne(t)||(n=st(t)).type!==e)throw gt("Incompatible receiver, "+e+" required");return n}}},It=Function.prototype,St=k&&Object.getOwnPropertyDescriptor,Tt=we(It,"name"),Ot={EXISTS:Tt,PROPER:Tt&&"something"===function(){}.name,CONFIGURABLE:Tt&&(!k||k&&St(It,"name").configurable)},Ct=C((function(e){var t=Ot.CONFIGURABLE,n=Et.get,r=Et.enforce,o=String(String).split("String");(e.exports=function(e,n,i,a){var s,c=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,l=!!a&&!!a.noTargetGet,f=a&&void 0!==a.name?a.name:n;te(i)&&("Symbol("===String(f).slice(0,7)&&(f="["+String(f).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!we(i,"name")||t&&i.name!==f)&&ot(i,"name",f),(s=r(i)).source||(s.source=o.join("string"==typeof f?f:""))),e!==D?(c?!l&&e[n]&&(u=!0):delete e[n],u?e[n]=i:ot(e,n,i)):u?e[n]=i:Ie(n,i)})(Function.prototype,"toString",(function(){return te(this)&&n(this).source||ut(this)}))})),At=Math.ceil,wt=Math.floor,Rt=function(e){var t=+e;return t!=t||0===t?0:(t>0?wt:At)(t)},Dt=Math.max,Nt=Math.min,kt=function(e,t){var n=Rt(e);return n<0?Dt(n+t,0):Nt(n,t)},Lt=Math.min,Pt=function(e){return e>0?Lt(Rt(e),9007199254740991):0},xt=function(e){return Pt(e.length)},Gt=function(e){return function(t,n,r){var o,i=ee(t),a=xt(i),s=kt(r,a);if(e&&n!=n){for(;a>s;)if((o=i[s++])!=o)return!0}else for(;a>s;s++)if((e||s in i)&&i[s]===n)return e||s||0;return!e&&-1}},Ut={includes:Gt(!0),indexOf:Gt(!1)},Ft=Ut.indexOf,jt=H([].push),qt=function(e,t){var n,r=ee(e),o=0,i=[];for(n in r)!we(ht,n)&&we(r,n)&&jt(i,n);for(;t.length>o;)we(r,n=t[o++])&&(~Ft(i,n)||jt(i,n));return i},Bt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Vt=Bt.concat("length","prototype"),$t={f:Object.getOwnPropertyNames||function(e){return qt(e,Vt)}},Ht={f:Object.getOwnPropertySymbols},Kt=H([].concat),Wt=oe("Reflect","ownKeys")||function(e){var t=$t.f(Qe(e)),n=Ht.f;return n?Kt(t,n(e)):t},zt=function(e,t,n){for(var r=Wt(t),o=rt.f,i=ze.f,a=0;a<r.length;a++){var s=r[a];we(e,s)||n&&we(n,s)||o(e,s,i(t,s))}},Yt=/#|\.prototype\./,Jt=function(e,t){var n=Qt[Xt(e)];return n==en||n!=Zt&&(te(t)?N(t):!!t)},Xt=Jt.normalize=function(e){return String(e).replace(Yt,".").toLowerCase()},Qt=Jt.data={},Zt=Jt.NATIVE="N",en=Jt.POLYFILL="P",tn=Jt,nn=ze.f,rn=function(e,t){var n,r,o,i,a,s=e.target,c=e.global,u=e.stat;if(n=c?D:u?D[s]||Ie(s,{}):(D[s]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(a=nn(n,r))&&a.value:n[r],!tn(c?r:s+(u?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;zt(i,o)}(e.sham||o&&o.sham)&&ot(i,"sham",!0),Ct(n,r,i,e)}},on={};on[Ue("toStringTag")]="z";var an="[object z]"===String(on),sn=Ue("toStringTag"),cn=D.Object,un="Arguments"==z(function(){return arguments}()),ln=an?z:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=cn(e),sn))?n:un?z(t):"Object"==(r=z(t))&&te(t.callee)?"Arguments":r},fn=D.String,pn=function(e){if("Symbol"===ln(e))throw TypeError("Cannot convert a Symbol value to a string");return fn(e)},dn="\t\n\v\f\r                　\u2028\u2029\ufeff",hn=H("".replace),gn="["+dn+"]",vn=RegExp("^"+gn+gn+"*"),mn=RegExp(gn+gn+"*$"),_n=function(e){return function(t){var n=pn(Z(t));return 1&e&&(n=hn(n,vn,"")),2&e&&(n=hn(n,mn,"")),n}},yn={start:_n(1),end:_n(2),trim:_n(3)},bn=yn.trim,Mn=D.parseInt,En=D.Symbol,In=En&&En.iterator,Sn=/^[+-]?0x/i,Tn=H(Sn.exec),On=8!==Mn(dn+"08")||22!==Mn(dn+"0x16")||In&&!N((function(){Mn(Object(In))}))?function(e,t){var n=bn(pn(e));return Mn(n,t>>>0||(Tn(Sn,n)?16:10))}:Mn;rn({global:!0,forced:parseInt!=On},{parseInt:On});var Cn,An=Object.keys||function(e){return qt(e,Bt)},wn={f:k&&!Ye?Object.defineProperties:function(e,t){Qe(e);for(var n,r=ee(t),o=An(t),i=o.length,a=0;i>a;)rt.f(e,n=o[a++],r[n]);return e}},Rn=oe("document","documentElement"),Dn=dt("IE_PROTO"),Nn=function(){},kn=function(e){return"<script>"+e+"<\/script>"},Ln=function(e){e.write(kn("")),e.close();var t=e.parentWindow.Object;return e=null,t},Pn=function(){try{Cn=new ActiveXObject("htmlfile")}catch(o){}var e,t;Pn="undefined"!=typeof document?document.domain&&Cn?Ln(Cn):((t=He("iframe")).style.display="none",Rn.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(kn("document.F=Object")),e.close(),e.F):Ln(Cn);for(var n=Bt.length;n--;)delete Pn.prototype[Bt[n]];return Pn()};ht[Dn]=!0;var xn=Object.create||function(e,t){var n;return null!==e?(Nn.prototype=Qe(e),n=new Nn,Nn.prototype=null,n[Dn]=e):n=Pn(),void 0===t?n:wn.f(n,t)};rn({target:"Object",stat:!0,sham:!k},{create:xn});var Gn=H(H.bind),Un=function(e,t){return ye(e),void 0===t?e:L?Gn(e,t):function(){return e.apply(t,arguments)}},Fn=Array.isArray||function(e){return"Array"==z(e)},jn=function(){},qn=[],Bn=oe("Reflect","construct"),Vn=/^\s*(?:class|function)\b/,$n=H(Vn.exec),Hn=!Vn.exec(jn),Kn=function(e){if(!te(e))return!1;try{return Bn(jn,qn,e),!0}catch(n){return!1}},Wn=function(e){if(!te(e))return!1;switch(ln(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Hn||!!$n(Vn,ut(e))}catch(n){return!0}};Wn.sham=!0;var zn=!Bn||N((function(){var e;return Kn(Kn.call)||!Kn(Object)||!Kn((function(){e=!0}))||e}))?Wn:Kn,Yn=Ue("species"),Jn=D.Array,Xn=function(e,t){return new(function(e){var t;return Fn(e)&&(t=e.constructor,(zn(t)&&(t===Jn||Fn(t.prototype))||ne(t)&&null===(t=t[Yn]))&&(t=void 0)),void 0===t?Jn:t}(e))(0===t?0:t)},Qn=H([].push),Zn=function(e){var t=1==e,n=2==e,r=3==e,o=4==e,i=6==e,a=7==e,s=5==e||i;return function(c,u,l,f){for(var p,d,h=Ce(c),g=X(h),v=Un(u,l),m=xt(g),_=0,y=f||Xn,b=t?y(c,m):n||a?y(c,0):void 0;m>_;_++)if((s||_ in g)&&(d=v(p=g[_],_,h),e))if(t)b[_]=d;else if(d)switch(e){case 3:return!0;case 5:return p;case 6:return _;case 2:Qn(b,p)}else switch(e){case 4:return!1;case 7:Qn(b,p)}return i?-1:r||o?o:b}},er={forEach:Zn(0),map:Zn(1),filter:Zn(2),some:Zn(3),every:Zn(4),find:Zn(5),findIndex:Zn(6),filterReject:Zn(7)},tr=function(e,t){var n=[][e];return!!n&&N((function(){n.call(null,t||function(){throw 1},1)}))},nr=er.forEach,rr=tr("forEach")?[].forEach:function(e){return nr(this,e,arguments.length>1?arguments[1]:void 0)};rn({target:"Array",proto:!0,forced:[].forEach!=rr},{forEach:rr});var or=an?{}.toString:function(){return"[object "+ln(this)+"]"};an||Ct(Object.prototype,"toString",or,{unsafe:!0});var ir={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ar=He("span").classList,sr=ar&&ar.constructor&&ar.constructor.prototype,cr=sr===Object.prototype?void 0:sr,ur=function(e){if(e&&e.forEach!==rr)try{ot(e,"forEach",rr)}catch(n){e.forEach=rr}};for(var lr in ir)ir[lr]&&ur(D[lr]&&D[lr].prototype);ur(cr);var fr=N((function(){An(1)}));rn({target:"Object",stat:!0,forced:fr},{keys:function(e){return An(Ce(e))}});var pr=function(e,t,n){var r,o;Qe(e);try{if(!(r=be(e,"return"))){if("throw"===t)throw n;return n}r=x(r,e)}catch(a){o=!0,r=a}if("throw"===t)throw n;if(o)throw r;return Qe(r),n},dr=function(e,t,n,r){try{return r?t(Qe(n)[0],n[1]):t(n)}catch(i){pr(e,"throw",i)}},hr={},gr=Ue("iterator"),vr=Array.prototype,mr=function(e){return void 0!==e&&(hr.Array===e||vr[gr]===e)},_r=function(e,t,n){var r=Be(t);r in e?rt.f(e,r,j(0,n)):e[r]=n},yr=Ue("iterator"),br=function(e){if(null!=e)return be(e,yr)||be(e,"@@iterator")||hr[ln(e)]},Mr=D.TypeError,Er=function(e,t){var n=arguments.length<2?br(e):t;if(ye(n))return Qe(x(n,e));throw Mr(me(e)+" is not iterable")},Ir=D.Array,Sr=function(e){var t=Ce(e),n=zn(this),r=arguments.length,o=r>1?arguments[1]:void 0,i=void 0!==o;i&&(o=Un(o,r>2?arguments[2]:void 0));var a,s,c,u,l,f,p=br(t),d=0;if(!p||this==Ir&&mr(p))for(a=xt(t),s=n?new this(a):Ir(a);a>d;d++)f=i?o(t[d],d):t[d],_r(s,d,f);else for(l=(u=Er(t,p)).next,s=n?new this:[];!(c=x(l,u)).done;d++)f=i?dr(u,o,[c.value,d],!0):c.value,_r(s,d,f);return s.length=d,s},Tr=Ue("iterator"),Or=!1;try{var Cr=0,Ar={next:function(){return{done:!!Cr++}},return:function(){Or=!0}};Ar[Tr]=function(){return this},Array.from(Ar,(function(){throw 2}))}catch(oS){}var wr=function(e,t){if(!t&&!Or)return!1;var n=!1;try{var r={};r[Tr]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(oS){}return n},Rr=!wr((function(e){Array.from(e)}));rn({target:"Array",stat:!0,forced:Rr},{from:Sr});var Dr,Nr,kr,Lr=H("".charAt),Pr=H("".charCodeAt),xr=H("".slice),Gr=function(e){return function(t,n){var r,o,i=pn(Z(t)),a=Rt(n),s=i.length;return a<0||a>=s?e?"":void 0:(r=Pr(i,a))<55296||r>56319||a+1===s||(o=Pr(i,a+1))<56320||o>57343?e?Lr(i,a):r:e?xr(i,a,a+2):o-56320+(r-55296<<10)+65536}},Ur={codeAt:Gr(!1),charAt:Gr(!0)},Fr=!N((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),jr=dt("IE_PROTO"),qr=D.Object,Br=qr.prototype,Vr=Fr?qr.getPrototypeOf:function(e){var t=Ce(e);if(we(t,jr))return t[jr];var n=t.constructor;return te(n)&&t instanceof n?n.prototype:t instanceof qr?Br:null},$r=Ue("iterator"),Hr=!1;[].keys&&("next"in(kr=[].keys())?(Nr=Vr(Vr(kr)))!==Object.prototype&&(Dr=Nr):Hr=!0),(null==Dr||N((function(){var e={};return Dr[$r].call(e)!==e})))&&(Dr={}),te(Dr[$r])||Ct(Dr,$r,(function(){return this}));var Kr={IteratorPrototype:Dr,BUGGY_SAFARI_ITERATORS:Hr},Wr=rt.f,zr=Ue("toStringTag"),Yr=function(e,t,n){e&&!n&&(e=e.prototype),e&&!we(e,zr)&&Wr(e,zr,{configurable:!0,value:t})},Jr=Kr.IteratorPrototype,Xr=function(){return this},Qr=function(e,t,n,r){var o=t+" Iterator";return e.prototype=xn(Jr,{next:j(+!r,n)}),Yr(e,o,!1),hr[o]=Xr,e},Zr=D.String,eo=D.TypeError,to=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=H(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(oS){}return function(n,r){return Qe(n),function(e){if("object"==typeof e||te(e))return e;throw eo("Can't set "+Zr(e)+" as a prototype")}(r),t?e(n,r):n.__proto__=r,n}}():void 0),no=Ot.PROPER,ro=Ot.CONFIGURABLE,oo=Kr.IteratorPrototype,io=Kr.BUGGY_SAFARI_ITERATORS,ao=Ue("iterator"),so=function(){return this},co=function(e,t,n,r,o,i,a){Qr(n,t,r);var s,c,u,l=function(e){if(e===o&&g)return g;if(!io&&e in d)return d[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+" Iterator",p=!1,d=e.prototype,h=d[ao]||d["@@iterator"]||o&&d[o],g=!io&&h||l(o),v="Array"==t&&d.entries||h;if(v&&(s=Vr(v.call(new e)))!==Object.prototype&&s.next&&(Vr(s)!==oo&&(to?to(s,oo):te(s[ao])||Ct(s,ao,so)),Yr(s,f,!0)),no&&"values"==o&&h&&"values"!==h.name&&(ro?ot(d,"name","values"):(p=!0,g=function(){return x(h,this)})),o)if(c={values:l("values"),keys:i?g:l("keys"),entries:l("entries")},a)for(u in c)(io||p||!(u in d))&&Ct(d,u,c[u]);else rn({target:t,proto:!0,forced:io||p},c);return d[ao]!==g&&Ct(d,ao,g,{name:o}),hr[t]=g,c},uo=Ur.charAt,lo=Et.set,fo=Et.getterFor("String Iterator");co(String,"String",(function(e){lo(this,{type:"String Iterator",string:pn(e),index:0})}),(function(){var e,t=fo(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=uo(n,r),t.index+=e.length,{value:e,done:!1})}));var po={SDK_READY:"sdkStateReady",SDK_NOT_READY:"sdkStateNotReady",SDK_DESTROY:"sdkDestroy",MESSAGE_RECEIVED:"onMessageReceived",MESSAGE_MODIFIED:"onMessageModified",MESSAGE_REVOKED:"onMessageRevoked",MESSAGE_READ_BY_PEER:"onMessageReadByPeer",MESSAGE_READ_RECEIPT_RECEIVED:"onMessageReadReceiptReceived",CONVERSATION_LIST_UPDATED:"onConversationListUpdated",GROUP_LIST_UPDATED:"onGroupListUpdated",GROUP_SYSTEM_NOTICE_RECEIVED:"receiveGroupSystemNotice",GROUP_ATTRIBUTES_UPDATED:"groupAttributesUpdated",TOPIC_CREATED:"onTopicCreated",TOPIC_DELETED:"onTopicDeleted",TOPIC_UPDATED:"onTopicUpdated",PROFILE_UPDATED:"onProfileUpdated",BLACKLIST_UPDATED:"blacklistUpdated",FRIEND_LIST_UPDATED:"onFriendListUpdated",FRIEND_GROUP_LIST_UPDATED:"onFriendGroupListUpdated",FRIEND_APPLICATION_LIST_UPDATED:"onFriendApplicationListUpdated",KICKED_OUT:"kickedOut",ERROR:"error",NET_STATE_CHANGE:"netStateChange",SDK_RELOAD:"sdkReload"},ho={MSG_TEXT:"TIMTextElem",MSG_IMAGE:"TIMImageElem",MSG_SOUND:"TIMSoundElem",MSG_AUDIO:"TIMSoundElem",MSG_FILE:"TIMFileElem",MSG_FACE:"TIMFaceElem",MSG_VIDEO:"TIMVideoFileElem",MSG_GEO:"TIMLocationElem",MSG_LOCATION:"TIMLocationElem",MSG_GRP_TIP:"TIMGroupTipElem",MSG_GRP_SYS_NOTICE:"TIMGroupSystemNoticeElem",MSG_CUSTOM:"TIMCustomElem",MSG_MERGER:"TIMRelayElem",MSG_PRIORITY_HIGH:"High",MSG_PRIORITY_NORMAL:"Normal",MSG_PRIORITY_LOW:"Low",MSG_PRIORITY_LOWEST:"Lowest",CONV_C2C:"C2C",CONV_GROUP:"GROUP",CONV_TOPIC:"TOPIC",CONV_SYSTEM:"@TIM#SYSTEM",CONV_AT_ME:1,CONV_AT_ALL:2,CONV_AT_ALL_AT_ME:3,GRP_PRIVATE:"Private",GRP_WORK:"Private",GRP_PUBLIC:"Public",GRP_CHATROOM:"ChatRoom",GRP_MEETING:"ChatRoom",GRP_AVCHATROOM:"AVChatRoom",GRP_COMMUNITY:"Community",GRP_MBR_ROLE_OWNER:"Owner",GRP_MBR_ROLE_ADMIN:"Admin",GRP_MBR_ROLE_MEMBER:"Member",GRP_MBR_ROLE_CUSTOM:"Custom",GRP_TIP_MBR_JOIN:1,GRP_TIP_MBR_QUIT:2,GRP_TIP_MBR_KICKED_OUT:3,GRP_TIP_MBR_SET_ADMIN:4,GRP_TIP_MBR_CANCELED_ADMIN:5,GRP_TIP_GRP_PROFILE_UPDATED:6,GRP_TIP_MBR_PROFILE_UPDATED:7,MSG_REMIND_ACPT_AND_NOTE:"AcceptAndNotify",MSG_REMIND_ACPT_NOT_NOTE:"AcceptNotNotify",MSG_REMIND_DISCARD:"Discard",GENDER_UNKNOWN:"Gender_Type_Unknown",GENDER_FEMALE:"Gender_Type_Female",GENDER_MALE:"Gender_Type_Male",KICKED_OUT_MULT_ACCOUNT:"multipleAccount",KICKED_OUT_MULT_DEVICE:"multipleDevice",KICKED_OUT_USERSIG_EXPIRED:"userSigExpired",KICKED_OUT_REST_API:"REST_API_Kick",ALLOW_TYPE_ALLOW_ANY:"AllowType_Type_AllowAny",ALLOW_TYPE_NEED_CONFIRM:"AllowType_Type_NeedConfirm",ALLOW_TYPE_DENY_ANY:"AllowType_Type_DenyAny",FORBID_TYPE_NONE:"AdminForbid_Type_None",FORBID_TYPE_SEND_OUT:"AdminForbid_Type_SendOut",JOIN_OPTIONS_FREE_ACCESS:"FreeAccess",JOIN_OPTIONS_NEED_PERMISSION:"NeedPermission",JOIN_OPTIONS_DISABLE_APPLY:"DisableApply",JOIN_STATUS_SUCCESS:"JoinedSuccess",JOIN_STATUS_ALREADY_IN_GROUP:"AlreadyInGroup",JOIN_STATUS_WAIT_APPROVAL:"WaitAdminApproval",GRP_PROFILE_OWNER_ID:"ownerID",GRP_PROFILE_CREATE_TIME:"createTime",GRP_PROFILE_LAST_INFO_TIME:"lastInfoTime",GRP_PROFILE_MEMBER_NUM:"memberNum",GRP_PROFILE_MAX_MEMBER_NUM:"maxMemberNum",GRP_PROFILE_JOIN_OPTION:"joinOption",GRP_PROFILE_INTRODUCTION:"introduction",GRP_PROFILE_NOTIFICATION:"notification",GRP_PROFILE_MUTE_ALL_MBRS:"muteAllMembers",SNS_ADD_TYPE_SINGLE:"Add_Type_Single",SNS_ADD_TYPE_BOTH:"Add_Type_Both",SNS_DELETE_TYPE_SINGLE:"Delete_Type_Single",SNS_DELETE_TYPE_BOTH:"Delete_Type_Both",SNS_APPLICATION_TYPE_BOTH:"Pendency_Type_Both",SNS_APPLICATION_SENT_TO_ME:"Pendency_Type_ComeIn",SNS_APPLICATION_SENT_BY_ME:"Pendency_Type_SendOut",SNS_APPLICATION_AGREE:"Response_Action_Agree",SNS_APPLICATION_AGREE_AND_ADD:"Response_Action_AgreeAndAdd",SNS_CHECK_TYPE_BOTH:"CheckResult_Type_Both",SNS_CHECK_TYPE_SINGLE:"CheckResult_Type_Single",SNS_TYPE_NO_RELATION:"CheckResult_Type_NoRelation",SNS_TYPE_A_WITH_B:"CheckResult_Type_AWithB",SNS_TYPE_B_WITH_A:"CheckResult_Type_BWithA",SNS_TYPE_BOTH_WAY:"CheckResult_Type_BothWay",NET_STATE_CONNECTED:"connected",NET_STATE_CONNECTING:"connecting",NET_STATE_DISCONNECTED:"disconnected",MSG_AT_ALL:"__kImSDK_MesssageAtALL__",READ_ALL_C2C_MSG:"readAllC2CMessage",READ_ALL_GROUP_MSG:"readAllGroupMessage",READ_ALL_MSG:"readAllMessage"},go=H([].slice),vo=D.Function,mo=H([].concat),_o=H([].join),yo={},bo=function(e,t,n){if(!we(yo,t)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";yo[t]=vo("C,a","return new C("+_o(r,",")+")")}return yo[t](e,n)},Mo=L?vo.bind:function(e){var t=ye(this),n=t.prototype,r=go(arguments,1),o=function(){var n=mo(r,go(arguments));return this instanceof o?bo(t,n.length,n):t.apply(e,n)};return ne(n)&&(o.prototype=n),o};rn({target:"Function",proto:!0,forced:Function.bind!==Mo},{bind:Mo});var Eo=Ue("species"),Io=function(e){return fe>=51||!N((function(){var t=[];return(t.constructor={})[Eo]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},So=er.map,To=Io("map");rn({target:"Array",proto:!0,forced:!To},{map:function(e){return So(this,e,arguments.length>1?arguments[1]:void 0)}});var Oo=function(){function e(){o(this,e),this.cache=[],this.options=null}return a(e,[{key:"use",value:function(e){if("function"!=typeof e)throw"middleware must be a function";return this.cache.push(e),this}},{key:"next",value:function(e){if(this.middlewares&&this.middlewares.length>0)return this.middlewares.shift().call(this,this.options,this.next.bind(this))}},{key:"run",value:function(e){return this.middlewares=this.cache.map((function(e){return e})),this.options=e,this.next()}}]),e}(),Co=Ot.EXISTS,Ao=rt.f,wo=Function.prototype,Ro=H(wo.toString),Do=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,No=H(Do.exec);k&&!Co&&Ao(wo,"name",{configurable:!0,get:function(){try{return No(Do,Ro(this))[1]}catch(oS){return""}}});var ko=Ue("isConcatSpreadable"),Lo=D.TypeError,Po=fe>=51||!N((function(){var e=[];return e[ko]=!1,e.concat()[0]!==e})),xo=Io("concat"),Go=function(e){if(!ne(e))return!1;var t=e[ko];return void 0!==t?!!t:Fn(e)};rn({target:"Array",proto:!0,forced:!Po||!xo},{concat:function(e){var t,n,r,o,i,a=Ce(this),s=Xn(a,0),c=0;for(t=-1,r=arguments.length;t<r;t++)if(Go(i=-1===t?a:arguments[t])){if(c+(o=xt(i))>9007199254740991)throw Lo("Maximum allowed index exceeded");for(n=0;n<o;n++,c++)n in i&&_r(s,c,i[n])}else{if(c>=9007199254740991)throw Lo("Maximum allowed index exceeded");_r(s,c++,i)}return s.length=c,s}});var Uo=C((function(e,t){var n,r,o,i,a,s,c,u,l,f,p,d,h,g,v,m,_,y;e.exports=(n="function"==typeof Promise,r="object"==typeof self?self:O,o="undefined"!=typeof Symbol,i="undefined"!=typeof Map,a="undefined"!=typeof Set,s="undefined"!=typeof WeakMap,c="undefined"!=typeof WeakSet,u="undefined"!=typeof DataView,l=o&&void 0!==Symbol.iterator,f=o&&void 0!==Symbol.toStringTag,p=a&&"function"==typeof Set.prototype.entries,d=i&&"function"==typeof Map.prototype.entries,h=p&&Object.getPrototypeOf((new Set).entries()),g=d&&Object.getPrototypeOf((new Map).entries()),v=l&&"function"==typeof Array.prototype[Symbol.iterator],m=v&&Object.getPrototypeOf([][Symbol.iterator]()),_=l&&"function"==typeof String.prototype[Symbol.iterator],y=_&&Object.getPrototypeOf(""[Symbol.iterator]()),function(e){var t=typeof e;if("object"!==t)return t;if(null===e)return"null";if(e===r)return"global";if(Array.isArray(e)&&(!1===f||!(Symbol.toStringTag in e)))return"Array";if("object"==typeof window&&null!==window){if("object"==typeof window.location&&e===window.location)return"Location";if("object"==typeof window.document&&e===window.document)return"Document";if("object"==typeof window.navigator){if("object"==typeof window.navigator.mimeTypes&&e===window.navigator.mimeTypes)return"MimeTypeArray";if("object"==typeof window.navigator.plugins&&e===window.navigator.plugins)return"PluginArray"}if(("function"==typeof window.HTMLElement||"object"==typeof window.HTMLElement)&&e instanceof window.HTMLElement){if("BLOCKQUOTE"===e.tagName)return"HTMLQuoteElement";if("TD"===e.tagName)return"HTMLTableDataCellElement";if("TH"===e.tagName)return"HTMLTableHeaderCellElement"}}var o=f&&e[Symbol.toStringTag];if("string"==typeof o)return o;var l=Object.getPrototypeOf(e);return l===RegExp.prototype?"RegExp":l===Date.prototype?"Date":n&&l===Promise.prototype?"Promise":a&&l===Set.prototype?"Set":i&&l===Map.prototype?"Map":c&&l===WeakSet.prototype?"WeakSet":s&&l===WeakMap.prototype?"WeakMap":u&&l===DataView.prototype?"DataView":i&&l===g?"Map Iterator":a&&l===h?"Set Iterator":v&&l===m?"Array Iterator":_&&l===y?"String Iterator":null===l?"Object":Object.prototype.toString.call(e).slice(8,-1)})}));rn({target:"Array",stat:!0},{isArray:Fn});var Fo=function(e,t,n){var r,o;return to&&te(r=t.constructor)&&r!==n&&ne(o=r.prototype)&&o!==n.prototype&&to(e,o),e},jo=H(1..valueOf),qo=$t.f,Bo=ze.f,Vo=rt.f,$o=yn.trim,Ho=D.Number,Ko=Ho.prototype,Wo=D.TypeError,zo=H("".slice),Yo=H("".charCodeAt),Jo=function(e){var t=qe(e,"number");return"bigint"==typeof t?t:Xo(t)},Xo=function(e){var t,n,r,o,i,a,s,c,u=qe(e,"number");if(ge(u))throw Wo("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=$o(u),43===(t=Yo(u,0))||45===t){if(88===(n=Yo(u,2))||120===n)return NaN}else if(48===t){switch(Yo(u,1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+u}for(a=(i=zo(u,2)).length,s=0;s<a;s++)if((c=Yo(i,s))<48||c>o)return NaN;return parseInt(i,r)}return+u};if(tn("Number",!Ho(" 0o1")||!Ho("0b1")||Ho("+0x1"))){for(var Qo,Zo=function(e){var t=arguments.length<1?0:Ho(Jo(e)),n=this;return ie(Ko,n)&&N((function(){jo(n)}))?Fo(Object(t),n,Zo):t},ei=k?qo(Ho):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ti=0;ei.length>ti;ti++)we(Ho,Qo=ei[ti])&&!we(Zo,Qo)&&Vo(Zo,Qo,Bo(Ho,Qo));Zo.prototype=Ko,Ko.constructor=Zo,Ct(D,"Number",Zo)}var ni=N((function(){Vr(1)}));rn({target:"Object",stat:!0,forced:ni,sham:!Fr},{getPrototypeOf:function(e){return Vr(Ce(e))}});var ri,oi,ii=function(){var e=Qe(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},ai=D.RegExp,si=N((function(){var e=ai("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),ci=si||N((function(){return!ai("a","y").sticky})),ui={BROKEN_CARET:si||N((function(){var e=ai("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),MISSED_STICKY:ci,UNSUPPORTED_Y:si},li=D.RegExp,fi=N((function(){var e=li(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),pi=D.RegExp,di=N((function(){var e=pi("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),hi=Et.get,gi=Te("native-string-replace",String.prototype.replace),vi=RegExp.prototype.exec,mi=vi,_i=H("".charAt),yi=H("".indexOf),bi=H("".replace),Mi=H("".slice),Ei=(oi=/b*/g,x(vi,ri=/a/,"a"),x(vi,oi,"a"),0!==ri.lastIndex||0!==oi.lastIndex),Ii=ui.BROKEN_CARET,Si=void 0!==/()??/.exec("")[1];(Ei||Si||Ii||fi||di)&&(mi=function(e){var t,n,r,o,i,a,s,c=this,u=hi(c),l=pn(e),f=u.raw;if(f)return f.lastIndex=c.lastIndex,t=x(mi,f,l),c.lastIndex=f.lastIndex,t;var p=u.groups,d=Ii&&c.sticky,h=x(ii,c),g=c.source,v=0,m=l;if(d&&(h=bi(h,"y",""),-1===yi(h,"g")&&(h+="g"),m=Mi(l,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==_i(l,c.lastIndex-1))&&(g="(?: "+g+")",m=" "+m,v++),n=new RegExp("^(?:"+g+")",h)),Si&&(n=new RegExp("^"+g+"$(?!\\s)",h)),Ei&&(r=c.lastIndex),o=x(vi,d?n:c,m),d?o?(o.input=Mi(o.input,v),o[0]=Mi(o[0],v),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:Ei&&o&&(c.lastIndex=c.global?o.index+o[0].length:r),Si&&o&&o.length>1&&x(gi,o[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&p)for(o.groups=a=xn(null),i=0;i<p.length;i++)a[(s=p[i])[0]]=o[s[1]];return o});var Ti=mi;rn({target:"RegExp",proto:!0,forced:/./.exec!==Ti},{exec:Ti});var Oi=Date.prototype,Ci=H(Oi.toString),Ai=H(Oi.getTime);"Invalid Date"!=String(new Date(NaN))&&Ct(Oi,"toString",(function(){var e=Ai(this);return e==e?Ci(this):"Invalid Date"}));var wi=Ot.PROPER,Ri=RegExp.prototype,Di=Ri.toString,Ni=H(ii),ki=N((function(){return"/a/b"!=Di.call({source:"a",flags:"b"})})),Li=wi&&"toString"!=Di.name;(ki||Li)&&Ct(RegExp.prototype,"toString",(function(){var e=Qe(this),t=pn(e.source),n=e.flags;return"/"+t+"/"+pn(void 0===n&&ie(Ri,e)&&!("flags"in Ri)?Ni(e):n)}),{unsafe:!0});var Pi=Ue("species"),xi=RegExp.prototype,Gi=function(e,t,n,r){var o=Ue(e),i=!N((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),a=i&&!N((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[Pi]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t}));if(!i||!a||n){var s=H(/./[o]),c=t(o,""[e],(function(e,t,n,r,o){var a=H(e),c=t.exec;return c===Ti||c===xi.exec?i&&!o?{done:!0,value:s(t,n,r)}:{done:!0,value:a(n,t,r)}:{done:!1}}));Ct(String.prototype,e,c[0]),Ct(xi,o,c[1])}r&&ot(xi[o],"sham",!0)},Ui=Ur.charAt,Fi=function(e,t,n){return t+(n?Ui(e,t).length:1)},ji=D.TypeError,qi=function(e,t){var n=e.exec;if(te(n)){var r=x(n,e,t);return null!==r&&Qe(r),r}if("RegExp"===z(e))return x(Ti,e,t);throw ji("RegExp#exec called on incompatible receiver")};Gi("match",(function(e,t,n){return[function(t){var n=Z(this),r=null==t?void 0:be(t,e);return r?x(r,t,n):new RegExp(t)[e](pn(n))},function(e){var r=Qe(this),o=pn(e),i=n(t,r,o);if(i.done)return i.value;if(!r.global)return qi(r,o);var a=r.unicode;r.lastIndex=0;for(var s,c=[],u=0;null!==(s=qi(r,o));){var l=pn(s[0]);c[u]=l,""===l&&(r.lastIndex=Fi(o,Pt(r.lastIndex),a)),u++}return 0===u?null:c}]}));var Bi=D.Date,Vi=H(Bi.prototype.getTime);rn({target:"Date",stat:!0},{now:function(){return Vi(new Bi)}});var $i=Ue("unscopables"),Hi=Array.prototype;null==Hi[$i]&&rt.f(Hi,$i,{configurable:!0,value:xn(null)});var Ki=function(e){Hi[$i][e]=!0},Wi=Ut.includes;rn({target:"Array",proto:!0},{includes:function(e){return Wi(this,e,arguments.length>1?arguments[1]:void 0)}}),Ki("includes");var zi=Ue("match"),Yi=function(e){var t;return ne(e)&&(void 0!==(t=e[zi])?!!t:"RegExp"==z(e))},Ji=D.TypeError,Xi=function(e){if(Yi(e))throw Ji("The method doesn't accept regular expressions");return e},Qi=Ue("match"),Zi=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[Qi]=!1,"/./"[e](t)}catch(o){}}return!1},ea=H("".indexOf);rn({target:"String",proto:!0,forced:!Zi("includes")},{includes:function(e){return!!~ea(pn(Z(this)),pn(Xi(e)),arguments.length>1?arguments[1]:void 0)}});var ta=D.RangeError,na=H((function(e){var t=pn(Z(this)),n="",r=Rt(e);if(r<0||1/0==r)throw ta("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n})),ra=H("".slice),oa=Math.ceil,ia=function(e){return function(t,n,r){var o,i,a=pn(Z(t)),s=Pt(n),c=a.length,u=void 0===r?" ":pn(r);return s<=c||""==u?a:((i=na(u,oa((o=s-c)/u.length))).length>o&&(i=ra(i,0,o)),e?a+i:i+a)}},aa={start:ia(!1),end:ia(!0)}.start,sa=D.RangeError,ca=Math.abs,ua=Date.prototype,la=ua.toISOString,fa=H(ua.getTime),pa=H(ua.getUTCDate),da=H(ua.getUTCFullYear),ha=H(ua.getUTCHours),ga=H(ua.getUTCMilliseconds),va=H(ua.getUTCMinutes),ma=H(ua.getUTCMonth),_a=H(ua.getUTCSeconds),ya=N((function(){return"0385-07-25T07:06:39.999Z"!=la.call(new Date(-50000000000001))}))||!N((function(){la.call(new Date(NaN))}))?function(){if(!isFinite(fa(this)))throw sa("Invalid time value");var e=da(this),t=ga(this),n=e<0?"-":e>9999?"+":"";return n+aa(ca(e),n?6:4,0)+"-"+aa(ma(this)+1,2,0)+"-"+aa(pa(this),2,0)+"T"+aa(ha(this),2,0)+":"+aa(va(this),2,0)+":"+aa(_a(this),2,0)+"."+aa(t,3,0)+"Z"}:la;rn({target:"Date",proto:!0,forced:Date.prototype.toISOString!==ya},{toISOString:ya});var ba=Function.prototype,Ma=ba.apply,Ea=ba.call,Ia="object"==typeof Reflect&&Reflect.apply||(L?Ea.bind(Ma):function(){return Ea.apply(Ma,arguments)}),Sa=Math.floor,Ta=H("".charAt),Oa=H("".replace),Ca=H("".slice),Aa=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,wa=/\$([$&'`]|\d{1,2})/g,Ra=function(e,t,n,r,o,i){var a=n+e.length,s=r.length,c=wa;return void 0!==o&&(o=Ce(o),c=Aa),Oa(i,c,(function(i,c){var u;switch(Ta(c,0)){case"$":return"$";case"&":return e;case"`":return Ca(t,0,n);case"'":return Ca(t,a);case"<":u=o[Ca(c,1,-1)];break;default:var l=+c;if(0===l)return i;if(l>s){var f=Sa(l/10);return 0===f?i:f<=s?void 0===r[f-1]?Ta(c,1):r[f-1]+Ta(c,1):i}u=r[l-1]}return void 0===u?"":u}))},Da=Ue("replace"),Na=Math.max,ka=Math.min,La=H([].concat),Pa=H([].push),xa=H("".indexOf),Ga=H("".slice),Ua="$0"==="a".replace(/./,"$0"),Fa=!!/./[Da]&&""===/./[Da]("a","$0");Gi("replace",(function(e,t,n){var r=Fa?"$":"$0";return[function(e,n){var r=Z(this),o=null==e?void 0:be(e,Da);return o?x(o,e,r,n):x(t,pn(r),e,n)},function(e,o){var i=Qe(this),a=pn(e);if("string"==typeof o&&-1===xa(o,r)&&-1===xa(o,"$<")){var s=n(t,i,a,o);if(s.done)return s.value}var c=te(o);c||(o=pn(o));var u=i.global;if(u){var l=i.unicode;i.lastIndex=0}for(var f=[];;){var p=qi(i,a);if(null===p)break;if(Pa(f,p),!u)break;""===pn(p[0])&&(i.lastIndex=Fi(a,Pt(i.lastIndex),l))}for(var d,h="",g=0,v=0;v<f.length;v++){for(var m=pn((p=f[v])[0]),_=Na(ka(Rt(p.index),a.length),0),y=[],b=1;b<p.length;b++)Pa(y,void 0===(d=p[b])?d:String(d));var M=p.groups;if(c){var E=La([m],y,_,a);void 0!==M&&Pa(E,M);var I=pn(Ia(o,void 0,E))}else I=Ra(m,a,_,y,M,o);_>=g&&(h+=Ga(a,g,_)+I,g=_+m.length)}return h+Ga(a,g)}]}),!!N((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!Ua||Fa);var ja=rt.f,qa=Et.set,Ba=Et.getterFor("Array Iterator"),Va=co(Array,"Array",(function(e,t){qa(this,{type:"Array Iterator",target:ee(e),index:0,kind:t})}),(function(){var e=Ba(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),$a=hr.Arguments=hr.Array;if(Ki("keys"),Ki("values"),Ki("entries"),k&&"values"!==$a.name)try{ja($a,"name",{value:"values"})}catch(oS){}var Ha=Ue("iterator"),Ka=Ue("toStringTag"),Wa=Va.values,za=function(e,t){if(e){if(e[Ha]!==Wa)try{ot(e,Ha,Wa)}catch(oS){e[Ha]=Wa}if(e[Ka]||ot(e,Ka,t),ir[t])for(var n in Va)if(e[n]!==Va[n])try{ot(e,n,Va[n])}catch(oS){e[n]=Va[n]}}};for(var Ya in ir)za(D[Ya]&&D[Ya].prototype,Ya);za(cr,"DOMTokenList");var Ja=Io("slice"),Xa=Ue("species"),Qa=D.Array,Za=Math.max;rn({target:"Array",proto:!0,forced:!Ja},{slice:function(e,t){var n,r,o,i=ee(this),a=xt(i),s=kt(e,a),c=kt(void 0===t?a:t,a);if(Fn(i)&&(n=i.constructor,(zn(n)&&(n===Qa||Fn(n.prototype))||ne(n)&&null===(n=n[Xa]))&&(n=void 0),n===Qa||void 0===n))return go(i,s,c);for(r=new(void 0===n?Qa:n)(Za(c-s,0)),o=0;s<c;s++,o++)s in i&&_r(r,o,i[s]);return r.length=o,r}});var es=H([].join),ts=X!=Object,ns=tr("join",",");rn({target:"Array",proto:!0,forced:ts||!ns},{join:function(e){return es(ee(this),void 0===e?",":e)}});var rs=Ut.indexOf,os=H([].indexOf),is=!!os&&1/os([1],1,-0)<0,as=tr("indexOf");rn({target:"Array",proto:!0,forced:is||!as},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return is?os(this,e,t)||0:rs(this,e,t)}});var ss=D.Array,cs=Math.max,us=function(e,t,n){for(var r=xt(e),o=kt(t,r),i=kt(void 0===n?r:n,r),a=ss(cs(i-o,0)),s=0;o<i;o++,s++)_r(a,s,e[o]);return a.length=s,a},ls=$t.f,fs="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ps={f:function(e){return fs&&"Window"==z(e)?function(e){try{return ls(e)}catch(oS){return us(fs)}}(e):ls(ee(e))}},ds=ps.f,hs=N((function(){return!Object.getOwnPropertyNames(1)}));rn({target:"Object",stat:!0,forced:hs},{getOwnPropertyNames:ds});var gs=er.find,vs=!0;"find"in[]&&Array(1).find((function(){vs=!1})),rn({target:"Array",proto:!0,forced:vs},{find:function(e){return gs(this,e,arguments.length>1?arguments[1]:void 0)}}),Ki("find");var ms,_s=ze.f,ys=H("".startsWith),bs=H("".slice),Ms=Math.min,Es=Zi("startsWith"),Is=!(Es||(ms=_s(String.prototype,"startsWith"),!ms||ms.writable));rn({target:"String",proto:!0,forced:!Is&&!Es},{startsWith:function(e){var t=pn(Z(this));Xi(e);var n=Pt(Ms(arguments.length>1?arguments[1]:void 0,t.length)),r=pn(e);return ys?ys(t,r,n):bs(t,n,n+r.length)===r}});var Ss,Ts,Os,Cs,As=D.Promise,ws=function(e,t,n){for(var r in t)Ct(e,r,t[r],n);return e},Rs=Ue("species"),Ds=function(e){var t=oe(e),n=rt.f;k&&t&&!t[Rs]&&n(t,Rs,{configurable:!0,get:function(){return this}})},Ns=D.TypeError,ks=function(e,t){if(ie(t,e))return e;throw Ns("Incorrect invocation")},Ls=D.TypeError,Ps=function(e,t){this.stopped=e,this.result=t},xs=Ps.prototype,Gs=function(e,t,n){var r,o,i,a,s,c,u,l=n&&n.that,f=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_ITERATOR),d=!(!n||!n.INTERRUPTED),h=Un(t,l),g=function(e){return r&&pr(r,"normal",e),new Ps(!0,e)},v=function(e){return f?(Qe(e),d?h(e[0],e[1],g):h(e[0],e[1])):d?h(e,g):h(e)};if(p)r=e;else{if(!(o=br(e)))throw Ls(me(e)+" is not iterable");if(mr(o)){for(i=0,a=xt(e);a>i;i++)if((s=v(e[i]))&&ie(xs,s))return s;return new Ps(!1)}r=Er(e,o)}for(c=r.next;!(u=x(c,r)).done;){try{s=v(u.value)}catch(oS){pr(r,"throw",oS)}if("object"==typeof s&&s&&ie(xs,s))return s}return new Ps(!1)},Us=D.TypeError,Fs=function(e){if(zn(e))return e;throw Us(me(e)+" is not a constructor")},js=Ue("species"),qs=function(e,t){var n,r=Qe(e).constructor;return void 0===r||null==(n=Qe(r)[js])?t:Fs(n)},Bs=D.TypeError,Vs=function(e,t){if(e<t)throw Bs("Not enough arguments");return e},$s=/(?:ipad|iphone|ipod).*applewebkit/i.test(ae),Hs="process"==z(D.process),Ks=D.setImmediate,Ws=D.clearImmediate,zs=D.process,Ys=D.Dispatch,Js=D.Function,Xs=D.MessageChannel,Qs=D.String,Zs=0,ec={};try{Ss=D.location}catch(oS){}var tc=function(e){if(we(ec,e)){var t=ec[e];delete ec[e],t()}},nc=function(e){return function(){tc(e)}},rc=function(e){tc(e.data)},oc=function(e){D.postMessage(Qs(e),Ss.protocol+"//"+Ss.host)};Ks&&Ws||(Ks=function(e){Vs(arguments.length,1);var t=te(e)?e:Js(e),n=go(arguments,1);return ec[++Zs]=function(){Ia(t,void 0,n)},Ts(Zs),Zs},Ws=function(e){delete ec[e]},Hs?Ts=function(e){zs.nextTick(nc(e))}:Ys&&Ys.now?Ts=function(e){Ys.now(nc(e))}:Xs&&!$s?(Cs=(Os=new Xs).port2,Os.port1.onmessage=rc,Ts=Un(Cs.postMessage,Cs)):D.addEventListener&&te(D.postMessage)&&!D.importScripts&&Ss&&"file:"!==Ss.protocol&&!N(oc)?(Ts=oc,D.addEventListener("message",rc,!1)):Ts="onreadystatechange"in He("script")?function(e){Rn.appendChild(He("script")).onreadystatechange=function(){Rn.removeChild(this),tc(e)}}:function(e){setTimeout(nc(e),0)});var ic,ac,sc,cc,uc,lc,fc,pc,dc={set:Ks,clear:Ws},hc=/ipad|iphone|ipod/i.test(ae)&&void 0!==D.Pebble,gc=/web0s(?!.*chrome)/i.test(ae),vc=ze.f,mc=dc.set,_c=D.MutationObserver||D.WebKitMutationObserver,yc=D.document,bc=D.process,Mc=D.Promise,Ec=vc(D,"queueMicrotask"),Ic=Ec&&Ec.value;Ic||(ic=function(){var e,t;for(Hs&&(e=bc.domain)&&e.exit();ac;){t=ac.fn,ac=ac.next;try{t()}catch(oS){throw ac?cc():sc=void 0,oS}}sc=void 0,e&&e.enter()},$s||Hs||gc||!_c||!yc?!hc&&Mc&&Mc.resolve?((fc=Mc.resolve(void 0)).constructor=Mc,pc=Un(fc.then,fc),cc=function(){pc(ic)}):Hs?cc=function(){bc.nextTick(ic)}:(mc=Un(mc,D),cc=function(){mc(ic)}):(uc=!0,lc=yc.createTextNode(""),new _c(ic).observe(lc,{characterData:!0}),cc=function(){lc.data=uc=!uc}));var Sc=Ic||function(e){var t={fn:e,next:void 0};sc&&(sc.next=t),ac||(ac=t,cc()),sc=t},Tc=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=ye(t),this.reject=ye(n)},Oc={f:function(e){return new Tc(e)}},Cc=function(e,t){if(Qe(e),ne(t)&&t.constructor===e)return t;var n=Oc.f(e);return(0,n.resolve)(t),n.promise},Ac=function(e){try{return{error:!1,value:e()}}catch(oS){return{error:!0,value:oS}}},wc=function(){this.head=null,this.tail=null};wc.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var Rc,Dc,Nc,kc,Lc=wc,Pc="object"==typeof window,xc=dc.set,Gc=Ue("species"),Uc="Promise",Fc=Et.getterFor(Uc),jc=Et.set,qc=Et.getterFor(Uc),Bc=As&&As.prototype,Vc=As,$c=Bc,Hc=D.TypeError,Kc=D.document,Wc=D.process,zc=Oc.f,Yc=zc,Jc=!!(Kc&&Kc.createEvent&&D.dispatchEvent),Xc=te(D.PromiseRejectionEvent),Qc=!1,Zc=tn(Uc,(function(){var e=ut(Vc),t=e!==String(Vc);if(!t&&66===fe)return!0;if(fe>=51&&/native code/.test(e))return!1;var n=new Vc((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[Gc]=r,!(Qc=n.then((function(){}))instanceof r)||!t&&Pc&&!Xc})),eu=Zc||!wr((function(e){Vc.all(e).catch((function(){}))})),tu=function(e){var t;return!(!ne(e)||!te(t=e.then))&&t},nu=function(e,t){var n,r,o,i=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(a||(2===t.rejection&&su(t),t.rejection=1),!0===s?n=i:(l&&l.enter(),n=s(i),l&&(l.exit(),o=!0)),n===e.promise?u(Hc("Promise-chain cycle")):(r=tu(n))?x(r,n,c,u):c(n)):u(i)}catch(oS){l&&!o&&l.exit(),u(oS)}},ru=function(e,t){e.notified||(e.notified=!0,Sc((function(){for(var n,r=e.reactions;n=r.get();)nu(n,e);e.notified=!1,t&&!e.rejection&&iu(e)})))},ou=function(e,t,n){var r,o;Jc?((r=Kc.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),D.dispatchEvent(r)):r={promise:t,reason:n},!Xc&&(o=D["on"+e])?o(r):"unhandledrejection"===e&&function(e,t){var n=D.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},iu=function(e){x(xc,D,(function(){var t,n=e.facade,r=e.value;if(au(e)&&(t=Ac((function(){Hs?Wc.emit("unhandledRejection",r,n):ou("unhandledrejection",n,r)})),e.rejection=Hs||au(e)?2:1,t.error))throw t.value}))},au=function(e){return 1!==e.rejection&&!e.parent},su=function(e){x(xc,D,(function(){var t=e.facade;Hs?Wc.emit("rejectionHandled",t):ou("rejectionhandled",t,e.value)}))},cu=function(e,t,n){return function(r){e(t,r,n)}},uu=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,ru(e,!0))},lu=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Hc("Promise can't be resolved itself");var r=tu(t);r?Sc((function(){var n={done:!1};try{x(r,t,cu(lu,n,e),cu(uu,n,e))}catch(oS){uu(n,oS,e)}})):(e.value=t,e.state=1,ru(e,!1))}catch(oS){uu({done:!1},oS,e)}}};if(Zc&&($c=(Vc=function(e){ks(this,$c),ye(e),x(Rc,this);var t=Fc(this);try{e(cu(lu,t),cu(uu,t))}catch(oS){uu(t,oS)}}).prototype,(Rc=function(e){jc(this,{type:Uc,done:!1,notified:!1,parent:!1,reactions:new Lc,rejection:!1,state:0,value:void 0})}).prototype=ws($c,{then:function(e,t){var n=qc(this),r=zc(qs(this,Vc));return n.parent=!0,r.ok=!te(e)||e,r.fail=te(t)&&t,r.domain=Hs?Wc.domain:void 0,0==n.state?n.reactions.add(r):Sc((function(){nu(r,n)})),r.promise},catch:function(e){return this.then(void 0,e)}}),Dc=function(){var e=new Rc,t=Fc(e);this.promise=e,this.resolve=cu(lu,t),this.reject=cu(uu,t)},Oc.f=zc=function(e){return e===Vc||e===Nc?new Dc(e):Yc(e)},te(As)&&Bc!==Object.prototype)){kc=Bc.then,Qc||(Ct(Bc,"then",(function(e,t){var n=this;return new Vc((function(e,t){x(kc,n,e,t)})).then(e,t)}),{unsafe:!0}),Ct(Bc,"catch",$c.catch,{unsafe:!0}));try{delete Bc.constructor}catch(oS){}to&&to(Bc,$c)}rn({global:!0,wrap:!0,forced:Zc},{Promise:Vc}),Yr(Vc,Uc,!1),Ds(Uc),Nc=oe(Uc),rn({target:Uc,stat:!0,forced:Zc},{reject:function(e){var t=zc(this);return x(t.reject,void 0,e),t.promise}}),rn({target:Uc,stat:!0,forced:Zc},{resolve:function(e){return Cc(this,e)}}),rn({target:Uc,stat:!0,forced:eu},{all:function(e){var t=this,n=zc(t),r=n.resolve,o=n.reject,i=Ac((function(){var n=ye(t.resolve),i=[],a=0,s=1;Gs(e,(function(e){var c=a++,u=!1;s++,x(n,t,e).then((function(e){u||(u=!0,i[c]=e,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=zc(t),r=n.reject,o=Ac((function(){var o=ye(t.resolve);Gs(e,(function(e){x(o,t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}});var fu=Ur.codeAt;rn({target:"String",proto:!0},{codePointAt:function(e){return fu(this,e)}});var pu=ui.UNSUPPORTED_Y,du=Math.min,hu=[].push,gu=H(/./.exec),vu=H(hu),mu=H("".slice);Gi("split",(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=pn(Z(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!Yi(e))return x(t,r,e,o);for(var i,a,s,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,f=new RegExp(e.source,u+"g");(i=x(Ti,f,r))&&!((a=f.lastIndex)>l&&(vu(c,mu(r,l,i.index)),i.length>1&&i.index<r.length&&Ia(hu,c,us(i,1)),s=i[0].length,l=a,c.length>=o));)f.lastIndex===i.index&&f.lastIndex++;return l===r.length?!s&&gu(f,"")||vu(c,""):vu(c,mu(r,l)),c.length>o?us(c,0,o):c}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:x(t,this,e,n)}:t,[function(t,n){var o=Z(this),i=null==t?void 0:be(t,e);return i?x(i,t,o,n):x(r,pn(o),t,n)},function(e,o){var i=Qe(this),a=pn(e),s=n(r,i,a,o,r!==t);if(s.done)return s.value;var c=qs(i,RegExp),u=i.unicode,l=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(pu?"g":"y"),f=new c(pu?"^(?:"+i.source+")":i,l),p=void 0===o?4294967295:o>>>0;if(0===p)return[];if(0===a.length)return null===qi(f,a)?[a]:[];for(var d=0,h=0,g=[];h<a.length;){f.lastIndex=pu?0:h;var v,m=qi(f,pu?mu(a,h):a);if(null===m||(v=du(Pt(f.lastIndex+(pu?h:0)),a.length))===d)h=Fi(a,h,u);else{if(vu(g,mu(a,d,h)),g.length===p)return g;for(var _=1;_<=m.length-1;_++)if(vu(g,m[_]),g.length===p)return g;h=d=v}}return vu(g,mu(a,d)),g}]}),!!N((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),pu);var _u=yn.trim,yu=H("".charAt),bu=D.parseFloat,Mu=D.Symbol,Eu=Mu&&Mu.iterator,Iu=1/bu(dn+"-0")!=-1/0||Eu&&!N((function(){bu(Object(Eu))}))?function(e){var t=_u(pn(e)),n=bu(t);return 0===n&&"-"==yu(t,0)?-0:n}:bu;rn({global:!0,forced:parseFloat!=Iu},{parseFloat:Iu});var Su=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;o(this,e),this.high=t,this.low=n}return a(e,[{key:"equal",value:function(e){return null!==e&&this.low===e.low&&this.high===e.high}},{key:"toString",value:function(){var e=Number(this.high).toString(16),t=Number(this.low).toString(16);if(t.length<8)for(var n=8-t.length;n;)t="0"+t,n--;return e+t}}]),e}(),Tu={TEST:{CHINA:{DEFAULT:"wss://wss-dev.tim.qq.com"},OVERSEA:{DEFAULT:"wss://wss-dev.tim.qq.com"},SINGAPORE:{DEFAULT:"wss://wsssgp-dev.im.qcloud.com"},KOREA:{DEFAULT:"wss://wsskr-dev.im.qcloud.com"},GERMANY:{DEFAULT:"wss://wssger-dev.im.qcloud.com"},IND:{DEFAULT:"wss://wssind-dev.im.qcloud.com"}},PRODUCTION:{CHINA:{DEFAULT:"wss://wss.im.qcloud.com",BACKUP:"wss://wss.tim.qq.com",STAT:"https://api.im.qcloud.com"},OVERSEA:{DEFAULT:"wss://wss.im.qcloud.com",BACKUP:"wss://wss.my-imcloud.com",STAT:"https://api.my-imcloud.com"},SINGAPORE:{DEFAULT:"wss://wsssgp.im.qcloud.com",BACKUP:"wss://wsssgp.my-imcloud.com",STAT:"https://apisgp.my-imcloud.com"},KOREA:{DEFAULT:"wss://wsskr.im.qcloud.com",BACKUP:"wss://wsskr.my-imcloud.com",STAT:"https://apikr.my-imcloud.com"},GERMANY:{DEFAULT:"wss://wssger.im.qcloud.com",BACKUP:"wss://wssger.my-imcloud.com",STAT:"https://apiger.my-imcloud.com"},IND:{DEFAULT:"wss://wssind.im.qcloud.com",BACKUP:"wss://wssind.my-imcloud.com",STAT:"https://apiind.my-imcloud.com"}}},Ou={WEB:7,WX_MP:8,QQ_MP:9,TT_MP:10,BAIDU_MP:11,ALI_MP:12,UNI_NATIVE_APP:15},Cu="1.7.3",Au=537048168,wu="CHINA",Ru="OVERSEA",Du="SINGAPORE",Nu="KOREA",ku="GERMANY",Lu="IND",Pu={HOST:{CURRENT:{DEFAULT:"wss://wss.im.qcloud.com",STAT:"https://api.im.qcloud.com"},setCurrent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wu;this.CURRENT=Tu.PRODUCTION[e]}},NAME:{OPEN_IM:"openim",GROUP:"group_open_http_svc",GROUP_COMMUNITY:"million_group_open_http_svc",GROUP_ATTR:"group_open_attr_http_svc",FRIEND:"sns",PROFILE:"profile",RECENT_CONTACT:"recentcontact",PIC:"openpic",BIG_GROUP_NO_AUTH:"group_open_http_noauth_svc",BIG_GROUP_LONG_POLLING:"group_open_long_polling_http_svc",BIG_GROUP_LONG_POLLING_NO_AUTH:"group_open_long_polling_http_noauth_svc",IM_OPEN_STAT:"imopenstat",WEB_IM:"webim",IM_COS_SIGN:"im_cos_sign_svr",CUSTOM_UPLOAD:"im_cos_msg",HEARTBEAT:"heartbeat",IM_OPEN_PUSH:"im_open_push",IM_OPEN_STATUS:"im_open_status",IM_LONG_MESSAGE:"im_long_msg",IM_CONFIG_MANAGER:"im_sdk_config_mgr",STAT_SERVICE:"StatSvc",OVERLOAD_PUSH:"OverLoadPush"},CMD:{ACCESS_LAYER:"accesslayer",LOGIN:"wslogin",LOGOUT_LONG_POLL:"longpollinglogout",LOGOUT:"wslogout",HELLO:"wshello",PORTRAIT_GET:"portrait_get_all",PORTRAIT_SET:"portrait_set",GET_LONG_POLL_ID:"getlongpollingid",LONG_POLL:"longpolling",AVCHATROOM_LONG_POLL:"get_msg",ADD_FRIEND:"friend_add",UPDATE_FRIEND:"friend_update",GET_FRIEND_LIST:"friend_get",GET_FRIEND_PROFILE:"friend_get_list",DELETE_FRIEND:"friend_delete",CHECK_FRIEND:"friend_check",GET_FRIEND_GROUP_LIST:"group_get",RESPOND_FRIEND_APPLICATION:"friend_response",GET_FRIEND_APPLICATION_LIST:"pendency_get",DELETE_FRIEND_APPLICATION:"pendency_delete",REPORT_FRIEND_APPLICATION:"pendency_report",GET_GROUP_APPLICATION:"get_pendency",CREATE_FRIEND_GROUP:"group_add",DELETE_FRIEND_GROUP:"group_delete",UPDATE_FRIEND_GROUP:"group_update",GET_BLACKLIST:"black_list_get",ADD_BLACKLIST:"black_list_add",DELETE_BLACKLIST:"black_list_delete",CREATE_GROUP:"create_group",GET_JOINED_GROUPS:"get_joined_group_list",SET_GROUP_ATTRIBUTES:"set_group_attr",MODIFY_GROUP_ATTRIBUTES:"modify_group_attr",DELETE_GROUP_ATTRIBUTES:"delete_group_attr",CLEAR_GROUP_ATTRIBUTES:"clear_group_attr",GET_GROUP_ATTRIBUTES:"get_group_attr",SEND_MESSAGE:"sendmsg",REVOKE_C2C_MESSAGE:"msgwithdraw",DELETE_C2C_MESSAGE:"delete_c2c_msg_ramble",MODIFY_C2C_MESSAGE:"modify_c2c_msg",SEND_GROUP_MESSAGE:"send_group_msg",REVOKE_GROUP_MESSAGE:"group_msg_recall",DELETE_GROUP_MESSAGE:"delete_group_ramble_msg_by_seq",MODIFY_GROUP_MESSAGE:"modify_group_msg",GET_GROUP_INFO:"get_group_self_member_info",GET_GROUP_MEMBER_INFO:"get_specified_group_member_info",GET_GROUP_MEMBER_LIST:"get_group_member_info",QUIT_GROUP:"quit_group",CHANGE_GROUP_OWNER:"change_group_owner",DESTROY_GROUP:"destroy_group",ADD_GROUP_MEMBER:"add_group_member",DELETE_GROUP_MEMBER:"delete_group_member",SEARCH_GROUP_BY_ID:"get_group_public_info",APPLY_JOIN_GROUP:"apply_join_group",HANDLE_APPLY_JOIN_GROUP:"handle_apply_join_group",HANDLE_GROUP_INVITATION:"handle_invite_join_group",MODIFY_GROUP_INFO:"modify_group_base_info",MODIFY_GROUP_MEMBER_INFO:"modify_group_member_info",DELETE_GROUP_SYSTEM_MESSAGE:"deletemsg",DELETE_GROUP_AT_TIPS:"deletemsg",GET_CONVERSATION_LIST:"get",PAGING_GET_CONVERSATION_LIST:"page_get",DELETE_CONVERSATION:"delete",PIN_CONVERSATION:"top",GET_MESSAGES:"getmsg",GET_C2C_ROAM_MESSAGES:"getroammsg",SET_C2C_PEER_MUTE_NOTIFICATIONS:"set_c2c_peer_mute_notifications",GET_C2C_PEER_MUTE_NOTIFICATIONS:"get_c2c_peer_mute_notifications",GET_GROUP_ROAM_MESSAGES:"group_msg_get",GET_READ_RECEIPT:"get_group_msg_receipt",GET_READ_RECEIPT_DETAIL:"get_group_msg_receipt_detail",SEND_READ_RECEIPT:"group_msg_receipt",SEND_C2C_READ_RECEIPT:"c2c_msg_read_receipt",SET_C2C_MESSAGE_READ:"msgreaded",GET_PEER_READ_TIME:"get_peer_read_time",SET_GROUP_MESSAGE_READ:"msg_read_report",FILE_READ_AND_WRITE_AUTHKEY:"authkey",FILE_UPLOAD:"pic_up",COS_SIGN:"cos",COS_PRE_SIG:"pre_sig",VIDEO_COVER:"video_cover",TIM_WEB_REPORT_V2:"tim_web_report_v2",BIG_DATA_HALLWAY_AUTH_KEY:"authkey",GET_ONLINE_MEMBER_NUM:"get_online_member_num",ALIVE:"alive",MESSAGE_PUSH:"msg_push",MULTI_MESSAGE_PUSH:"multi_msg_push_ws",MESSAGE_PUSH_ACK:"ws_msg_push_ack",STATUS_FORCE_OFFLINE:"stat_forceoffline",DOWNLOAD_MERGER_MESSAGE:"get_relay_json_msg",UPLOAD_MERGER_MESSAGE:"save_relay_json_msg",FETCH_CLOUD_CONTROL_CONFIG:"fetch_config",PUSHED_CLOUD_CONTROL_CONFIG:"push_configv2",FETCH_COMMERCIAL_CONFIG:"fetch_imsdk_purchase_bitsv2",PUSHED_COMMERCIAL_CONFIG:"push_imsdk_purchase_bitsv2",KICK_OTHER:"KickOther",OVERLOAD_NOTIFY:"notify2",SET_ALL_MESSAGE_READ:"read_all_unread_msg",CREATE_TOPIC:"create_topic",DELETE_TOPIC:"destroy_topic",UPDATE_TOPIC_PROFILE:"modify_topic",GET_TOPIC_LIST:"get_topic"},CHANNEL:{SOCKET:1,XHR:2,AUTO:0},NAME_VERSION:{openim:"v4",group_open_http_svc:"v4",sns:"v4",profile:"v4",recentcontact:"v4",openpic:"v4",group_open_http_noauth_svc:"v4",group_open_long_polling_http_svc:"v4",group_open_long_polling_http_noauth_svc:"v4",imopenstat:"v4",im_cos_sign_svr:"v4",im_cos_msg:"v4",webim:"v4",im_open_push:"v4",im_open_status:"v4"}},xu={SEARCH_MSG:new Su(0,Math.pow(2,0)).toString(),SEARCH_GRP_SNS:new Su(0,Math.pow(2,1)).toString(),AVCHATROOM_HISTORY_MSG:new Su(0,Math.pow(2,2)).toString(),GRP_COMMUNITY:new Su(0,Math.pow(2,3)).toString(),MSG_TO_SPECIFIED_GRP_MBR:new Su(0,Math.pow(2,4)).toString()};Pu.HOST.setCurrent(wu);var Gu,Uu="undefined"!=typeof wx&&"function"==typeof wx.getSystemInfoSync&&Boolean(wx.getSystemInfoSync().fontSizeSetting),Fu="undefined"!=typeof qq&&"function"==typeof qq.getSystemInfoSync&&Boolean(qq.getSystemInfoSync().fontSizeSetting),ju="undefined"!=typeof tt&&"function"==typeof tt.getSystemInfoSync&&Boolean(tt.getSystemInfoSync().fontSizeSetting),qu="undefined"!=typeof swan&&"function"==typeof swan.getSystemInfoSync&&Boolean(swan.getSystemInfoSync().fontSizeSetting),Bu="undefined"!=typeof my&&"function"==typeof my.getSystemInfoSync&&Boolean(my.getSystemInfoSync().fontSizeSetting),Vu="undefined"!=typeof uni&&"undefined"==typeof window,$u="undefined"!=typeof uni,Hu=Uu||Fu||ju||qu||Bu||Vu,Ku=("undefined"!=typeof uni||"undefined"!=typeof window)&&!Hu,Wu=Fu?qq:ju?tt:qu?swan:Bu?my:Uu?wx:Vu?uni:{},zu=(Gu="WEB",cl?Gu="WEB":Fu?Gu="QQ_MP":ju?Gu="TT_MP":qu?Gu="BAIDU_MP":Bu?Gu="ALI_MP":Uu?Gu="WX_MP":Vu&&(Gu="UNI_NATIVE_APP"),Ou[Gu]),Yu=Ku&&window&&window.navigator&&window.navigator.userAgent||"",Ju=/AppleWebKit\/([\d.]+)/i.exec(Yu),Xu=(Ju&&parseFloat(Ju.pop()),/iPad/i.test(Yu)),Qu=/iPhone/i.test(Yu)&&!Xu,Zu=/iPod/i.test(Yu),el=Qu||Xu||Zu,tl=function(){var e=Yu.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),nl=/Android/i.test(Yu),rl=function(){var e=Yu.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),ol=(nl&&/webkit/i.test(Yu),/Firefox/i.test(Yu),/Edge/i.test(Yu)),il=(!ol&&/Chrome/i.test(Yu),function(){var e=Yu.match(/Chrome\/(\d+)/);e&&e[1]&&parseFloat(e[1])}(),/MSIE/.test(Yu)||Yu.indexOf("Trident")>-1&&Yu.indexOf("rv:11.0")>-1),al=(/MSIE\s8\.0/.test(Yu),function(){var e=/MSIE\s(\d+)\.\d/.exec(Yu),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(Yu)&&/rv:11.0/.test(Yu)&&(t=11),t}()),sl=(/Safari/i.test(Yu),/TBS\/\d+/i.test(Yu)),cl=(function(){var e=Yu.match(/TBS\/(\d+)/i);e&&e[1]&&e[1]}(),!sl&&/MQQBrowser\/\d+/i.test(Yu),!sl&&/ QQBrowser\/\d+/i.test(Yu),/(micromessenger|webbrowser)/i.test(Yu)),ul=/Windows/i.test(Yu),ll=/MAC OS X/i.test(Yu),fl=(/MicroMessenger/i.test(Yu),Ku&&"undefined"!=typeof Worker&&!il),pl=nl||el,dl=N((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})),hl=Object.isExtensible,gl=N((function(){hl(1)}))||dl?function(e){return!!ne(e)&&(!dl||"ArrayBuffer"!=z(e))&&(!hl||hl(e))}:hl,vl=!N((function(){return Object.isExtensible(Object.preventExtensions({}))})),ml=C((function(e){var t=rt.f,n=!1,r=ke("meta"),o=0,i=function(e){t(e,r,{value:{objectID:"O"+o++,weakData:{}}})},a=e.exports={enable:function(){a.enable=function(){},n=!0;var e=$t.f,t=H([].splice),o={};o[r]=1,e(o).length&&($t.f=function(n){for(var o=e(n),i=0,a=o.length;i<a;i++)if(o[i]===r){t(o,i,1);break}return o},rn({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:ps.f}))},fastKey:function(e,t){if(!ne(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!we(e,r)){if(!gl(e))return"F";if(!t)return"E";i(e)}return e[r].objectID},getWeakData:function(e,t){if(!we(e,r)){if(!gl(e))return!0;if(!t)return!1;i(e)}return e[r].weakData},onFreeze:function(e){return vl&&n&&gl(e)&&!we(e,r)&&i(e),e}};ht[r]=!0})),_l=(ml.enable,ml.fastKey,ml.getWeakData,ml.onFreeze,rt.f),yl=ml.fastKey,bl=Et.set,Ml=Et.getterFor;!function(e,t,n){var r=-1!==e.indexOf("Map"),o=-1!==e.indexOf("Weak"),i=r?"set":"add",a=D[e],s=a&&a.prototype,c=a,u={},l=function(e){var t=H(s[e]);Ct(s,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(o&&!ne(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return o&&!ne(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(o&&!ne(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(tn(e,!te(a)||!(o||s.forEach&&!N((function(){(new a).entries().next()})))))c=n.getConstructor(t,e,r,i),ml.enable();else if(tn(e,!0)){var f=new c,p=f[i](o?{}:-0,1)!=f,d=N((function(){f.has(1)})),h=wr((function(e){new a(e)})),g=!o&&N((function(){for(var e=new a,t=5;t--;)e[i](t,t);return!e.has(-0)}));h||((c=t((function(e,t){ks(e,s);var n=Fo(new a,e,c);return null!=t&&Gs(t,n[i],{that:n,AS_ENTRIES:r}),n}))).prototype=s,s.constructor=c),(d||g)&&(l("delete"),l("has"),r&&l("get")),(g||p)&&l(i),o&&s.clear&&delete s.clear}u[e]=c,rn({global:!0,forced:c!=a},u),Yr(c,e),o||n.setStrong(c,e,r)}("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(e,t,n,r){var o=e((function(e,o){ks(e,i),bl(e,{type:t,index:xn(null),first:void 0,last:void 0,size:0}),k||(e.size=0),null!=o&&Gs(o,e[r],{that:e,AS_ENTRIES:n})})),i=o.prototype,a=Ml(t),s=function(e,t,n){var r,o,i=a(e),s=c(e,t);return s?s.value=n:(i.last=s={index:o=yl(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=s),r&&(r.next=s),k?i.size++:e.size++,"F"!==o&&(i.index[o]=s)),e},c=function(e,t){var n,r=a(e),o=yl(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return ws(i,{clear:function(){for(var e=a(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,k?e.size=0:this.size=0},delete:function(e){var t=a(this),n=c(this,e);if(n){var r=n.next,o=n.previous;delete t.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),t.first==n&&(t.first=r),t.last==n&&(t.last=o),k?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=a(this),r=Un(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!c(this,e)}}),ws(i,n?{get:function(e){var t=c(this,e);return t&&t.value},set:function(e,t){return s(this,0===e?0:e,t)}}:{add:function(e){return s(this,e=0===e?0:e,e)}}),k&&_l(i,"size",{get:function(){return a(this).size}}),o},setStrong:function(e,t,n){var r=t+" Iterator",o=Ml(t),i=Ml(r);co(e,t,(function(e,t){bl(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),Ds(t)}});var El,Il,Sl="undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};El="undefined"!=typeof console?console:void 0!==Sl&&Sl.console?Sl.console:"undefined"!=typeof window&&window.console?window.console:{};for(var Tl=function(){},Ol=["assert","clear","count","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],Cl=Ol.length;Cl--;)Il=Ol[Cl],console[Il]||(El[Il]=Tl);var Al=El,wl=0,Rl=function(){return(new Date).getTime()+wl},Dl=function(){wl=0},Nl=function(){return Math.floor(Rl()/1e3)},kl=0,Ll=new Map;function Pl(){var e,t=((e=new Date).setTime(Rl()),e);return"TIM "+t.toLocaleTimeString("en-US",{hour12:!1})+"."+function(e){var t;switch(e.toString().length){case 1:t="00"+e;break;case 2:t="0"+e;break;default:t=e}return t}(t.getMilliseconds())+":"}var xl={arguments2String:function(e){var t;if(1===e.length)t=Pl()+e[0];else{t=Pl();for(var n=0,r=e.length;n<r;n++)ef(e[n])?nf(e[n])?t+=uf(e[n]):t+=JSON.stringify(e[n]):t+=e[n],t+=" "}return t},debug:function(){if(kl<=-1){var e=this.arguments2String(arguments);Al.debug(e)}},log:function(){if(kl<=0){var e=this.arguments2String(arguments);Al.log(e)}},info:function(){if(kl<=1){var e=this.arguments2String(arguments);Al.info(e)}},warn:function(){if(kl<=2){var e=this.arguments2String(arguments);Al.warn(e)}},error:function(){if(kl<=3){var e=this.arguments2String(arguments);Al.error(e)}},time:function(e){Ll.set(e,sf.now())},timeEnd:function(e){if(Ll.has(e)){var t=sf.now()-Ll.get(e);return Ll.delete(e),t}return Al.warn("未找到对应label: ".concat(e,", 请在调用 logger.timeEnd 前，调用 logger.time")),0},setLevel:function(e){e<4&&Al.log(Pl()+"set level from "+kl+" to "+e),kl=e},getLevel:function(){return kl}},Gl={JPG:1,JPEG:1,GIF:2,PNG:3,BMP:4,UNKNOWN:255},Ul={NICK:"Tag_Profile_IM_Nick",GENDER:"Tag_Profile_IM_Gender",BIRTHDAY:"Tag_Profile_IM_BirthDay",LOCATION:"Tag_Profile_IM_Location",SELFSIGNATURE:"Tag_Profile_IM_SelfSignature",ALLOWTYPE:"Tag_Profile_IM_AllowType",LANGUAGE:"Tag_Profile_IM_Language",AVATAR:"Tag_Profile_IM_Image",MESSAGESETTINGS:"Tag_Profile_IM_MsgSettings",ADMINFORBIDTYPE:"Tag_Profile_IM_AdminForbidType",LEVEL:"Tag_Profile_IM_Level",ROLE:"Tag_Profile_IM_Role"},Fl={UNKNOWN:"Gender_Type_Unknown",FEMALE:"Gender_Type_Female",MALE:"Gender_Type_Male"},jl={NONE:"AdminForbid_Type_None",SEND_OUT:"AdminForbid_Type_SendOut"},ql={NEED_CONFIRM:"AllowType_Type_NeedConfirm",ALLOW_ANY:"AllowType_Type_AllowAny",DENY_ANY:"AllowType_Type_DenyAny"},Bl="JoinedSuccess",Vl="WaitAdminApproval",$l="@TGS#_",Hl="@TOPIC#_",Kl=["url"],Wl=function(e){return"file"===rf(e)},zl=function(e){return null!==e&&("number"==typeof e&&!isNaN(e-0)||"object"===r(e)&&e.constructor===Number)},Yl=function(e){return"string"==typeof e},Jl=function(e){return null!==e&&"object"===r(e)},Xl=function(e){if("object"!==r(e)||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n},Ql=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"array"===rf(e)},Zl=function(e){return void 0===e},ef=function(e){return Ql(e)||Jl(e)},tf=function(e){return"function"==typeof e},nf=function(e){return e instanceof Error},rf=function(e){return Object.prototype.toString.call(e).match(/^\[object (.*)\]$/)[1].toLowerCase()},of=function(e){if("string"!=typeof e)return!1;var t=e[0];return!/[^a-zA-Z0-9]/.test(t)},af=0;Date.now||(Date.now=function(){return(new Date).getTime()});var sf={now:function(){0===af&&(af=Date.now()-1);var e=Date.now()-af;return e>4294967295?(af+=4294967295,Date.now()-af):e},utc:function(){return Math.round(Date.now()/1e3)}},cf=function e(t,n,r,o){if(!ef(t)||!ef(n))return 0;for(var i,a=0,s=Object.keys(n),c=0,u=s.length;c<u;c++)if(i=s[c],!(Zl(n[i])||r&&r.includes(i)))if(ef(t[i])&&ef(n[i]))a+=e(t[i],n[i],r,o);else{if(o&&o.includes(n[i]))continue;t[i]!==n[i]&&(t[i]=n[i],a+=1)}return a},uf=function(e){return JSON.stringify(e,["message","code"])},lf=function(e){if(0===e.length)return 0;for(var t=0,n=0,r="undefined"!=typeof document&&void 0!==document.characterSet?document.characterSet:"UTF-8";void 0!==e[t];)n+=e[t++].charCodeAt[t]<=255?1:!1===r?3:2;return n},ff=function(e){var t=e||99999999;return Math.round(Math.random()*t)},pf="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",df=pf.length,hf=function(e,t){for(var n in e)if(e[n]===t)return!0;return!1},gf={},vf=function(){if(Hu)return"https:";if(Ku&&"undefined"==typeof window)return"https:";var e=window.location.protocol;return["http:","https:"].indexOf(e)<0&&(e="http:"),e},mf=function(e){return-1===e.indexOf("http://")||-1===e.indexOf("https://")?"https://"+e:e.replace(/https|http/,"https")},_f=function e(t){if(0===Object.getOwnPropertyNames(t).length)return Object.create(null);var n=Array.isArray(t)?[]:Object.create(null),o="";for(var i in t)null!==t[i]?void 0!==t[i]?(o=r(t[i]),["string","number","function","boolean"].indexOf(o)>=0?n[i]=t[i]:n[i]=e(t[i])):n[i]=void 0:n[i]=null;return n};function yf(e,t){Ql(e)&&Ql(t)?t.forEach((function(t){var n=t.key,r=t.value,o=e.find((function(e){return e.key===n}));o?o.value=r:e.push({key:n,value:r})})):xl.warn("updateCustomField target 或 source 不是数组，忽略此次更新。")}var bf=function(e){return e===ho.GRP_PUBLIC},Mf=function(e){return e===ho.GRP_AVCHATROOM},Ef=function(e){var t=e.type,n=e.groupID;return t===ho.GRP_COMMUNITY||"".concat(n).startsWith($l)&&!"".concat(n).includes(Hl)},If=function(e){return"".concat(e).startsWith($l)&&"".concat(e).includes(Hl)},Sf=function(e){return Yl(e)&&e.slice(0,3)===ho.CONV_C2C},Tf=function(e){return Yl(e)&&e.slice(0,5)===ho.CONV_GROUP},Of=function(e){return Yl(e)&&e===ho.CONV_SYSTEM};function Cf(e,t){var n={};return Object.keys(e).forEach((function(r){n[r]=t(e[r],r)})),n}function Af(e){return Hu?new Promise((function(t,n){Wu.getImageInfo({src:e,success:function(e){t({width:e.width,height:e.height})},fail:function(){t({width:0,height:0})}})})):il&&9===al?Promise.resolve({width:0,height:0}):new Promise((function(t,n){var r=new Image;r.onload=function(){t({width:this.width,height:this.height}),r=null},r.onerror=function(){t({width:0,height:0}),r=null},r.src=e}))}function wf(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return"".concat(e()+e()).concat(e()).concat(e()).concat(e()).concat(e()).concat(e()).concat(e())}function Rf(){var e="unknown";if(ll&&(e="mac"),ul&&(e="windows"),el&&(e="ios"),nl&&(e="android"),Hu)try{var t=Wu.getSystemInfoSync().platform;void 0!==t&&(e=t)}catch(oS){}return e}function Df(e){var t=e.originUrl,n=void 0===t?void 0:t,r=e.originWidth,o=e.originHeight,i=e.min,a=void 0===i?198:i,s=parseInt(r),c=parseInt(o),u={url:void 0,width:0,height:0};if((s<=c?s:c)<=a)u.url=n,u.width=s,u.height=c;else{c<=s?(u.width=Math.ceil(s*a/c),u.height=a):(u.width=a,u.height=Math.ceil(c*a/s));var l=n&&n.indexOf("?")>-1?"".concat(n,"&"):"".concat(n,"?");u.url="".concat(l,198===a?"imageView2/3/w/198/h/198":"imageView2/3/w/720/h/720")}return Zl(n)?h(u,Kl):u}function Nf(e){var t=e[2];e[2]=e[1],e[1]=t;for(var n=0;n<e.length;n++)e[n].setType(n)}function kf(e){var t=e.servcmd;return t.slice(t.indexOf(".")+1)}function Lf(e,t){return Math.round(Number(e)*Math.pow(10,t))/Math.pow(10,t)}function Pf(e,t){return e.includes(t)}function xf(e,t){return e.includes(t)}function Gf(e){return e.split(Hl)[0]}var Uf=function(e,t){if(Zl(t))return"";switch(e){case ho.MSG_TEXT:return t.text;case ho.MSG_IMAGE:return"[图片]";case ho.MSG_LOCATION:return"[位置]";case ho.MSG_AUDIO:return"[语音]";case ho.MSG_VIDEO:return"[视频]";case ho.MSG_FILE:return"[文件]";case ho.MSG_CUSTOM:return"[自定义消息]";case ho.MSG_GRP_TIP:return"[群提示消息]";case ho.MSG_GRP_SYS_NOTICE:return"[群系统通知]";case ho.MSG_FACE:return"[动画表情]";case ho.MSG_MERGER:return"[聊天记录]";default:return""}},Ff=Object.prototype.hasOwnProperty;function jf(e){if(null==e)return!0;if("boolean"==typeof e)return!1;if("number"==typeof e)return 0===e;if("string"==typeof e)return 0===e.length;if("function"==typeof e)return 0===e.length;if(Array.isArray(e))return 0===e.length;if(e instanceof Error)return""===e.message;if(Xl(e)){for(var t in e)if(Ff.call(e,t))return!1;return!0}return!("map"!==rf(e)&&!function(e){return"set"===rf(e)}(e)&&!Wl(e))&&0===e.size}function qf(e,t,n){if(void 0===t)return!0;var r=!0;if("object"===Uo(t).toLowerCase())Object.keys(t).forEach((function(o){var i=1===e.length?e[0][o]:void 0;r=!!Bf(i,t[o],n,o)&&r}));else if("array"===Uo(t).toLowerCase())for(var o=0;o<t.length;o++)r=!!Bf(e[o],t[o],n,t[o].name)&&r;if(r)return r;throw new Error("Params validate failed.")}function Bf(e,t,n,r){if(void 0===t)return!0;var o=!0;return t.required&&jf(e)&&(Al.error("TIM [".concat(n,'] Missing required params: "').concat(r,'".')),o=!1),jf(e)||Uo(e).toLowerCase()===t.type.toLowerCase()||(Al.error("TIM [".concat(n,'] Invalid params: type check failed for "').concat(r,'".Expected ').concat(t.type,".")),o=!1),t.validator&&!t.validator(e)&&(Al.error("TIM [".concat(n,"] Invalid params: custom validator check failed for params.")),o=!1),o}var Vf={f:Ue},$f=D,Hf=rt.f,Kf=er.forEach,Wf=dt("hidden"),zf=Ue("toPrimitive"),Yf=Et.set,Jf=Et.getterFor("Symbol"),Xf=Object.prototype,Qf=D.Symbol,Zf=Qf&&Qf.prototype,ep=D.TypeError,tp=D.QObject,np=oe("JSON","stringify"),rp=ze.f,op=rt.f,ip=ps.f,ap=F.f,sp=H([].push),cp=Te("symbols"),up=Te("op-symbols"),lp=Te("string-to-symbol-registry"),fp=Te("symbol-to-string-registry"),pp=Te("wks"),dp=!tp||!tp.prototype||!tp.prototype.findChild,hp=k&&N((function(){return 7!=xn(op({},"a",{get:function(){return op(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=rp(Xf,t);r&&delete Xf[t],op(e,t,n),r&&e!==Xf&&op(Xf,t,r)}:op,gp=function(e,t){var n=cp[e]=xn(Zf);return Yf(n,{type:"Symbol",tag:e,description:t}),k||(n.description=t),n},vp=function(e,t,n){e===Xf&&vp(up,t,n),Qe(e);var r=Be(t);return Qe(n),we(cp,r)?(n.enumerable?(we(e,Wf)&&e[Wf][r]&&(e[Wf][r]=!1),n=xn(n,{enumerable:j(0,!1)})):(we(e,Wf)||op(e,Wf,j(1,{})),e[Wf][r]=!0),hp(e,r,n)):op(e,r,n)},mp=function(e,t){Qe(e);var n=ee(t),r=An(n).concat(Mp(n));return Kf(r,(function(t){k&&!x(_p,n,t)||vp(e,t,n[t])})),e},_p=function(e){var t=Be(e),n=x(ap,this,t);return!(this===Xf&&we(cp,t)&&!we(up,t))&&(!(n||!we(this,t)||!we(cp,t)||we(this,Wf)&&this[Wf][t])||n)},yp=function(e,t){var n=ee(e),r=Be(t);if(n!==Xf||!we(cp,r)||we(up,r)){var o=rp(n,r);return!o||!we(cp,r)||we(n,Wf)&&n[Wf][r]||(o.enumerable=!0),o}},bp=function(e){var t=ip(ee(e)),n=[];return Kf(t,(function(e){we(cp,e)||we(ht,e)||sp(n,e)})),n},Mp=function(e){var t=e===Xf,n=ip(t?up:ee(e)),r=[];return Kf(n,(function(e){!we(cp,e)||t&&!we(Xf,e)||sp(r,cp[e])})),r};if(pe||(Zf=(Qf=function(){if(ie(Zf,this))throw ep("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?pn(arguments[0]):void 0,t=ke(e),n=function(e){this===Xf&&x(n,up,e),we(this,Wf)&&we(this[Wf],t)&&(this[Wf][t]=!1),hp(this,t,j(1,e))};return k&&dp&&hp(Xf,t,{configurable:!0,set:n}),gp(t,e)}).prototype,Ct(Zf,"toString",(function(){return Jf(this).tag})),Ct(Qf,"withoutSetter",(function(e){return gp(ke(e),e)})),F.f=_p,rt.f=vp,wn.f=mp,ze.f=yp,$t.f=ps.f=bp,Ht.f=Mp,Vf.f=function(e){return gp(Ue(e),e)},k&&(op(Zf,"description",{configurable:!0,get:function(){return Jf(this).description}}),Ct(Xf,"propertyIsEnumerable",_p,{unsafe:!0}))),rn({global:!0,wrap:!0,forced:!pe,sham:!pe},{Symbol:Qf}),Kf(An(pp),(function(e){!function(e){var t=$f.Symbol||($f.Symbol={});we(t,e)||Hf(t,e,{value:Vf.f(e)})}(e)})),rn({target:"Symbol",stat:!0,forced:!pe},{for:function(e){var t=pn(e);if(we(lp,t))return lp[t];var n=Qf(t);return lp[t]=n,fp[n]=t,n},keyFor:function(e){if(!ge(e))throw ep(e+" is not a symbol");if(we(fp,e))return fp[e]},useSetter:function(){dp=!0},useSimple:function(){dp=!1}}),rn({target:"Object",stat:!0,forced:!pe,sham:!k},{create:function(e,t){return void 0===t?xn(e):mp(xn(e),t)},defineProperty:vp,defineProperties:mp,getOwnPropertyDescriptor:yp}),rn({target:"Object",stat:!0,forced:!pe},{getOwnPropertyNames:bp,getOwnPropertySymbols:Mp}),rn({target:"Object",stat:!0,forced:N((function(){Ht.f(1)}))},{getOwnPropertySymbols:function(e){return Ht.f(Ce(e))}}),np){var Ep=!pe||N((function(){var e=Qf();return"[null]"!=np([e])||"{}"!=np({a:e})||"{}"!=np(Object(e))}));rn({target:"JSON",stat:!0,forced:Ep},{stringify:function(e,t,n){var r=go(arguments),o=t;if((ne(t)||void 0!==e)&&!ge(e))return Fn(t)||(t=function(e,t){if(te(o)&&(t=x(o,this,e,t)),!ge(t))return t}),r[1]=t,Ia(np,null,r)}})}if(!Zf[zf]){var Ip=Zf.valueOf;Ct(Zf,zf,(function(e){return x(Ip,this)}))}Yr(Qf,"Symbol"),ht[Wf]=!0;var Sp=rt.f,Tp=D.Symbol,Op=Tp&&Tp.prototype;if(k&&te(Tp)&&(!("description"in Op)||void 0!==Tp().description)){var Cp={},Ap=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:pn(arguments[0]),t=ie(Op,this)?new Tp(e):void 0===e?Tp():Tp(e);return""===e&&(Cp[t]=!0),t};zt(Ap,Tp),Ap.prototype=Op,Op.constructor=Ap;var wp="Symbol(test)"==String(Tp("test")),Rp=H(Op.toString),Dp=H(Op.valueOf),Np=/^Symbol\((.*)\)[^)]+$/,kp=H("".replace),Lp=H("".slice);Sp(Op,"description",{configurable:!0,get:function(){var e=Dp(this),t=Rp(e);if(we(Cp,e))return"";var n=wp?Lp(t,7,-1):kp(t,Np,"$1");return""===n?void 0:n}}),rn({global:!0,forced:!0},{Symbol:Ap})}var Pp={UNSEND:"unSend",SUCCESS:"success",FAIL:"fail"},xp={NOT_START:"notStart",PENDING:"pengding",RESOLVED:"resolved",REJECTED:"rejected"},Gp=function(e){return!!e&&(!!(Sf(e)||Tf(e)||Of(e))||(console.warn("非法的会话 ID:".concat(e,"。会话 ID 组成方式：C2C + userID（单聊）GROUP + groupID（群聊）@TIM#SYSTEM（系统通知会话）")),!1))},Up="请参考 https://web.sdk.qcloud.com/im/doc/zh-cn/SDK.html#",Fp=function(e){return e.param?"".concat(e.api," ").concat(e.param," ").concat(e.desc,"。").concat(Up).concat(e.api):"".concat(e.api," ").concat(e.desc,"。").concat(Up).concat(e.api)},jp={type:"String",required:!0},qp={type:"Array",required:!0},Bp={type:"Object",required:!0},Vp={login:{userID:jp,userSig:jp},addToBlacklist:{userIDList:qp},on:[{name:"eventName",type:"String",validator:function(e){return"string"==typeof e&&0!==e.length||(console.warn(Fp({api:"on",param:"eventName",desc:"类型必须为 String，且不能为空"})),!1)}},{name:"handler",type:"Function",validator:function(e){return"function"!=typeof e?(console.warn(Fp({api:"on",param:"handler",desc:"参数必须为 Function"})),!1):(""===e.name&&console.warn("on 接口的 handler 参数推荐使用具名函数。具名函数可以使用 off 接口取消订阅，匿名函数无法取消订阅。"),!0)}}],once:[{name:"eventName",type:"String",validator:function(e){return"string"==typeof e&&0!==e.length||(console.warn(Fp({api:"once",param:"eventName",desc:"类型必须为 String，且不能为空"})),!1)}},{name:"handler",type:"Function",validator:function(e){return"function"!=typeof e?(console.warn(Fp({api:"once",param:"handler",desc:"参数必须为 Function"})),!1):(""===e.name&&console.warn("once 接口的 handler 参数推荐使用具名函数。"),!0)}}],off:[{name:"eventName",type:"String",validator:function(e){return"string"==typeof e&&0!==e.length||(console.warn(Fp({api:"off",param:"eventName",desc:"类型必须为 String，且不能为空"})),!1)}},{name:"handler",type:"Function",validator:function(e){return"function"!=typeof e?(console.warn(Fp({api:"off",param:"handler",desc:"参数必须为 Function"})),!1):(""===e.name&&console.warn("off 接口无法为匿名函数取消监听事件。"),!0)}}],sendMessage:[n({name:"message"},Bp)],getMessageList:{conversationID:n(n({},jp),{},{validator:function(e){return Gp(e)}}),nextReqMessageID:{type:"String"},count:{type:"Number",validator:function(e){return!(!Zl(e)&&!/^[1-9][0-9]*$/.test(e))||(console.warn(Fp({api:"getMessageList",param:"count",desc:"必须为正整数"})),!1)}}},getMessageListHopping:{conversationID:n(n({},jp),{},{validator:function(e){return Gp(e)}}),sequence:{type:"Number"},time:{type:"Number"},direction:{type:"Number",validator:function(e){return!(!Zl(e)&&0!==e&&1!==e)||(console.warn(Fp({api:"getMessageListHopping",param:"direction",desc:"必须传 0 或 1"})),!1)}},count:{type:"Number",validator:function(e){return!(!Zl(e)&&!/^[1-9][0-9]*$/.test(e))||(console.warn(Fp({api:"getMessageListHopping",param:"count",desc:"必须为正整数"})),!1)}}},setMessageRead:{conversationID:n(n({},jp),{},{validator:function(e){return Gp(e)}})},setAllMessageRead:{scope:{type:"String",required:!1,validator:function(e){return!e||-1!==[ho.READ_ALL_C2C_MSG,ho.READ_ALL_GROUP_MSG,ho.READ_ALL_MSG].indexOf(e)||(console.warn(Fp({api:"setAllMessageRead",param:"scope",desc:"取值必须为 TIM.TYPES.READ_ALL_C2C_MSG, TIM.TYPES.READ_ALL_GROUP_MSG 或 TIM.TYPES.READ_ALL_MSG"})),!1)}}},getConversationProfile:[n(n({name:"conversationID"},jp),{},{validator:function(e){return Gp(e)}})],deleteConversation:[n(n({name:"conversationID"},jp),{},{validator:function(e){return Gp(e)}})],pinConversation:{conversationID:n(n({},jp),{},{validator:function(e){return Gp(e)}}),isPinned:n({},{type:"Boolean",required:!0})},getConversationList:[{name:"options",type:"Array",validator:function(e){return!!Zl(e)||0!==e.length||(console.warn(Fp({api:"getConversationList",desc:"获取指定会话时不能传入空数组"})),!1)}}],getGroupList:{groupProfileFilter:{type:"Array"}},getGroupProfile:{groupID:jp,groupCustomFieldFilter:{type:"Array"},memberCustomFieldFilter:{type:"Array"}},getGroupProfileAdvance:{groupIDList:qp},createGroup:{name:jp},joinGroup:{groupID:jp,type:{type:"String"},applyMessage:{type:"String"}},quitGroup:[n({name:"groupID"},jp)],handleApplication:{message:Bp,handleAction:jp,handleMessage:{type:"String"}},changeGroupOwner:{groupID:jp,newOwnerID:jp},updateGroupProfile:{groupID:jp,muteAllMembers:{type:"Boolean"}},dismissGroup:[n({name:"groupID"},jp)],searchGroupByID:[n({name:"groupID"},jp)],initGroupAttributes:{groupID:jp,groupAttributes:n(n({},Bp),{},{validator:function(e){var t=!0;return Object.keys(e).forEach((function(n){if(!Yl(e[n]))return console.warn(Fp({api:"initGroupAttributes",desc:"群属性 value 必须是字符串"})),t=!1})),t}})},setGroupAttributes:{groupID:jp,groupAttributes:n(n({},Bp),{},{validator:function(e){var t=!0;return Object.keys(e).forEach((function(n){if(!Yl(e[n]))return console.warn(Fp({api:"setGroupAttributes",desc:"群属性 value 必须是字符串"})),t=!1})),t}})},deleteGroupAttributes:{groupID:jp,keyList:{type:"Array",validator:function(e){if(Zl(e))return console.warn(Fp({api:"deleteGroupAttributes",desc:"缺少必填参数：keyList"})),!1;if(!Ql(e))return!1;if(!jf(e)){var t=!0;return e.forEach((function(e){if(!Yl(e))return console.warn(Fp({api:"deleteGroupAttributes",desc:"群属性 key 必须是字符串"})),t=!1})),t}return!0}}},getGroupAttributes:{groupID:jp,keyList:{type:"Array",validator:function(e){if(Zl(e))return console.warn(Fp({api:"getGroupAttributes",desc:"缺少必填参数：keyList"})),!1;if(!Ql(e))return!1;if(!jf(e)){var t=!0;return e.forEach((function(e){if(!Yl(e))return console.warn(Fp({api:"getGroupAttributes",desc:"群属性 key 必须是字符串"})),t=!1})),t}return!0}}},getGroupMemberList:{groupID:jp,count:{type:"Number"}},getGroupMemberProfile:{groupID:jp,userIDList:qp,memberCustomFieldFilter:{type:"Array"}},addGroupMember:{groupID:jp,userIDList:qp},setGroupMemberRole:{groupID:jp,userID:jp,role:jp},setGroupMemberMuteTime:{groupID:jp,userID:jp,muteTime:{type:"Number",validator:function(e){return e>=0}}},setGroupMemberNameCard:{groupID:jp,userID:{type:"String"},nameCard:{type:"String",validator:function(e){return Yl(e)?(e.length,!0):(console.warn(Fp({api:"setGroupMemberNameCard",param:"nameCard",desc:"类型必须为 String"})),!1)}}},setGroupMemberCustomField:{groupID:jp,userID:{type:"String"},memberCustomField:qp},deleteGroupMember:{groupID:jp},createTextMessage:{to:jp,conversationType:jp,payload:n(n({},Bp),{},{validator:function(e){return Xl(e)?Yl(e.text)?0!==e.text.length||(console.warn(Fp({api:"createTextMessage",desc:"消息内容不能为空"})),!1):(console.warn(Fp({api:"createTextMessage",param:"payload.text",desc:"类型必须为 String"})),!1):(console.warn(Fp({api:"createTextMessage",param:"payload",desc:"类型必须为 plain object"})),!1)}})},createTextAtMessage:{to:jp,conversationType:jp,payload:n(n({},Bp),{},{validator:function(e){return Xl(e)?Yl(e.text)?0===e.text.length?(console.warn(Fp({api:"createTextAtMessage",desc:"消息内容不能为空"})),!1):!(e.atUserList&&!Ql(e.atUserList))||(console.warn(Fp({api:"createTextAtMessage",desc:"payload.atUserList 类型必须为数组"})),!1):(console.warn(Fp({api:"createTextAtMessage",param:"payload.text",desc:"类型必须为 String"})),!1):(console.warn(Fp({api:"createTextAtMessage",param:"payload",desc:"类型必须为 plain object"})),!1)}})},createCustomMessage:{to:jp,conversationType:jp,payload:n(n({},Bp),{},{validator:function(e){return Xl(e)?e.data&&!Yl(e.data)?(console.warn(Fp({api:"createCustomMessage",param:"payload.data",desc:"类型必须为 String"})),!1):e.description&&!Yl(e.description)?(console.warn(Fp({api:"createCustomMessage",param:"payload.description",desc:"类型必须为 String"})),!1):!(e.extension&&!Yl(e.extension))||(console.warn(Fp({api:"createCustomMessage",param:"payload.extension",desc:"类型必须为 String"})),!1):(console.warn(Fp({api:"createCustomMessage",param:"payload",desc:"类型必须为 plain object"})),!1)}})},createImageMessage:{to:jp,conversationType:jp,payload:n(n({},Bp),{},{validator:function(e){if(!Xl(e))return console.warn(Fp({api:"createImageMessage",param:"payload",desc:"类型必须为 plain object"})),!1;if(Zl(e.file))return console.warn(Fp({api:"createImageMessage",param:"payload.file",desc:"不能为 undefined"})),!1;if(Ku){if(!(e.file instanceof HTMLInputElement||Wl(e.file)))return Xl(e.file)&&"undefined"!=typeof uni?0!==e.file.tempFilePaths.length&&0!==e.file.tempFiles.length||(console.warn(Fp({api:"createImageMessage",param:"payload.file",desc:"您没有选择文件，无法发送"})),!1):(console.warn(Fp({api:"createImageMessage",param:"payload.file",desc:"类型必须是 HTMLInputElement 或 File"})),!1);if(e.file instanceof HTMLInputElement&&0===e.file.files.length)return console.warn(Fp({api:"createImageMessage",param:"payload.file",desc:"您没有选择文件，无法发送"})),!1}return!0},onProgress:{type:"Function",required:!1,validator:function(e){return Zl(e)&&console.warn(Fp({api:"createImageMessage",desc:"没有 onProgress 回调，您将无法获取上传进度"})),!0}}})},createAudioMessage:{to:jp,conversationType:jp,payload:n(n({},Bp),{},{validator:function(e){return!!Xl(e)||(console.warn(Fp({api:"createAudioMessage",param:"payload",desc:"类型必须为 plain object"})),!1)}}),onProgress:{type:"Function",required:!1,validator:function(e){return Zl(e)&&console.warn(Fp({api:"createAudioMessage",desc:"没有 onProgress 回调，您将无法获取上传进度"})),!0}}},createVideoMessage:{to:jp,conversationType:jp,payload:n(n({},Bp),{},{validator:function(e){if(!Xl(e))return console.warn(Fp({api:"createVideoMessage",param:"payload",desc:"类型必须为 plain object"})),!1;if(Zl(e.file))return console.warn(Fp({api:"createVideoMessage",param:"payload.file",desc:"不能为 undefined"})),!1;if(Ku){if(!(e.file instanceof HTMLInputElement||Wl(e.file)))return Xl(e.file)&&"undefined"!=typeof uni?!!Wl(e.file.tempFile)||(console.warn(Fp({api:"createVideoMessage",param:"payload.file",desc:"您没有选择文件，无法发送"})),!1):(console.warn(Fp({api:"createVideoMessage",param:"payload.file",desc:"类型必须是 HTMLInputElement 或 File"})),!1);if(e.file instanceof HTMLInputElement&&0===e.file.files.length)return console.warn(Fp({api:"createVideoMessage",param:"payload.file",desc:"您没有选择文件，无法发送"})),!1}return!0}}),onProgress:{type:"Function",required:!1,validator:function(e){return Zl(e)&&console.warn(Fp({api:"createVideoMessage",desc:"没有 onProgress 回调，您将无法获取上传进度"})),!0}}},createFaceMessage:{to:jp,conversationType:jp,payload:n(n({},Bp),{},{validator:function(e){return Xl(e)?zl(e.index)?!!Yl(e.data)||(console.warn(Fp({api:"createFaceMessage",param:"payload.data",desc:"类型必须为 String"})),!1):(console.warn(Fp({api:"createFaceMessage",param:"payload.index",desc:"类型必须为 Number"})),!1):(console.warn(Fp({api:"createFaceMessage",param:"payload",desc:"类型必须为 plain object"})),!1)}})},createFileMessage:{to:jp,conversationType:jp,payload:n(n({},Bp),{},{validator:function(e){if(!Xl(e))return console.warn(Fp({api:"createFileMessage",param:"payload",desc:"类型必须为 plain object"})),!1;if(Zl(e.file))return console.warn(Fp({api:"createFileMessage",param:"payload.file",desc:"不能为 undefined"})),!1;if(Ku){if(!(e.file instanceof HTMLInputElement||Wl(e.file)))return Xl(e.file)&&"undefined"!=typeof uni?0!==e.file.tempFilePaths.length&&0!==e.file.tempFiles.length||(console.warn(Fp({api:"createFileMessage",param:"payload.file",desc:"您没有选择文件，无法发送"})),!1):(console.warn(Fp({api:"createFileMessage",param:"payload.file",desc:"类型必须是 HTMLInputElement 或 File"})),!1);if(e.file instanceof HTMLInputElement&&0===e.file.files.length)return console.warn(Fp({api:"createFileMessage",desc:"您没有选择文件，无法发送"})),!1}return!0}}),onProgress:{type:"Function",required:!1,validator:function(e){return Zl(e)&&console.warn(Fp({api:"createFileMessage",desc:"没有 onProgress 回调，您将无法获取上传进度"})),!0}}},createLocationMessage:{to:jp,conversationType:jp,payload:n(n({},Bp),{},{validator:function(e){return Xl(e)?Yl(e.description)?zl(e.longitude)?!!zl(e.latitude)||(console.warn(Fp({api:"createLocationMessage",param:"payload.latitude",desc:"类型必须为 Number"})),!1):(console.warn(Fp({api:"createLocationMessage",param:"payload.longitude",desc:"类型必须为 Number"})),!1):(console.warn(Fp({api:"createLocationMessage",param:"payload.description",desc:"类型必须为 String"})),!1):(console.warn(Fp({api:"createLocationMessage",param:"payload",desc:"类型必须为 plain object"})),!1)}})},createMergerMessage:{to:jp,conversationType:jp,payload:n(n({},Bp),{},{validator:function(e){if(jf(e.messageList))return console.warn(Fp({api:"createMergerMessage",desc:"不能为空数组"})),!1;if(jf(e.compatibleText))return console.warn(Fp({api:"createMergerMessage",desc:"类型必须为 String，且不能为空"})),!1;var t=!1;return e.messageList.forEach((function(e){e.status===Pp.FAIL&&(t=!0)})),!t||(console.warn(Fp({api:"createMergerMessage",desc:"不支持合并已发送失败的消息"})),!1)}})},revokeMessage:[n(n({name:"message"},Bp),{},{validator:function(e){return jf(e)?(console.warn(Fp({api:"revokeMessage",desc:"请传入消息（Message）实例"})),!1):e.conversationType===ho.CONV_SYSTEM?(console.warn(Fp({api:"revokeMessage",desc:"不能撤回系统会话消息，只能撤回单聊消息或群消息"})),!1):!0!==e.isRevoked||(console.warn(Fp({api:"revokeMessage",desc:"消息已经被撤回，请勿重复操作"})),!1)}})],deleteMessage:[n(n({name:"messageList"},qp),{},{validator:function(e){return!jf(e)||(console.warn(Fp({api:"deleteMessage",param:"messageList",desc:"不能为空数组"})),!1)}})],modifyMessage:[n(n({name:"message"},Bp),{},{validator:function(e){return jf(e)?(console.warn(Fp({api:"modifyMessage",desc:"请传入消息（Message）实例"})),!1):e.conversationType===ho.CONV_SYSTEM?(console.warn(Fp({api:"modifyMessage",desc:"不支持修改系统会话消息，只能修改单聊消息或群消息"})),!1):!0===e._onlineOnlyFlag?(console.warn(Fp({api:"modifyMessage",desc:"不支持修改在线消息"})),!1):-1!==[ho.MSG_TEXT,ho.MSG_CUSTOM,ho.MSG_LOCATION,ho.MSG_FACE].indexOf(e.type)||(console.warn(Fp({api:"modifyMessage",desc:"只支持修改文本消息、自定义消息、地理位置消息和表情消息"})),!1)}})],getUserProfile:{userIDList:{type:"Array",validator:function(e){return Ql(e)?(0===e.length&&console.warn(Fp({api:"getUserProfile",param:"userIDList",desc:"不能为空数组"})),!0):(console.warn(Fp({api:"getUserProfile",param:"userIDList",desc:"必须为数组"})),!1)}}},updateMyProfile:{profileCustomField:{type:"Array",validator:function(e){return!!Zl(e)||!!Ql(e)||(console.warn(Fp({api:"updateMyProfile",param:"profileCustomField",desc:"必须为数组"})),!1)}}},addFriend:{to:jp,source:{type:"String",required:!0,validator:function(e){return!!e&&(e.startsWith("AddSource_Type_")?!(e.replace("AddSource_Type_","").length>8)||(console.warn(Fp({api:"addFriend",desc:"加好友来源字段的关键字长度不得超过8字节"})),!1):(console.warn(Fp({api:"addFriend",desc:"加好友来源字段的前缀必须是：AddSource_Type_"})),!1))}},remark:{type:"String",required:!1,validator:function(e){return!(Yl(e)&&e.length>96)||(console.warn(Fp({api:"updateFriend",desc:" 备注长度最长不得超过 96 个字节"})),!1)}}},deleteFriend:{userIDList:qp},checkFriend:{userIDList:qp},getFriendProfile:{userIDList:qp},updateFriend:{userID:jp,remark:{type:"String",required:!1,validator:function(e){return!(Yl(e)&&e.length>96)||(console.warn(Fp({api:"updateFriend",desc:" 备注长度最长不得超过 96 个字节"})),!1)}},friendCustomField:{type:"Array",required:!1,validator:function(e){if(e){if(!Ql(e))return console.warn(Fp({api:"updateFriend",param:"friendCustomField",desc:"必须为数组"})),!1;var t=!0;return e.forEach((function(e){return Yl(e.key)&&-1!==e.key.indexOf("Tag_SNS_Custom")?Yl(e.value)?e.value.length>8?(console.warn(Fp({api:"updateFriend",desc:"好友自定义字段的关键字长度不得超过8字节"})),t=!1):void 0:(console.warn(Fp({api:"updateFriend",desc:"类型必须为 String"})),t=!1):(console.warn(Fp({api:"updateFriend",desc:"好友自定义字段的前缀必须是 Tag_SNS_Custom"})),t=!1)})),t}return!0}}},acceptFriendApplication:{userID:jp},refuseFriendApplication:{userID:jp},deleteFriendApplication:{userID:jp},createFriendGroup:{name:jp},deleteFriendGroup:{name:jp},addToFriendGroup:{name:jp,userIDList:qp},removeFromFriendGroup:{name:jp,userIDList:qp},renameFriendGroup:{oldName:jp,newName:jp},sendMessageReadReceipt:[{name:"messageList",type:"Array",validator:function(e){return Ql(e)?0!==e.length||(console.warn(Fp({api:"sendMessageReadReceipt",param:"messageList",desc:"不能为空数组"})),!1):(console.warn(Fp({api:"sendMessageReadReceipt",param:"messageList",desc:"必须为数组"})),!1)}}],getMessageReadReceiptList:[{name:"messageList",type:"Array",validator:function(e){return Ql(e)?0!==e.length||(console.warn(Fp({api:"getMessageReadReceiptList",param:"messageList",desc:"不能为空数组"})),!1):(console.warn(Fp({api:"getMessageReadReceiptList",param:"messageList",desc:"必须为数组"})),!1)}}],createTopicInCommunity:{groupID:jp,topicName:jp},deleteTopicFromCommunity:{groupID:jp,topicIDList:{type:"Array",validator:function(e){return!e||!!Ql(e)||(console.warn(Fp({api:"deleteTopicFromCommunity",param:"topicIDList",desc:"必须为数组"})),!1)}}},updateTopicProfile:{groupID:jp,topicID:jp},getTopicList:{groupID:jp,topicIDList:{type:"Array",validator:function(e){return!e||!!Ql(e)||(console.warn(Fp({api:"getTopicList",param:"topicIDList",desc:"必须为数组"})),!1)}}}},$p={login:"login",logout:"logout",on:"on",once:"once",off:"off",setLogLevel:"setLogLevel",registerPlugin:"registerPlugin",destroy:"destroy",createTextMessage:"createTextMessage",createTextAtMessage:"createTextAtMessage",createImageMessage:"createImageMessage",createAudioMessage:"createAudioMessage",createVideoMessage:"createVideoMessage",createCustomMessage:"createCustomMessage",createFaceMessage:"createFaceMessage",createFileMessage:"createFileMessage",createLocationMessage:"createLocationMessage",createMergerMessage:"createMergerMessage",downloadMergerMessage:"downloadMergerMessage",createForwardMessage:"createForwardMessage",sendMessage:"sendMessage",resendMessage:"resendMessage",revokeMessage:"revokeMessage",deleteMessage:"deleteMessage",modifyMessage:"modifyMessage",sendMessageReadReceipt:"sendMessageReadReceipt",getGroupMessageReadMemberList:"getGroupMessageReadMemberList",getMessageReadReceiptList:"getMessageReadReceiptList",getMessageList:"getMessageList",findMessage:"findMessage",getMessageListHopping:"getMessageListHopping",setMessageRead:"setMessageRead",setAllMessageRead:"setAllMessageRead",getConversationList:"getConversationList",getConversationProfile:"getConversationProfile",deleteConversation:"deleteConversation",pinConversation:"pinConversation",getGroupList:"getGroupList",getGroupProfile:"getGroupProfile",createGroup:"createGroup",joinGroup:"joinGroup",updateGroupProfile:"updateGroupProfile",quitGroup:"quitGroup",dismissGroup:"dismissGroup",changeGroupOwner:"changeGroupOwner",searchGroupByID:"searchGroupByID",setMessageRemindType:"setMessageRemindType",handleGroupApplication:"handleGroupApplication",initGroupAttributes:"initGroupAttributes",setGroupAttributes:"setGroupAttributes",deleteGroupAttributes:"deleteGroupAttributes",getGroupAttributes:"getGroupAttributes",getJoinedCommunityList:"getJoinedCommunityList",createTopicInCommunity:"createTopicInCommunity",deleteTopicFromCommunity:"deleteTopicFromCommunity",updateTopicProfile:"updateTopicProfile",getTopicList:"getTopicList",getGroupMemberProfile:"getGroupMemberProfile",getGroupMemberList:"getGroupMemberList",addGroupMember:"addGroupMember",deleteGroupMember:"deleteGroupMember",setGroupMemberNameCard:"setGroupMemberNameCard",setGroupMemberMuteTime:"setGroupMemberMuteTime",setGroupMemberRole:"setGroupMemberRole",setGroupMemberCustomField:"setGroupMemberCustomField",getGroupOnlineMemberCount:"getGroupOnlineMemberCount",getMyProfile:"getMyProfile",getUserProfile:"getUserProfile",updateMyProfile:"updateMyProfile",getBlacklist:"getBlacklist",addToBlacklist:"addToBlacklist",removeFromBlacklist:"removeFromBlacklist",getFriendList:"getFriendList",addFriend:"addFriend",deleteFriend:"deleteFriend",checkFriend:"checkFriend",updateFriend:"updateFriend",getFriendProfile:"getFriendProfile",getFriendApplicationList:"getFriendApplicationList",refuseFriendApplication:"refuseFriendApplication",deleteFriendApplication:"deleteFriendApplication",acceptFriendApplication:"acceptFriendApplication",setFriendApplicationRead:"setFriendApplicationRead",getFriendGroupList:"getFriendGroupList",createFriendGroup:"createFriendGroup",renameFriendGroup:"renameFriendGroup",deleteFriendGroup:"deleteFriendGroup",addToFriendGroup:"addToFriendGroup",removeFromFriendGroup:"removeFromFriendGroup",callExperimentalAPI:"callExperimentalAPI"},Hp=!!As&&N((function(){As.prototype.finally.call({then:function(){}},(function(){}))}));if(rn({target:"Promise",proto:!0,real:!0,forced:Hp},{finally:function(e){var t=qs(this,oe("Promise")),n=te(e);return this.then(n?function(n){return Cc(t,e()).then((function(){return n}))}:e,n?function(n){return Cc(t,e()).then((function(){throw n}))}:e)}}),te(As)){var Kp=oe("Promise").prototype.finally;As.prototype.finally!==Kp&&Ct(As.prototype,"finally",Kp,{unsafe:!0})}var Wp=/MSIE .\./.test(ae),zp=D.Function,Yp=function(e){return function(t,n){var r=Vs(arguments.length,1)>2,o=te(t)?t:zp(t),i=r?go(arguments,2):void 0;return e(r?function(){Ia(o,this,i)}:o,n)}};rn({global:!0,bind:!0,forced:Wp},{setTimeout:Yp(D.setTimeout),setInterval:Yp(D.setInterval)});var Jp=er.filter,Xp=Io("filter");rn({target:"Array",proto:!0,forced:!Xp},{filter:function(e){return Jp(this,e,arguments.length>1?arguments[1]:void 0)}});var Qp,Zp="sign",ed="message",td="user",nd="c2c",rd="group",od="sns",id="groupMember",ad="Topic",sd="conversation",cd="context",ud="storage",ld="eventStat",fd="netMonitor",pd="bigDataChannel",dd="upload",hd="plugin",gd="syncUnreadMessage",vd="session",md="channel",_d="message_loss_detection",yd="cloudControl",bd="workerTimer",Md="pullGroupMessage",Ed="qualityStat",Id="commercialConfig",Sd=function(){function e(t){o(this,e),this._moduleManager=t,this._className=""}return a(e,[{key:"isLoggedIn",value:function(){return this._moduleManager.getModule(cd).isLoggedIn()}},{key:"isOversea",value:function(){return this._moduleManager.getModule(cd).isOversea()}},{key:"getMyUserID",value:function(){return this._moduleManager.getModule(cd).getUserID()}},{key:"getMyTinyID",value:function(){return this._moduleManager.getModule(cd).getTinyID()}},{key:"getModule",value:function(e){return this._moduleManager.getModule(e)}},{key:"getPlatform",value:function(){return zu}},{key:"getNetworkType",value:function(){return this._moduleManager.getModule(fd).getNetworkType()}},{key:"probeNetwork",value:function(e){return this._moduleManager.getModule(fd).probe(e)}},{key:"getCloudConfig",value:function(e){return this._moduleManager.getModule(yd).getCloudConfig(e)}},{key:"emitOuterEvent",value:function(e,t){this._moduleManager.getOuterEmitterInstance().emit(e,t)}},{key:"emitInnerEvent",value:function(e,t){this._moduleManager.getInnerEmitterInstance().emit(e,t)}},{key:"getInnerEmitterInstance",value:function(){return this._moduleManager.getInnerEmitterInstance()}},{key:"generateTjgID",value:function(e){return this._moduleManager.getModule(cd).getTinyID()+"-"+e.random}},{key:"filterModifiedMessage",value:function(e){if(!jf(e)){var t=e.filter((function(e){return!0===e.isModified}));t.length>0&&this.emitOuterEvent(po.MESSAGE_MODIFIED,t)}}},{key:"filterUnmodifiedMessage",value:function(e){return jf(e)?[]:e.filter((function(e){return!1===e.isModified}))}},{key:"request",value:function(e){return this._moduleManager.getModule(vd).request(e)}},{key:"canIUse",value:function(e){return this._moduleManager.getModule(Id).hasPurchasedFeature(e)}}]),e}(),Td="wslogin",Od="wslogout",Cd="wshello",Ad="KickOther",wd="getmsg",Rd="authkey",Dd="sendmsg",Nd="send_group_msg",kd="portrait_get_all",Ld="portrait_set",Pd="black_list_get",xd="black_list_add",Gd="black_list_delete",Ud="msgwithdraw",Fd="msgreaded",jd="set_c2c_peer_mute_notifications",qd="get_c2c_peer_mute_notifications",Bd="getroammsg",Vd="get_peer_read_time",$d="delete_c2c_msg_ramble",Hd="modify_c2c_msg",Kd="page_get",Wd="get",zd="delete",Yd="top",Jd="deletemsg",Xd="get_joined_group_list",Qd="get_group_self_member_info",Zd="create_group",eh="destroy_group",th="modify_group_base_info",nh="apply_join_group",rh="apply_join_group_noauth",oh="quit_group",ih="get_group_public_info",ah="change_group_owner",sh="handle_apply_join_group",ch="handle_invite_join_group",uh="group_msg_recall",lh="msg_read_report",fh="read_all_unread_msg",ph="group_msg_get",dh="get_group_msg_receipt",hh="group_msg_receipt",gh="c2c_msg_read_receipt",vh="get_group_msg_receipt_detail",mh="get_pendency",_h="deletemsg",yh="get_msg",bh="get_msg_noauth",Mh="get_online_member_num",Eh="delete_group_ramble_msg_by_seq",Ih="modify_group_msg",Sh="set_group_attr",Th="modify_group_attr",Oh="delete_group_attr",Ch="clear_group_attr",Ah="get_group_attr",wh="get_group_member_info",Rh="get_specified_group_member_info",Dh="add_group_member",Nh="delete_group_member",kh="modify_group_member_info",Lh="cos",Ph="pre_sig",xh="video_cover",Gh="tim_web_report_v2",Uh="alive",Fh="msg_push",jh="multi_msg_push_ws",qh="ws_msg_push_ack",Bh="stat_forceoffline",Vh="save_relay_json_msg",$h="get_relay_json_msg",Hh="fetch_config",Kh="push_configv2",Wh="fetch_imsdk_purchase_bitsv2",zh="push_imsdk_purchase_bitsv2",Yh="notify2",Jh="create_topic",Xh="destroy_topic",Qh="modify_topic",Zh="get_topic",eg={NO_SDKAPPID:2e3,NO_ACCOUNT_TYPE:2001,NO_IDENTIFIER:2002,NO_USERSIG:2003,NO_TINYID:2022,NO_A2KEY:2023,USER_NOT_LOGGED_IN:2024,REPEAT_LOGIN:2025,COS_UNDETECTED:2040,COS_GET_SIG_FAIL:2041,MESSAGE_SEND_FAIL:2100,MESSAGE_LIST_CONSTRUCTOR_NEED_OPTIONS:2103,MESSAGE_SEND_NEED_MESSAGE_INSTANCE:2105,MESSAGE_SEND_INVALID_CONVERSATION_TYPE:2106,MESSAGE_FILE_IS_EMPTY:2108,MESSAGE_ONPROGRESS_FUNCTION_ERROR:2109,MESSAGE_REVOKE_FAIL:2110,MESSAGE_DELETE_FAIL:2111,MESSAGE_UNREAD_ALL_FAIL:2112,MESSAGE_CONTROL_INFO_FAIL:2113,READ_RECEIPT_MESSAGE_LIST_EMPTY:2114,MESSAGE_SEND_GROUP_WITH_TOPIC_FAIL:2115,MESSAGE_IMAGE_SELECT_FILE_FIRST:2251,MESSAGE_IMAGE_TYPES_LIMIT:2252,MESSAGE_IMAGE_SIZE_LIMIT:2253,MESSAGE_AUDIO_UPLOAD_FAIL:2300,MESSAGE_AUDIO_SIZE_LIMIT:2301,MESSAGE_VIDEO_UPLOAD_FAIL:2350,MESSAGE_VIDEO_SIZE_LIMIT:2351,MESSAGE_VIDEO_TYPES_LIMIT:2352,MESSAGE_FILE_UPLOAD_FAIL:2400,MESSAGE_FILE_SELECT_FILE_FIRST:2401,MESSAGE_FILE_SIZE_LIMIT:2402,MESSAGE_FILE_URL_IS_EMPTY:2403,MESSAGE_MERGER_TYPE_INVALID:2450,MESSAGE_MERGER_KEY_INVALID:2451,MESSAGE_MERGER_DOWNLOAD_FAIL:2452,MESSAGE_FORWARD_TYPE_INVALID:2453,MESSAGE_AT_TYPE_INVALID:2454,MESSAGE_MODIFY_CONFLICT:2480,MESSAGE_MODIFY_DISABLED_IN_AVCHATROOM:2481,CONVERSATION_NOT_FOUND:2500,USER_OR_GROUP_NOT_FOUND:2501,CONVERSATION_UN_RECORDED_TYPE:2502,ILLEGAL_GROUP_TYPE:2600,CANNOT_JOIN_WORK:2601,ILLEGAL_GROUP_ID:2602,CANNOT_CHANGE_OWNER_IN_AVCHATROOM:2620,CANNOT_CHANGE_OWNER_TO_SELF:2621,CANNOT_DISMISS_Work:2622,MEMBER_NOT_IN_GROUP:2623,CANNOT_USE_GRP_ATTR_NOT_AVCHATROOM:2641,CANNOT_USE_GRP_ATTR_AVCHATROOM_UNJOIN:2642,JOIN_GROUP_FAIL:2660,CANNOT_ADD_MEMBER_IN_AVCHATROOM:2661,CANNOT_JOIN_NON_AVCHATROOM_WITHOUT_LOGIN:2662,CANNOT_KICK_MEMBER_IN_AVCHATROOM:2680,NOT_OWNER:2681,CANNOT_SET_MEMBER_ROLE_IN_WORK_AND_AVCHATROOM:2682,INVALID_MEMBER_ROLE:2683,CANNOT_SET_SELF_MEMBER_ROLE:2684,CANNOT_MUTE_SELF:2685,NOT_MY_FRIEND:2700,ALREADY_MY_FRIEND:2701,FRIEND_GROUP_EXISTED:2710,FRIEND_GROUP_NOT_EXIST:2711,FRIEND_APPLICATION_NOT_EXIST:2716,UPDATE_PROFILE_INVALID_PARAM:2721,UPDATE_PROFILE_NO_KEY:2722,ADD_BLACKLIST_INVALID_PARAM:2740,DEL_BLACKLIST_INVALID_PARAM:2741,CANNOT_ADD_SELF_TO_BLACKLIST:2742,ADD_FRIEND_INVALID_PARAM:2760,NETWORK_ERROR:2800,NETWORK_TIMEOUT:2801,NETWORK_BASE_OPTIONS_NO_URL:2802,NETWORK_UNDEFINED_SERVER_NAME:2803,NETWORK_PACKAGE_UNDEFINED:2804,NO_NETWORK:2805,CONVERTOR_IRREGULAR_PARAMS:2900,NOTICE_RUNLOOP_UNEXPECTED_CONDITION:2901,NOTICE_RUNLOOP_OFFSET_LOST:2902,UNCAUGHT_ERROR:2903,GET_LONGPOLL_ID_FAILED:2904,INVALID_OPERATION:2905,OVER_FREQUENCY_LIMIT:2996,CANNOT_FIND_PROTOCOL:2997,CANNOT_FIND_MODULE:2998,SDK_IS_NOT_READY:2999,LOGGING_IN:3e3,LOGIN_FAILED:3001,KICKED_OUT_MULT_DEVICE:3002,KICKED_OUT_MULT_ACCOUNT:3003,KICKED_OUT_USERSIG_EXPIRED:3004,LOGGED_OUT:3005,KICKED_OUT_REST_API:3006,ILLEGAL_TOPIC_ID:3021,LONG_POLL_KICK_OUT:91101,MESSAGE_A2KEY_EXPIRED:20002,ACCOUNT_A2KEY_EXPIRED:70001,LONG_POLL_API_PARAM_ERROR:90001,HELLO_ANSWER_KICKED_OUT:1002,OPEN_SERVICE_OVERLOAD_ERROR:60022},tg={NO_SDKAPPID:"无 SDKAppID",NO_ACCOUNT_TYPE:"无 accountType",NO_IDENTIFIER:"无 userID",NO_USERSIG:"无 userSig",NO_TINYID:"无 tinyID",NO_A2KEY:"无 a2key",USER_NOT_LOGGED_IN:"用户未登录",REPEAT_LOGIN:"重复登录",COS_UNDETECTED:"未检测到 COS 上传插件",COS_GET_SIG_FAIL:"获取 COS 预签名 URL 失败",MESSAGE_SEND_FAIL:"消息发送失败",MESSAGE_LIST_CONSTRUCTOR_NEED_OPTIONS:"MessageController.constructor() 需要参数 options",MESSAGE_SEND_NEED_MESSAGE_INSTANCE:"需要 Message 的实例",MESSAGE_SEND_INVALID_CONVERSATION_TYPE:'Message.conversationType 只能为 "C2C" 或 "GROUP"',MESSAGE_FILE_IS_EMPTY:"无法发送空文件",MESSAGE_ONPROGRESS_FUNCTION_ERROR:"回调函数运行时遇到错误，请检查接入侧代码",MESSAGE_REVOKE_FAIL:"消息撤回失败",MESSAGE_DELETE_FAIL:"消息删除失败",MESSAGE_UNREAD_ALL_FAIL:"设置所有未读消息为已读处理失败",MESSAGE_CONTROL_INFO_FAIL:"社群不支持消息发送控制选项",READ_RECEIPT_MESSAGE_LIST_EMPTY:"消息列表中没有需要发送已读回执的消息",MESSAGE_SEND_GROUP_WITH_TOPIC_FAIL:"不能在支持话题的群组中发消息，请检查群组 isSupportTopic 属性",MESSAGE_IMAGE_SELECT_FILE_FIRST:"请先选择一个图片",MESSAGE_IMAGE_TYPES_LIMIT:"只允许上传 jpg png jpeg gif bmp image webp 格式的图片",MESSAGE_IMAGE_SIZE_LIMIT:"图片大小超过20M，无法发送",MESSAGE_AUDIO_UPLOAD_FAIL:"语音上传失败",MESSAGE_AUDIO_SIZE_LIMIT:"语音大小大于20M，无法发送",MESSAGE_VIDEO_UPLOAD_FAIL:"视频上传失败",MESSAGE_VIDEO_SIZE_LIMIT:"视频大小超过100M，无法发送",MESSAGE_VIDEO_TYPES_LIMIT:"只允许上传 mp4 格式的视频",MESSAGE_FILE_UPLOAD_FAIL:"文件上传失败",MESSAGE_FILE_SELECT_FILE_FIRST:"请先选择一个文件",MESSAGE_FILE_SIZE_LIMIT:"文件大小超过100M，无法发送 ",MESSAGE_FILE_URL_IS_EMPTY:"缺少必要的参数文件 URL",MESSAGE_MERGER_TYPE_INVALID:"非合并消息",MESSAGE_MERGER_KEY_INVALID:"合并消息的 messageKey 无效",MESSAGE_MERGER_DOWNLOAD_FAIL:"下载合并消息失败",MESSAGE_FORWARD_TYPE_INVALID:"选择的消息类型（如群提示消息）不可以转发",MESSAGE_AT_TYPE_INVALID:"社群/话题不支持 @ 所有人",MESSAGE_MODIFY_CONFLICT:"修改消息时发生冲突",MESSAGE_MODIFY_DISABLED_IN_AVCHATROOM:"直播群不支持修改消息",CONVERSATION_NOT_FOUND:"没有找到相应的会话，请检查传入参数",USER_OR_GROUP_NOT_FOUND:"没有找到相应的用户或群组，请检查传入参数",CONVERSATION_UN_RECORDED_TYPE:"未记录的会话类型",ILLEGAL_GROUP_TYPE:"非法的群类型，请检查传入参数",CANNOT_JOIN_WORK:"不能加入 Work 类型的群组",ILLEGAL_GROUP_ID:"群组 ID 非法，非 Community 类型群组不能以 @TGS#_ 为前缀，Community 类型群组必须以 @TGS#_ 为前缀且不能包含 @TOPIC#_ 字符串",CANNOT_CHANGE_OWNER_IN_AVCHATROOM:"AVChatRoom 类型的群组不能转让群主",CANNOT_CHANGE_OWNER_TO_SELF:"不能把群主转让给自己",CANNOT_DISMISS_WORK:"不能解散 Work 类型的群组",MEMBER_NOT_IN_GROUP:"用户不在该群组内",JOIN_GROUP_FAIL:"加群失败，请检查传入参数或重试",CANNOT_ADD_MEMBER_IN_AVCHATROOM:"AVChatRoom 类型的群不支持邀请群成员",CANNOT_JOIN_NON_AVCHATROOM_WITHOUT_LOGIN:"非 AVChatRoom 类型的群组不允许匿名加群，请先登录后再加群",CANNOT_KICK_MEMBER_IN_AVCHATROOM:"不能在 AVChatRoom 类型的群组踢人",NOT_OWNER:"你不是群主，只有群主才有权限操作",CANNOT_SET_MEMBER_ROLE_IN_WORK_AND_AVCHATROOM:"不能在 Work / AVChatRoom 类型的群中设置群成员身份",INVALID_MEMBER_ROLE:"不合法的群成员身份，请检查传入参数",CANNOT_SET_SELF_MEMBER_ROLE:"不能设置自己的群成员身份，请检查传入参数",CANNOT_MUTE_SELF:"不能将自己禁言，请检查传入参数",NOT_MY_FRIEND:"非好友关系",ALREADY_MY_FRIEND:"已经是好友关系",FRIEND_GROUP_EXISTED:"好友分组已存在",FRIEND_GROUP_NOT_EXIST:"好友分组不存在",FRIEND_APPLICATION_NOT_EXIST:"好友申请不存在",UPDATE_PROFILE_INVALID_PARAM:"传入 updateMyProfile 接口的参数无效",UPDATE_PROFILE_NO_KEY:"updateMyProfile 无标配资料字段或自定义资料字段",ADD_BLACKLIST_INVALID_PARAM:"传入 addToBlacklist 接口的参数无效",DEL_BLACKLIST_INVALID_PARAM:"传入 removeFromBlacklist 接口的参数无效",CANNOT_ADD_SELF_TO_BLACKLIST:"不能拉黑自己",ADD_FRIEND_INVALID_PARAM:"传入 addFriend 接口的参数无效",NETWORK_ERROR:"网络错误",NETWORK_TIMEOUT:"请求超时",NETWORK_BASE_OPTIONS_NO_URL:"网络层初始化错误，缺少 URL 参数",NETWORK_UNDEFINED_SERVER_NAME:"打包错误，未定义的 serverName",NETWORK_PACKAGE_UNDEFINED:"未定义的 packageConfig",NO_NETWORK:"未连接到网络",CONVERTOR_IRREGULAR_PARAMS:"不规范的参数名称",NOTICE_RUNLOOP_UNEXPECTED_CONDITION:"意料外的通知条件",NOTICE_RUNLOOP_OFFSET_LOST:"_syncOffset 丢失",GET_LONGPOLL_ID_FAILED:"获取 longpolling id 失败",UNCAUGHT_ERROR:"未经明确定义的错误",INVALID_OPERATION:"无效操作，如调用了未定义或者未实现的方法等",CANNOT_FIND_PROTOCOL:"无法找到协议",CANNOT_FIND_MODULE:"无法找到模块，请参考：https://web.sdk.qcloud.com/im/doc/zh-cn/tutorial-03-sns.html",SDK_IS_NOT_READY:"接口需要 SDK 处于 ready 状态后才能调用",LOGGING_IN:"用户正在登录中",LOGIN_FAILED:"用户登录失败",KICKED_OUT_MULT_DEVICE:"用户多终端登录被踢出",KICKED_OUT_MULT_ACCOUNT:"用户多实例登录被踢出",KICKED_OUT_USERSIG_EXPIRED:"用户 userSig 过期被踢出",LOGGED_OUT:"用户已登出",KICKED_OUT_REST_API:"用户被 REST API - kick 接口: https://cloud.tencent.com/document/product/269/3853 踢出",OVER_FREQUENCY_LIMIT:"超出 SDK 频率控制",LONG_POLL_KICK_OUT:"检测到多个 web 实例登录，消息通道下线",OPEN_SERVICE_OVERLOAD_ERROR:"后台服务正忙，请稍后再试",MESSAGE_A2KEY_EXPIRED:"消息错误码：UserSig 或 A2 失效。",ACCOUNT_A2KEY_EXPIRED:"帐号错误码：UserSig 已过期，请重新生成。建议 UserSig 有效期设置不小于24小时。",LONG_POLL_API_PARAM_ERROR:"longPoll API parameters error",ILLEGAL_TOPIC_ID:"topicID 非法"},ng="networkRTT",rg="messageE2EDelay",og="sendMessageC2C",ig="sendMessageGroup",ag="sendMessageGroupAV",sg="sendMessageRichMedia",cg="cosUpload",ug="messageReceivedGroup",lg="messageReceivedGroupAVPush",fg="messageReceivedGroupAVPull",pg=(s(Qp={},ng,2),s(Qp,rg,3),s(Qp,og,4),s(Qp,ig,5),s(Qp,ag,6),s(Qp,sg,7),s(Qp,ug,8),s(Qp,lg,9),s(Qp,fg,10),s(Qp,cg,11),Qp),dg={info:4,warning:5,error:6},hg={wifi:1,"2g":2,"3g":3,"4g":4,"5g":5,unknown:6,none:7,online:8},gg={login:4},vg=function(){function e(t){o(this,e),this.eventType=gg[t]||0,this.timestamp=0,this.networkType=8,this.code=0,this.message="",this.moreMessage="",this.extension=t,this.costTime=0,this.duplicate=!1,this.level=4,this.uiPlatform=void 0,this._sentFlag=!1,this._startts=Rl()}return a(e,[{key:"updateTimeStamp",value:function(){this.timestamp=Rl()}},{key:"start",value:function(e){return this._startts=e,this}},{key:"end",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._sentFlag){var n=Rl();0===this.costTime&&(this.costTime=n-this._startts),this.setMoreMessage("startts:".concat(this._startts," endts:").concat(n)),t?(this._sentFlag=!0,this._eventStatModule&&this._eventStatModule.pushIn(this)):setTimeout((function(){e._sentFlag=!0,e._eventStatModule&&e._eventStatModule.pushIn(e)}),0)}}},{key:"setError",value:function(e,t,n){return e instanceof Error?(this._sentFlag||(this.setNetworkType(n),t?(e.code&&this.setCode(e.code),e.message&&this.setMoreMessage(e.message)):(this.setCode(eg.NO_NETWORK),this.setMoreMessage(tg.NO_NETWORK)),this.setLevel("error")),this):(xl.warn("SSOLogData.setError value not instanceof Error, please check!"),this)}},{key:"setCode",value:function(e){return Zl(e)||this._sentFlag||("ECONNABORTED"===e&&(this.code=103),zl(e)?this.code=e:xl.warn("SSOLogData.setCode value not a number, please check!",e,r(e))),this}},{key:"setMessage",value:function(e){return Zl(e)||this._sentFlag||(zl(e)&&(this.message=e.toString()),Yl(e)&&(this.message=e)),this}},{key:"setCostTime",value:function(e){return this.costTime=e,this}},{key:"setLevel",value:function(e){return Zl(e)||this._sentFlag||(this.level=dg[e]),this}},{key:"setMoreMessage",value:function(e){return jf(this.moreMessage)?this.moreMessage="".concat(e):this.moreMessage+=" ".concat(e),this}},{key:"setNetworkType",value:function(e){if(Zl(e))xl.warn("SSOLogData.setNetworkType value is undefined, please check!");else{var t=hg[e.toLowerCase()];Zl(t)||(this.networkType=t)}return this}},{key:"getStartTs",value:function(){return this._startts}},{key:"setUIPlatform",value:function(e){this.uiPlatform=e}}],[{key:"bindEventStatModule",value:function(t){e.prototype._eventStatModule=t}}]),e}(),mg={SDK_CONSTRUCT:"sdkConstruct",SDK_READY:"sdkReady",LOGIN:"login",LOGOUT:"logout",KICKED_OUT:"kickedOut",REGISTER_PLUGIN:"registerPlugin",KICK_OTHER:"kickOther",WS_CONNECT:"wsConnect",WS_ON_OPEN:"wsOnOpen",WS_ON_CLOSE:"wsOnClose",WS_ON_ERROR:"wsOnError",NETWORK_CHANGE:"networkChange",GET_COS_AUTH_KEY:"getCosAuthKey",GET_COS_PRE_SIG_URL:"getCosPreSigUrl",GET_SNAPSHOT_INFO:"getSnapshotInfo",UPLOAD:"upload",SEND_MESSAGE:"sendMessage",SEND_MESSAGE_WITH_RECEIPT:"sendMessageWithReceipt",SEND_COMBO_MESSAGE:"sendComboMessage",GET_C2C_ROAMING_MESSAGES:"getC2CRoamingMessages",GET_GROUP_ROAMING_MESSAGES:"getGroupRoamingMessages",GET_C2C_ROAMING_MESSAGES_HOPPING:"getC2CRoamingMessagesHopping",GET_GROUP_ROAMING_MESSAGES_HOPPING:"getGroupRoamingMessagesHopping",GET_READ_RECEIPT:"getReadReceipt",GET_READ_RECEIPT_DETAIL:"getReadReceiptDetail",SEND_READ_RECEIPT:"sendReadReceipt",SEND_C2C_READ_RECEIPT:"sendC2CReadReceipt",REVOKE_MESSAGE:"revokeMessage",DELETE_MESSAGE:"deleteMessage",EDIT_MESSAGE:"modifyMessage",SET_C2C_MESSAGE_READ:"setC2CMessageRead",SET_GROUP_MESSAGE_READ:"setGroupMessageRead",EMPTY_MESSAGE_BODY:"emptyMessageBody",GET_PEER_READ_TIME:"getPeerReadTime",UPLOAD_MERGER_MESSAGE:"uploadMergerMessage",DOWNLOAD_MERGER_MESSAGE:"downloadMergerMessage",JSON_PARSE_ERROR:"jsonParseError",MESSAGE_E2E_DELAY_EXCEPTION:"messageE2EDelayException",GET_CONVERSATION_LIST:"getConversationList",GET_CONVERSATION_PROFILE:"getConversationProfile",DELETE_CONVERSATION:"deleteConversation",PIN_CONVERSATION:"pinConversation",GET_CONVERSATION_LIST_IN_STORAGE:"getConversationListInStorage",SYNC_CONVERSATION_LIST:"syncConversationList",SET_ALL_MESSAGE_READ:"setAllMessageRead",CREATE_GROUP:"createGroup",APPLY_JOIN_GROUP:"applyJoinGroup",QUIT_GROUP:"quitGroup",SEARCH_GROUP_BY_ID:"searchGroupByID",CHANGE_GROUP_OWNER:"changeGroupOwner",HANDLE_GROUP_APPLICATION:"handleGroupApplication",HANDLE_GROUP_INVITATION:"handleGroupInvitation",SET_MESSAGE_REMIND_TYPE:"setMessageRemindType",DISMISS_GROUP:"dismissGroup",UPDATE_GROUP_PROFILE:"updateGroupProfile",GET_GROUP_LIST:"getGroupList",GET_GROUP_PROFILE:"getGroupProfile",GET_GROUP_LIST_IN_STORAGE:"getGroupListInStorage",GET_GROUP_LAST_SEQUENCE:"getGroupLastSequence",GET_GROUP_MISSING_MESSAGE:"getGroupMissingMessage",PAGING_GET_GROUP_LIST:"pagingGetGroupList",PAGING_GET_GROUP_LIST_WITH_TOPIC:"pagingGetGroupListWithTopic",GET_GROUP_SIMPLIFIED_INFO:"getGroupSimplifiedInfo",JOIN_WITHOUT_AUTH:"joinWithoutAuth",INIT_GROUP_ATTRIBUTES:"initGroupAttributes",SET_GROUP_ATTRIBUTES:"setGroupAttributes",DELETE_GROUP_ATTRIBUTES:"deleteGroupAttributes",GET_GROUP_ATTRIBUTES:"getGroupAttributes",GET_GROUP_MEMBER_LIST:"getGroupMemberList",GET_GROUP_MEMBER_PROFILE:"getGroupMemberProfile",ADD_GROUP_MEMBER:"addGroupMember",DELETE_GROUP_MEMBER:"deleteGroupMember",SET_GROUP_MEMBER_MUTE_TIME:"setGroupMemberMuteTime",SET_GROUP_MEMBER_NAME_CARD:"setGroupMemberNameCard",SET_GROUP_MEMBER_ROLE:"setGroupMemberRole",SET_GROUP_MEMBER_CUSTOM_FIELD:"setGroupMemberCustomField",GET_GROUP_ONLINE_MEMBER_COUNT:"getGroupOnlineMemberCount",SYNC_MESSAGE:"syncMessage",LONG_POLLING_AV_ERROR:"longPollingAVError",MESSAGE_LOSS:"messageLoss",MESSAGE_STACKED:"messageStacked",GET_USER_PROFILE:"getUserProfile",UPDATE_MY_PROFILE:"updateMyProfile",GET_BLACKLIST:"getBlacklist",ADD_TO_BLACKLIST:"addToBlacklist",REMOVE_FROM_BLACKLIST:"removeFromBlacklist",ADD_FRIEND:"addFriend",CHECK_FRIEND:"checkFriend",DELETE_FRIEND:"removeFromFriendList",GET_FRIEND_PROFILE:"getFriendProfile",GET_FRIEND_LIST:"getFriendList",UPDATE_FRIEND:"updateFriend",GET_FRIEND_APPLICATION_LIST:"getFriendApplicationList",DELETE_FRIEND_APPLICATION:"deleteFriendApplication",ACCEPT_FRIEND_APPLICATION:"acceptFriendApplication",REFUSE_FRIEND_APPLICATION:"refuseFriendApplication",SET_FRIEND_APPLICATION_READ:"setFriendApplicationRead",CREATE_FRIEND_GROUP:"createFriendGroup",DELETE_FRIEND_GROUP:"deleteFriendGroup",RENAME_FRIEND_GROUP:"renameFriendGroup",ADD_TO_FRIEND_GROUP:"addToFriendGroup",REMOVE_FROM_FRIEND_GROUP:"removeFromFriendGroup",GET_FRIEND_GROUP_LIST:"getFriendGroupList",CREATE_TOPIC:"createTopic",DELETE_TOPIC:"deleteTopic",UPDATE_TOPIC_PROFILE:"updateTopicProfile",GET_TOPIC_LIST:"getTopicList",RELAY_GET_TOPIC_LIST:"relayGetTopicList",GET_TOPIC_LAST_SEQUENCE:"getTopicLastSequence",MP_HIDE_TO_SHOW:"mpHideToShow",CALLBACK_FUNCTION_ERROR:"callbackFunctionError",FETCH_CLOUD_CONTROL_CONFIG:"fetchCloudControlConfig",PUSHED_CLOUD_CONTROL_CONFIG:"pushedCloudControlConfig",FETCH_COMMERCIAL_CONFIG:"fetchCommercialConfig",PUSHED_COMMERCIAL_CONFIG:"pushedCommercialConfig",ERROR:"error",LAST_MESSAGE_NOT_EXIST:"lastMessageNotExist"},_g=F.f,yg=H(_g),bg=H([].push),Mg=function(e){return function(t){for(var n,r=ee(t),o=An(r),i=o.length,a=0,s=[];i>a;)n=o[a++],k&&!yg(r,n)||bg(s,e?[n,r[n]]:r[n]);return s}},Eg={entries:Mg(!0),values:Mg(!1)}.values;rn({target:"Object",stat:!0},{values:function(e){return Eg(e)}});var Ig=function(){function e(t){o(this,e),this.type=ho.MSG_TEXT,this.content={text:t.text||""}}return a(e,[{key:"setText",value:function(e){this.content.text=e}},{key:"sendable",value:function(){return 0!==this.content.text.length}}]),e}(),Sg=Ue("iterator"),Tg=!N((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[Sg]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),Og=Object.assign,Cg=Object.defineProperty,Ag=H([].concat),wg=!Og||N((function(){if(k&&1!==Og({b:1},Og(Cg({},"a",{enumerable:!0,get:function(){Cg(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=Og({},e)[n]||"abcdefghijklmnopqrst"!=An(Og({},t)).join("")}))?function(e,t){for(var n=Ce(e),r=arguments.length,o=1,i=Ht.f,a=F.f;r>o;)for(var s,c=X(arguments[o++]),u=i?Ag(An(c),i(c)):An(c),l=u.length,f=0;l>f;)s=u[f++],k&&!x(a,c,s)||(n[s]=c[s]);return n}:Og,Rg=/[^\0-\u007E]/,Dg=/[.\u3002\uFF0E\uFF61]/g,Ng="Overflow: input needs wider integers to process",kg=D.RangeError,Lg=H(Dg.exec),Pg=Math.floor,xg=String.fromCharCode,Gg=H("".charCodeAt),Ug=H([].join),Fg=H([].push),jg=H("".replace),qg=H("".split),Bg=H("".toLowerCase),Vg=function(e){return e+22+75*(e<26)},$g=function(e,t,n){var r=0;for(e=n?Pg(e/700):e>>1,e+=Pg(e/t);e>455;)e=Pg(e/35),r+=36;return Pg(r+36*e/(e+38))},Hg=function(e){var t,n,r=[],o=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=Gg(e,n++);if(o>=55296&&o<=56319&&n<r){var i=Gg(e,n++);56320==(64512&i)?Fg(t,((1023&o)<<10)+(1023&i)+65536):(Fg(t,o),n--)}else Fg(t,o)}return t}(e)).length,i=128,a=0,s=72;for(t=0;t<e.length;t++)(n=e[t])<128&&Fg(r,xg(n));var c=r.length,u=c;for(c&&Fg(r,"-");u<o;){var l=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=i&&n<l&&(l=n);var f=u+1;if(l-i>Pg((2147483647-a)/f))throw kg(Ng);for(a+=(l-i)*f,i=l,t=0;t<e.length;t++){if((n=e[t])<i&&++a>2147483647)throw kg(Ng);if(n==i){for(var p=a,d=36;;){var h=d<=s?1:d>=s+26?26:d-s;if(p<h)break;var g=p-h,v=36-h;Fg(r,xg(Vg(h+g%v))),p=Pg(g/v),d+=36}Fg(r,xg(Vg(p))),s=$g(a,f,u==c),a=0,u++}}a++,i++}return Ug(r,"")},Kg=Math.floor,Wg=function(e,t){var n=e.length,r=Kg(n/2);return n<8?zg(e,t):Yg(e,Wg(us(e,0,r),t),Wg(us(e,r),t),t)},zg=function(e,t){for(var n,r,o=e.length,i=1;i<o;){for(r=i,n=e[i];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==i++&&(e[r]=n)}return e},Yg=function(e,t,n,r){for(var o=t.length,i=n.length,a=0,s=0;a<o||s<i;)e[a+s]=a<o&&s<i?r(t[a],n[s])<=0?t[a++]:n[s++]:a<o?t[a++]:n[s++];return e},Jg=Wg,Xg=Ue("iterator"),Qg=Et.set,Zg=Et.getterFor("URLSearchParams"),ev=Et.getterFor("URLSearchParamsIterator"),tv=oe("fetch"),nv=oe("Request"),rv=oe("Headers"),ov=nv&&nv.prototype,iv=rv&&rv.prototype,av=D.RegExp,sv=D.TypeError,cv=D.decodeURIComponent,uv=D.encodeURIComponent,lv=H("".charAt),fv=H([].join),pv=H([].push),dv=H("".replace),hv=H([].shift),gv=H([].splice),vv=H("".split),mv=H("".slice),_v=/\+/g,yv=Array(4),bv=function(e){return yv[e-1]||(yv[e-1]=av("((?:%[\\da-f]{2}){"+e+"})","gi"))},Mv=function(e){try{return cv(e)}catch(oS){return e}},Ev=function(e){var t=dv(e,_v," "),n=4;try{return cv(t)}catch(oS){for(;n;)t=dv(t,bv(n--),Mv);return t}},Iv=/[!'()~]|%20/g,Sv={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Tv=function(e){return Sv[e]},Ov=function(e){return dv(uv(e),Iv,Tv)},Cv=Qr((function(e,t){Qg(this,{type:"URLSearchParamsIterator",iterator:Er(Zg(e).entries),kind:t})}),"Iterator",(function(){var e=ev(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),Av=function(e){this.entries=[],this.url=null,void 0!==e&&(ne(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===lv(e,0)?mv(e,1):e:pn(e)))};Av.prototype={type:"URLSearchParams",bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,o,i,a,s,c=br(e);if(c)for(n=(t=Er(e,c)).next;!(r=x(n,t)).done;){if(i=(o=Er(Qe(r.value))).next,(a=x(i,o)).done||(s=x(i,o)).done||!x(i,o).done)throw sv("Expected sequence with length 2");pv(this.entries,{key:pn(a.value),value:pn(s.value)})}else for(var u in e)we(e,u)&&pv(this.entries,{key:u,value:pn(e[u])})},parseQuery:function(e){if(e)for(var t,n,r=vv(e,"&"),o=0;o<r.length;)(t=r[o++]).length&&(n=vv(t,"="),pv(this.entries,{key:Ev(hv(n)),value:Ev(fv(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],pv(n,Ov(e.key)+"="+Ov(e.value));return fv(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var wv=function(){ks(this,Rv);var e=arguments.length>0?arguments[0]:void 0;Qg(this,new Av(e))},Rv=wv.prototype;if(ws(Rv,{append:function(e,t){Vs(arguments.length,2);var n=Zg(this);pv(n.entries,{key:pn(e),value:pn(t)}),n.updateURL()},delete:function(e){Vs(arguments.length,1);for(var t=Zg(this),n=t.entries,r=pn(e),o=0;o<n.length;)n[o].key===r?gv(n,o,1):o++;t.updateURL()},get:function(e){Vs(arguments.length,1);for(var t=Zg(this).entries,n=pn(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){Vs(arguments.length,1);for(var t=Zg(this).entries,n=pn(e),r=[],o=0;o<t.length;o++)t[o].key===n&&pv(r,t[o].value);return r},has:function(e){Vs(arguments.length,1);for(var t=Zg(this).entries,n=pn(e),r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){Vs(arguments.length,1);for(var n,r=Zg(this),o=r.entries,i=!1,a=pn(e),s=pn(t),c=0;c<o.length;c++)(n=o[c]).key===a&&(i?gv(o,c--,1):(i=!0,n.value=s));i||pv(o,{key:a,value:s}),r.updateURL()},sort:function(){var e=Zg(this);Jg(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=Zg(this).entries,r=Un(e,arguments.length>1?arguments[1]:void 0),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new Cv(this,"keys")},values:function(){return new Cv(this,"values")},entries:function(){return new Cv(this,"entries")}},{enumerable:!0}),Ct(Rv,Xg,Rv.entries,{name:"entries"}),Ct(Rv,"toString",(function(){return Zg(this).serialize()}),{enumerable:!0}),Yr(wv,"URLSearchParams"),rn({global:!0,forced:!Tg},{URLSearchParams:wv}),!Tg&&te(rv)){var Dv=H(iv.has),Nv=H(iv.set),kv=function(e){if(ne(e)){var t,n=e.body;if("URLSearchParams"===ln(n))return t=e.headers?new rv(e.headers):new rv,Dv(t,"content-type")||Nv(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),xn(e,{body:j(0,pn(n)),headers:j(0,t)})}return e};if(te(tv)&&rn({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return tv(e,arguments.length>1?kv(arguments[1]):{})}}),te(nv)){var Lv=function(e){return ks(this,ov),new nv(e,arguments.length>1?kv(arguments[1]):{})};ov.constructor=Lv,Lv.prototype=ov,rn({global:!0,forced:!0},{Request:Lv})}}var Pv,xv={URLSearchParams:wv,getState:Zg},Gv=wn.f,Uv=Ur.codeAt,Fv=Et.set,jv=Et.getterFor("URL"),qv=xv.URLSearchParams,Bv=xv.getState,Vv=D.URL,$v=D.TypeError,Hv=D.parseInt,Kv=Math.floor,Wv=Math.pow,zv=H("".charAt),Yv=H(/./.exec),Jv=H([].join),Xv=H(1..toString),Qv=H([].pop),Zv=H([].push),em=H("".replace),tm=H([].shift),nm=H("".split),rm=H("".slice),om=H("".toLowerCase),im=H([].unshift),am=/[a-z]/i,sm=/[\d+-.a-z]/i,cm=/\d/,um=/^0x/i,lm=/^[0-7]+$/,fm=/^\d+$/,pm=/^[\da-f]+$/i,dm=/[\0\t\n\r #%/:<>?@[\\\]^|]/,hm=/[\0\t\n\r #/:<>?@[\\\]^|]/,gm=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,vm=/[\t\n\r]/g,mm=function(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)im(t,e%256),e=Kv(e/256);return Jv(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,o=0,i=0;i<8;i++)0!==e[i]?(o>n&&(t=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(t=r,n=o),t}(e),n=0;n<8;n++)o&&0===e[n]||(o&&(o=!1),r===n?(t+=n?":":"::",o=!0):(t+=Xv(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},_m={},ym=wg({},_m,{" ":1,'"':1,"<":1,">":1,"`":1}),bm=wg({},ym,{"#":1,"?":1,"{":1,"}":1}),Mm=wg({},bm,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Em=function(e,t){var n=Uv(e,0);return n>32&&n<127&&!we(t,e)?e:encodeURIComponent(e)},Im={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Sm=function(e,t){var n;return 2==e.length&&Yv(am,zv(e,0))&&(":"==(n=zv(e,1))||!t&&"|"==n)},Tm=function(e){var t;return e.length>1&&Sm(rm(e,0,2))&&(2==e.length||"/"===(t=zv(e,2))||"\\"===t||"?"===t||"#"===t)},Om=function(e){return"."===e||"%2e"===om(e)},Cm={},Am={},wm={},Rm={},Dm={},Nm={},km={},Lm={},Pm={},xm={},Gm={},Um={},Fm={},jm={},qm={},Bm={},Vm={},$m={},Hm={},Km={},Wm={},zm=function(e,t,n){var r,o,i,a=pn(e);if(t){if(o=this.parse(a))throw $v(o);this.searchParams=null}else{if(void 0!==n&&(r=new zm(n,!0)),o=this.parse(a,null,r))throw $v(o);(i=Bv(new qv)).bindURL(this),this.searchParams=i}};zm.prototype={type:"URL",parse:function(e,t,n){var r,o,i,a,s,c=this,u=t||Cm,l=0,f="",p=!1,d=!1,h=!1;for(e=pn(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=em(e,gm,"")),e=em(e,vm,""),r=Sr(e);l<=r.length;){switch(o=r[l],u){case Cm:if(!o||!Yv(am,o)){if(t)return"Invalid scheme";u=wm;continue}f+=om(o),u=Am;break;case Am:if(o&&(Yv(sm,o)||"+"==o||"-"==o||"."==o))f+=om(o);else{if(":"!=o){if(t)return"Invalid scheme";f="",u=wm,l=0;continue}if(t&&(c.isSpecial()!=we(Im,f)||"file"==f&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=f,t)return void(c.isSpecial()&&Im[c.scheme]==c.port&&(c.port=null));f="","file"==c.scheme?u=jm:c.isSpecial()&&n&&n.scheme==c.scheme?u=Rm:c.isSpecial()?u=Lm:"/"==r[l+1]?(u=Dm,l++):(c.cannotBeABaseURL=!0,Zv(c.path,""),u=Hm)}break;case wm:if(!n||n.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(n.cannotBeABaseURL&&"#"==o){c.scheme=n.scheme,c.path=us(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,u=Wm;break}u="file"==n.scheme?jm:Nm;continue;case Rm:if("/"!=o||"/"!=r[l+1]){u=Nm;continue}u=Pm,l++;break;case Dm:if("/"==o){u=xm;break}u=$m;continue;case Nm:if(c.scheme=n.scheme,o==Pv)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=us(n.path),c.query=n.query;else if("/"==o||"\\"==o&&c.isSpecial())u=km;else if("?"==o)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=us(n.path),c.query="",u=Km;else{if("#"!=o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=us(n.path),c.path.length--,u=$m;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=us(n.path),c.query=n.query,c.fragment="",u=Wm}break;case km:if(!c.isSpecial()||"/"!=o&&"\\"!=o){if("/"!=o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,u=$m;continue}u=xm}else u=Pm;break;case Lm:if(u=Pm,"/"!=o||"/"!=zv(f,l+1))continue;l++;break;case Pm:if("/"!=o&&"\\"!=o){u=xm;continue}break;case xm:if("@"==o){p&&(f="%40"+f),p=!0,i=Sr(f);for(var g=0;g<i.length;g++){var v=i[g];if(":"!=v||h){var m=Em(v,Mm);h?c.password+=m:c.username+=m}else h=!0}f=""}else if(o==Pv||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(p&&""==f)return"Invalid authority";l-=Sr(f).length+1,f="",u=Gm}else f+=o;break;case Gm:case Um:if(t&&"file"==c.scheme){u=Bm;continue}if(":"!=o||d){if(o==Pv||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(c.isSpecial()&&""==f)return"Invalid host";if(t&&""==f&&(c.includesCredentials()||null!==c.port))return;if(a=c.parseHost(f))return a;if(f="",u=Vm,t)return;continue}"["==o?d=!0:"]"==o&&(d=!1),f+=o}else{if(""==f)return"Invalid host";if(a=c.parseHost(f))return a;if(f="",u=Fm,t==Um)return}break;case Fm:if(!Yv(cm,o)){if(o==Pv||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()||t){if(""!=f){var _=Hv(f,10);if(_>65535)return"Invalid port";c.port=c.isSpecial()&&_===Im[c.scheme]?null:_,f=""}if(t)return;u=Vm;continue}return"Invalid port"}f+=o;break;case jm:if(c.scheme="file","/"==o||"\\"==o)u=qm;else{if(!n||"file"!=n.scheme){u=$m;continue}if(o==Pv)c.host=n.host,c.path=us(n.path),c.query=n.query;else if("?"==o)c.host=n.host,c.path=us(n.path),c.query="",u=Km;else{if("#"!=o){Tm(Jv(us(r,l),""))||(c.host=n.host,c.path=us(n.path),c.shortenPath()),u=$m;continue}c.host=n.host,c.path=us(n.path),c.query=n.query,c.fragment="",u=Wm}}break;case qm:if("/"==o||"\\"==o){u=Bm;break}n&&"file"==n.scheme&&!Tm(Jv(us(r,l),""))&&(Sm(n.path[0],!0)?Zv(c.path,n.path[0]):c.host=n.host),u=$m;continue;case Bm:if(o==Pv||"/"==o||"\\"==o||"?"==o||"#"==o){if(!t&&Sm(f))u=$m;else if(""==f){if(c.host="",t)return;u=Vm}else{if(a=c.parseHost(f))return a;if("localhost"==c.host&&(c.host=""),t)return;f="",u=Vm}continue}f+=o;break;case Vm:if(c.isSpecial()){if(u=$m,"/"!=o&&"\\"!=o)continue}else if(t||"?"!=o)if(t||"#"!=o){if(o!=Pv&&(u=$m,"/"!=o))continue}else c.fragment="",u=Wm;else c.query="",u=Km;break;case $m:if(o==Pv||"/"==o||"\\"==o&&c.isSpecial()||!t&&("?"==o||"#"==o)){if(".."===(s=om(s=f))||"%2e."===s||".%2e"===s||"%2e%2e"===s?(c.shortenPath(),"/"==o||"\\"==o&&c.isSpecial()||Zv(c.path,"")):Om(f)?"/"==o||"\\"==o&&c.isSpecial()||Zv(c.path,""):("file"==c.scheme&&!c.path.length&&Sm(f)&&(c.host&&(c.host=""),f=zv(f,0)+":"),Zv(c.path,f)),f="","file"==c.scheme&&(o==Pv||"?"==o||"#"==o))for(;c.path.length>1&&""===c.path[0];)tm(c.path);"?"==o?(c.query="",u=Km):"#"==o&&(c.fragment="",u=Wm)}else f+=Em(o,bm);break;case Hm:"?"==o?(c.query="",u=Km):"#"==o?(c.fragment="",u=Wm):o!=Pv&&(c.path[0]+=Em(o,_m));break;case Km:t||"#"!=o?o!=Pv&&("'"==o&&c.isSpecial()?c.query+="%27":c.query+="#"==o?"%23":Em(o,_m)):(c.fragment="",u=Wm);break;case Wm:o!=Pv&&(c.fragment+=Em(o,ym))}l++}},parseHost:function(e){var t,n,r;if("["==zv(e,0)){if("]"!=zv(e,e.length-1))return"Invalid host";if(!(t=function(e){var t,n,r,o,i,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,f=0,p=function(){return zv(e,f)};if(":"==p()){if(":"!=zv(e,1))return;f+=2,l=++u}for(;p();){if(8==u)return;if(":"!=p()){for(t=n=0;n<4&&Yv(pm,p());)t=16*t+Hv(p(),16),f++,n++;if("."==p()){if(0==n)return;if(f-=n,u>6)return;for(r=0;p();){if(o=null,r>0){if(!("."==p()&&r<4))return;f++}if(!Yv(cm,p()))return;for(;Yv(cm,p());){if(i=Hv(p(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;f++}c[u]=256*c[u]+o,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==p()){if(f++,!p())return}else if(p())return;c[u++]=t}else{if(null!==l)return;f++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c}(rm(e,1,-1))))return"Invalid host";this.host=t}else if(this.isSpecial()){if(e=function(e){var t,n,r=[],o=qg(jg(Bg(e),Dg,"."),".");for(t=0;t<o.length;t++)n=o[t],Fg(r,Lg(Rg,n)?"xn--"+Hg(n):n);return Ug(r,".")}(e),Yv(dm,e))return"Invalid host";if(null===(t=function(e){var t,n,r,o,i,a,s,c=nm(e,".");if(c.length&&""==c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(o=c[r]))return e;if(i=10,o.length>1&&"0"==zv(o,0)&&(i=Yv(um,o)?16:8,o=rm(o,8==i?1:2)),""===o)a=0;else{if(!Yv(10==i?fm:8==i?lm:pm,o))return e;a=Hv(o,i)}Zv(n,a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=Wv(256,5-t))return null}else if(a>255)return null;for(s=Qv(n),r=0;r<n.length;r++)s+=n[r]*Wv(256,3-r);return s}(e)))return"Invalid host";this.host=t}else{if(Yv(hm,e))return"Invalid host";for(t="",n=Sr(e),r=0;r<n.length;r++)t+=Em(n[r],_m);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return we(Im,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&Sm(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,o=e.host,i=e.port,a=e.path,s=e.query,c=e.fragment,u=t+":";return null!==o?(u+="//",e.includesCredentials()&&(u+=n+(r?":"+r:"")+"@"),u+=mm(o),null!==i&&(u+=":"+i)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+Jv(a,"/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},setHref:function(e){var t=this.parse(e);if(t)throw $v(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Ym(e.path[0]).origin}catch(oS){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+mm(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(pn(e)+":",Cm)},getUsername:function(){return this.username},setUsername:function(e){var t=Sr(pn(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=Em(t[n],Mm)}},getPassword:function(){return this.password},setPassword:function(e){var t=Sr(pn(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=Em(t[n],Mm)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?mm(e):mm(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Gm)},getHostname:function(){var e=this.host;return null===e?"":mm(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Um)},getPort:function(){var e=this.port;return null===e?"":pn(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=pn(e))?this.port=null:this.parse(e,Fm))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+Jv(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Vm))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=pn(e))?this.query=null:("?"==zv(e,0)&&(e=rm(e,1)),this.query="",this.parse(e,Km)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=pn(e))?("#"==zv(e,0)&&(e=rm(e,1)),this.fragment="",this.parse(e,Wm)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ym=function(e){var t=ks(this,Jm),n=Vs(arguments.length,1)>1?arguments[1]:void 0,r=Fv(t,new zm(e,!1,n));k||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Jm=Ym.prototype,Xm=function(e,t){return{get:function(){return jv(this)[e]()},set:t&&function(e){return jv(this)[t](e)},configurable:!0,enumerable:!0}};if(k&&Gv(Jm,{href:Xm("serialize","setHref"),origin:Xm("getOrigin"),protocol:Xm("getProtocol","setProtocol"),username:Xm("getUsername","setUsername"),password:Xm("getPassword","setPassword"),host:Xm("getHost","setHost"),hostname:Xm("getHostname","setHostname"),port:Xm("getPort","setPort"),pathname:Xm("getPathname","setPathname"),search:Xm("getSearch","setSearch"),searchParams:Xm("getSearchParams"),hash:Xm("getHash","setHash")}),Ct(Jm,"toJSON",(function(){return jv(this).serialize()}),{enumerable:!0}),Ct(Jm,"toString",(function(){return jv(this).serialize()}),{enumerable:!0}),Vv){var Qm=Vv.createObjectURL,Zm=Vv.revokeObjectURL;Qm&&Ct(Ym,"createObjectURL",Un(Qm,Vv)),Zm&&Ct(Ym,"revokeObjectURL",Un(Zm,Vv))}Yr(Ym,"URL"),rn({global:!0,forced:!Tg,sham:!k},{URL:Ym}),rn({target:"Object",stat:!0,forced:Object.assign!==wg},{assign:wg});var e_=function(){function e(t){o(this,e),this._imageMemoryURL="",Hu?this.createImageDataASURLInWXMiniApp(t.file):this.createImageDataASURLInWeb(t.file),this._initImageInfoModel(),this.type=ho.MSG_IMAGE,this._percent=0,this.content={imageFormat:t.imageFormat||Gl.UNKNOWN,uuid:t.uuid,imageInfoArray:[]},this.initImageInfoArray(t.imageInfoArray),this._defaultImage="http://imgcache.qq.com/open/qcloud/video/act/webim-images/default.jpg",this._autoFixUrl()}return a(e,[{key:"_initImageInfoModel",value:function(){var e=this;this._ImageInfoModel=function(t){this.instanceID=ff(9999999),this.sizeType=t.type||0,this.type=0,this.size=t.size||0,this.width=t.width||0,this.height=t.height||0,this.imageUrl=t.url||"",this.url=t.url||e._imageMemoryURL||e._defaultImage},this._ImageInfoModel.prototype={setSizeType:function(e){this.sizeType=e},setType:function(e){this.type=e},setImageUrl:function(e){e&&(this.imageUrl=e)},getImageUrl:function(){return this.imageUrl}}}},{key:"initImageInfoArray",value:function(e){for(var t=0,n=null,r=null;t<=2;)r=Zl(e)||Zl(e[t])?{type:0,size:0,width:0,height:0,url:""}:e[t],(n=new this._ImageInfoModel(r)).setSizeType(t+1),n.setType(t),this.addImageInfo(n),t++;this.updateAccessSideImageInfoArray()}},{key:"updateImageInfoArray",value:function(e){for(var t,n=this.content.imageInfoArray.length,r=0;r<n;r++)t=this.content.imageInfoArray[r],e[r].size&&(t.size=e[r].size),e[r].url&&t.setImageUrl(e[r].url),e[r].width&&(t.width=e[r].width),e[r].height&&(t.height=e[r].height)}},{key:"_autoFixUrl",value:function(){for(var e=this.content.imageInfoArray.length,t="",n="",r=["http","https"],o=null,i=0;i<e;i++)this.content.imageInfoArray[i].url&&""!==(o=this.content.imageInfoArray[i]).imageUrl&&(n=o.imageUrl.slice(0,o.imageUrl.indexOf("://")+1),t=o.imageUrl.slice(o.imageUrl.indexOf("://")+1),r.indexOf(n)<0&&(n="https:"),this.content.imageInfoArray[i].setImageUrl([n,t].join("")))}},{key:"updatePercent",value:function(e){this._percent=e,this._percent>1&&(this._percent=1)}},{key:"updateImageFormat",value:function(e){this.content.imageFormat=Gl[e.toUpperCase()]||Gl.UNKNOWN}},{key:"createImageDataASURLInWeb",value:function(e){void 0!==e&&e.files.length>0&&(this._imageMemoryURL=window.URL.createObjectURL(e.files[0]))}},{key:"createImageDataASURLInWXMiniApp",value:function(e){e&&e.url&&(this._imageMemoryURL=e.url)}},{key:"replaceImageInfo",value:function(e,t){this.content.imageInfoArray[t]instanceof this._ImageInfoModel||(this.content.imageInfoArray[t]=e)}},{key:"addImageInfo",value:function(e){this.content.imageInfoArray.length>=3||this.content.imageInfoArray.push(e)}},{key:"updateAccessSideImageInfoArray",value:function(){var e=this.content.imageInfoArray,t=e[0],n=t.width,r=void 0===n?0:n,o=t.height,i=void 0===o?0:o;0!==r&&0!==i&&(Nf(e),Object.assign(e[2],Df({originWidth:r,originHeight:i,min:720})))}},{key:"sendable",value:function(){return 0!==this.content.imageInfoArray.length&&""!==this.content.imageInfoArray[0].imageUrl&&0!==this.content.imageInfoArray[0].size}}]),e}(),t_=function(){function e(t){o(this,e),this.type=ho.MSG_FACE,this.content=t||null}return a(e,[{key:"sendable",value:function(){return null!==this.content}}]),e}(),n_=function(){function e(t){o(this,e),this.type=ho.MSG_AUDIO,this._percent=0,this.content={downloadFlag:2,second:t.second,size:t.size,url:t.url,remoteAudioUrl:t.url||"",uuid:t.uuid}}return a(e,[{key:"updatePercent",value:function(e){this._percent=e,this._percent>1&&(this._percent=1)}},{key:"updateAudioUrl",value:function(e){this.content.remoteAudioUrl=e}},{key:"sendable",value:function(){return""!==this.content.remoteAudioUrl}}]),e}(),r_={from:!0,groupID:!0,groupName:!0,to:!0},o_=function(){function e(t){o(this,e),this.type=ho.MSG_GRP_TIP,this.content={},this._initContent(t)}return a(e,[{key:"_initContent",value:function(e){var t=this;Object.keys(e).forEach((function(n){switch(n){case"remarkInfo":break;case"groupProfile":t.content.groupProfile={},t._initGroupProfile(e[n]);break;case"operatorInfo":break;case"memberInfoList":case"msgMemberInfo":t._updateMemberList(e[n]);break;case"onlineMemberInfo":break;case"memberNum":t.content[n]=e[n],t.content.memberCount=e[n];break;case"newGroupProfile":t.content.newGroupProfile={},t._initNewGroupProfile(e[n]);break;default:t.content[n]=e[n]}})),this.content.userIDList||(this.content.userIDList=[this.content.operatorID])}},{key:"_initGroupProfile",value:function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n];r_[r]&&(this.content.groupProfile[r]=e[r])}}},{key:"_updateMemberList",value:function(e){jf(this.content.memberList)?this.content.memberList=e:this.content.memberList.forEach((function(t){e.forEach((function(e){t.userID===e.userID&&Object.assign(t,e)}))}))}},{key:"_initNewGroupProfile",value:function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n];this.content.newGroupProfile[r]="muteAllMembers"!==r?e[r]:1===e[r]}}}]),e}(),i_={from:!0,groupID:!0,groupName:!0,to:!0},a_=function(){function e(t){o(this,e),this.type=ho.MSG_GRP_SYS_NOTICE,this.content={},this._initContent(t)}return a(e,[{key:"_initContent",value:function(e){var t=this;Object.keys(e).forEach((function(n){switch(n){case"memberInfoList":break;case"remarkInfo":t.content.handleMessage=e[n];break;case"groupProfile":t.content.groupProfile={},t._initGroupProfile(e[n]);break;default:t.content[n]=e[n]}}))}},{key:"_initGroupProfile",value:function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n];i_[r]&&("groupName"===r?this.content.groupProfile.name=e[r]:this.content.groupProfile[r]=e[r])}}}]),e}(),s_=Math.min,c_=[].lastIndexOf,u_=!!c_&&1/[1].lastIndexOf(1,-0)<0,l_=tr("lastIndexOf"),f_=u_||!l_?function(e){if(u_)return Ia(c_,this,arguments)||0;var t=ee(this),n=xt(t),r=n-1;for(arguments.length>1&&(r=s_(r,Rt(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}:c_;rn({target:"Array",proto:!0,forced:f_!==[].lastIndexOf},{lastIndexOf:f_});var p_=function(){function e(t){o(this,e),this.type=ho.MSG_FILE,this._percent=0;var n=this._getFileInfo(t);this.content={downloadFlag:2,fileUrl:t.url||"",uuid:t.uuid,fileName:n.name||"",fileSize:n.size||0}}return a(e,[{key:"_getFileInfo",value:function(e){if(!Zl(e.fileName)&&!Zl(e.fileSize))return{size:e.fileSize,name:e.fileName};var t=e.file.files[0];if(Vu){if(t.path&&-1!==t.path.indexOf(".")){var n=t.path.slice(t.path.lastIndexOf(".")+1).toLowerCase();t.type=n,t.name||(t.name="".concat(ff(999999),".").concat(n))}t.name||(t.type="",t.name=t.path.slice(t.path.lastIndexOf("/")+1).toLowerCase()),t.suffix&&(t.type=t.suffix),t.url||(t.url=t.path)}return{size:t.size,name:t.name}}},{key:"updatePercent",value:function(e){this._percent=e,this._percent>1&&(this._percent=1)}},{key:"updateFileUrl",value:function(e){this.content.fileUrl=e}},{key:"sendable",value:function(){return""!==this.content.fileUrl&&""!==this.content.fileName&&0!==this.content.fileSize}}]),e}(),d_=function(){function e(t){o(this,e),this.type=ho.MSG_CUSTOM,this.content={data:t.data||"",description:t.description||"",extension:t.extension||""}}return a(e,[{key:"setData",value:function(e){return this.content.data=e,this}},{key:"setDescription",value:function(e){return this.content.description=e,this}},{key:"setExtension",value:function(e){return this.content.extension=e,this}},{key:"sendable",value:function(){return 0!==this.content.data.length||0!==this.content.description.length||0!==this.content.extension.length}}]),e}(),h_=function(){function e(t){o(this,e),this.type=ho.MSG_VIDEO,this._percent=0,this.content={remoteVideoUrl:t.remoteVideoUrl||t.videoUrl||"",videoFormat:t.videoFormat,videoSecond:parseInt(t.videoSecond,10),videoSize:t.videoSize,videoUrl:t.videoUrl,videoDownloadFlag:2,videoUUID:t.videoUUID,thumbUUID:t.thumbUUID,thumbFormat:t.thumbFormat,thumbWidth:t.thumbWidth,snapshotWidth:t.thumbWidth,thumbHeight:t.thumbHeight,snapshotHeight:t.thumbHeight,thumbSize:t.thumbSize,snapshotSize:t.thumbSize,thumbDownloadFlag:2,thumbUrl:t.thumbUrl,snapshotUrl:t.thumbUrl}}return a(e,[{key:"updatePercent",value:function(e){this._percent=e,this._percent>1&&(this._percent=1)}},{key:"updateVideoUrl",value:function(e){e&&(this.content.remoteVideoUrl=e)}},{key:"updateSnapshotInfo",value:function(e){var t=e.snapshotUrl,n=e.snapshotWidth,r=e.snapshotHeight;jf(t)||(this.content.thumbUrl=this.content.snapshotUrl=t),jf(n)||(this.content.thumbWidth=this.content.snapshotWidth=Number(n)),jf(r)||(this.content.thumbHeight=this.content.snapshotHeight=Number(r))}},{key:"sendable",value:function(){return""!==this.content.remoteVideoUrl}}]),e}(),g_=function(){function e(t){o(this,e),this.type=ho.MSG_LOCATION;var n=t.description,r=t.longitude,i=t.latitude;this.content={description:n,longitude:r,latitude:i}}return a(e,[{key:"sendable",value:function(){return!0}}]),e}(),v_=function(){function e(t){if(o(this,e),this.from=t.from,this.messageSender=t.from,this.time=t.time,this.messageSequence=t.sequence,this.clientSequence=t.clientSequence||t.sequence,this.messageRandom=t.random,this.cloudCustomData=t.cloudCustomData||"",t.ID)this.nick=t.nick||"",this.avatar=t.avatar||"",this.messageBody=[{type:t.type,payload:t.payload}],t.conversationType.startsWith(ho.CONV_C2C)?this.receiverUserID=t.to:t.conversationType.startsWith(ho.CONV_GROUP)&&(this.receiverGroupID=t.to),this.messageReceiver=t.to;else{this.nick=t.nick||"",this.avatar=t.avatar||"",this.messageBody=[];var n=t.elements[0].type,r=t.elements[0].content;this._patchRichMediaPayload(n,r),n===ho.MSG_MERGER?this.messageBody.push({type:n,payload:new m_(r).content}):this.messageBody.push({type:n,payload:r}),t.groupID&&(this.receiverGroupID=t.groupID,this.messageReceiver=t.groupID),t.to&&(this.receiverUserID=t.to,this.messageReceiver=t.to)}}return a(e,[{key:"_patchRichMediaPayload",value:function(e,t){e===ho.MSG_IMAGE?t.imageInfoArray.forEach((function(e){!e.imageUrl&&e.url&&(e.imageUrl=e.url,e.sizeType=e.type,1===e.type?e.type=0:3===e.type&&(e.type=1))})):e===ho.MSG_VIDEO?!t.remoteVideoUrl&&t.videoUrl&&(t.remoteVideoUrl=t.videoUrl):e===ho.MSG_AUDIO?!t.remoteAudioUrl&&t.url&&(t.remoteAudioUrl=t.url):e===ho.MSG_FILE&&!t.fileUrl&&t.url&&(t.fileUrl=t.url,t.url=void 0)}}]),e}(),m_=function(){function e(t){if(o(this,e),this.type=ho.MSG_MERGER,this.content={downloadKey:"",pbDownloadKey:"",messageList:[],title:"",abstractList:[],compatibleText:"",version:0,layersOverLimit:!1},t.downloadKey){var n=t.downloadKey,r=t.pbDownloadKey,i=t.title,a=t.abstractList,s=t.compatibleText,c=t.version;this.content.downloadKey=n,this.content.pbDownloadKey=r,this.content.title=i,this.content.abstractList=a,this.content.compatibleText=s,this.content.version=c||0}else if(jf(t.messageList))1===t.layersOverLimit&&(this.content.layersOverLimit=!0);else{var u=t.messageList,l=t.title,f=t.abstractList,p=t.compatibleText,d=t.version,h=[];u.forEach((function(e){if(!jf(e)){var t=new v_(e);h.push(t)}})),this.content.messageList=h,this.content.title=l,this.content.abstractList=f,this.content.compatibleText=p,this.content.version=d||0}xl.debug("MergerElement.content:",this.content)}return a(e,[{key:"sendable",value:function(){return!jf(this.content.messageList)||!jf(this.content.downloadKey)}}]),e}(),__={1:ho.MSG_PRIORITY_HIGH,2:ho.MSG_PRIORITY_NORMAL,3:ho.MSG_PRIORITY_LOW,4:ho.MSG_PRIORITY_LOWEST},y_=function(){function e(t){o(this,e),this.ID="",this.conversationID=t.conversationID||null,this.conversationType=t.conversationType||ho.CONV_C2C,this.conversationSubType=t.conversationSubType,this.time=t.time||Math.ceil(Date.now()/1e3),this.sequence=t.sequence||0,this.clientSequence=t.clientSequence||t.sequence||0,this.random=t.random||0===t.random?t.random:ff(),this.priority=this._computePriority(t.priority),this.nick=t.nick||"",this.avatar=t.avatar||"",this.isPeerRead=1===t.isPeerRead||!1,this.nameCard="",this._elements=[],this.isPlaceMessage=t.isPlaceMessage||0,this.isRevoked=2===t.isPlaceMessage||8===t.msgFlagBits,this.from=t.from||null,this.to=t.to||null,this.flow="",this.isSystemMessage=t.isSystemMessage||!1,this.protocol=t.protocol||"JSON",this.isResend=!1,this.isRead=!1,this.status=t.status||Pp.SUCCESS,this._onlineOnlyFlag=!1,this._groupAtInfoList=[],this._relayFlag=!1,this.atUserList=[],this.cloudCustomData=t.cloudCustomData||"",this.isDeleted=!1,this.isModified=!1,this._isExcludedFromUnreadCount=!(!t.messageControlInfo||1!==t.messageControlInfo.excludedFromUnreadCount),this._isExcludedFromLastMessage=!(!t.messageControlInfo||1!==t.messageControlInfo.excludedFromLastMessage),this.clientTime=t.clientTime||Nl()||0,this.senderTinyID=t.senderTinyID||t.tinyID||"",this.readReceiptInfo=t.readReceiptInfo||{readCount:void 0,unreadCount:void 0},this.needReadReceipt=!0===t.needReadReceipt||1===t.needReadReceipt,this.version=t.messageVersion||0,this.reInitialize(t.currentUser),this.extractGroupInfo(t.groupProfile||null),this.handleGroupAtInfo(t)}return a(e,[{key:"elements",get:function(){return xl.warn("！！！Message 实例的 elements 属性即将废弃，请尽快修改。使用 type 和 payload 属性处理单条消息，兼容组合消息使用 _elements 属性！！！"),this._elements}},{key:"getElements",value:function(){return this._elements}},{key:"extractGroupInfo",value:function(e){if(null!==e){Yl(e.nick)&&(this.nick=e.nick),Yl(e.avatar)&&(this.avatar=e.avatar);var t=e.messageFromAccountExtraInformation;Xl(t)&&Yl(t.nameCard)&&(this.nameCard=t.nameCard)}}},{key:"handleGroupAtInfo",value:function(e){var t=this;e.payload&&e.payload.atUserList&&e.payload.atUserList.forEach((function(e){e!==ho.MSG_AT_ALL?(t._groupAtInfoList.push({groupAtAllFlag:0,groupAtUserID:e}),t.atUserList.push(e)):(t._groupAtInfoList.push({groupAtAllFlag:1}),t.atUserList.push(ho.MSG_AT_ALL))})),Ql(e.groupAtInfo)&&e.groupAtInfo.forEach((function(e){0===e.groupAtAllFlag?t.atUserList.push(e.groupAtUserID):1===e.groupAtAllFlag&&t.atUserList.push(ho.MSG_AT_ALL)}))}},{key:"getGroupAtInfoList",value:function(){return this._groupAtInfoList}},{key:"_initProxy",value:function(){this._elements[0]&&(this.payload=this._elements[0].content,this.type=this._elements[0].type)}},{key:"reInitialize",value:function(e){e&&(this.status=this.from?Pp.SUCCESS:Pp.UNSEND,!this.from&&(this.from=e)),this._initFlow(e),this._initSequence(e),this._concatConversationID(e),this.generateMessageID()}},{key:"isSendable",value:function(){return 0!==this._elements.length&&("function"!=typeof this._elements[0].sendable?(xl.warn("".concat(this._elements[0].type,' need "boolean : sendable()" method')),!1):this._elements[0].sendable())}},{key:"_initTo",value:function(e){this.conversationType===ho.CONV_GROUP&&(this.to=e.groupID)}},{key:"_initSequence",value:function(e){0===this.clientSequence&&e&&(this.clientSequence=function(e){if(!e)return xl.error("autoIncrementIndex(string: key) need key parameter"),!1;if(void 0===gf[e]){var t=new Date,n="3".concat(t.getHours()).slice(-2),r="0".concat(t.getMinutes()).slice(-2),o="0".concat(t.getSeconds()).slice(-2);gf[e]=parseInt([n,r,o,"0001"].join("")),n=null,r=null,o=null,xl.log("autoIncrementIndex start index:".concat(gf[e]))}return gf[e]++}(e)),0===this.sequence&&this.conversationType===ho.CONV_C2C&&(this.sequence=this.clientSequence)}},{key:"generateMessageID",value:function(){this.from===ho.CONV_SYSTEM&&(this.senderTinyID="144115198244471703"),this.ID="".concat(this.senderTinyID,"-").concat(this.clientTime,"-").concat(this.random)}},{key:"_initFlow",value:function(e){""!==e&&(e===this.from?(this.flow="out",this.isRead=!0):this.flow="in")}},{key:"_concatConversationID",value:function(e){var t=this.to,n="",r=this.conversationType;r!==ho.CONV_SYSTEM?(n=r===ho.CONV_C2C?e===this.from?t:this.from:this.to,this.conversationID="".concat(r).concat(n)):this.conversationID=ho.CONV_SYSTEM}},{key:"isElement",value:function(e){return e instanceof Ig||e instanceof e_||e instanceof t_||e instanceof n_||e instanceof p_||e instanceof h_||e instanceof o_||e instanceof a_||e instanceof d_||e instanceof g_||e instanceof m_}},{key:"setElement",value:function(e){var t=this;if(this.isElement(e))return this._elements=[e],void this._initProxy();var n=function(e){if(e.type&&e.content)switch(e.type){case ho.MSG_TEXT:t.setTextElement(e.content);break;case ho.MSG_IMAGE:t.setImageElement(e.content);break;case ho.MSG_AUDIO:t.setAudioElement(e.content);break;case ho.MSG_FILE:t.setFileElement(e.content);break;case ho.MSG_VIDEO:t.setVideoElement(e.content);break;case ho.MSG_CUSTOM:t.setCustomElement(e.content);break;case ho.MSG_LOCATION:t.setLocationElement(e.content);break;case ho.MSG_GRP_TIP:t.setGroupTipElement(e.content);break;case ho.MSG_GRP_SYS_NOTICE:t.setGroupSystemNoticeElement(e.content);break;case ho.MSG_FACE:t.setFaceElement(e.content);break;case ho.MSG_MERGER:t.setMergerElement(e.content);break;default:xl.warn(e.type,e.content,"no operation......")}};if(Ql(e))for(var r=0;r<e.length;r++)n(e[r]);else n(e);this._initProxy()}},{key:"clearElement",value:function(){this._elements.length=0}},{key:"setTextElement",value:function(e){var t="string"==typeof e?e:e.text,n=new Ig({text:t});this._elements.push(n)}},{key:"setImageElement",value:function(e){var t=new e_(e);this._elements.push(t)}},{key:"setAudioElement",value:function(e){var t=new n_(e);this._elements.push(t)}},{key:"setFileElement",value:function(e){var t=new p_(e);this._elements.push(t)}},{key:"setVideoElement",value:function(e){var t=new h_(e);this._elements.push(t)}},{key:"setLocationElement",value:function(e){var t=new g_(e);this._elements.push(t)}},{key:"setCustomElement",value:function(e){var t=new d_(e);this._elements.push(t)}},{key:"setGroupTipElement",value:function(e){var t={},n=e.operationType;jf(e.memberInfoList)?e.operatorInfo&&(t=e.operatorInfo):n!==ho.GRP_TIP_MBR_JOIN&&n!==ho.GRP_TIP_MBR_KICKED_OUT&&n!==ho.GRP_TIP_MBR_SET_ADMIN&&n!==ho.GRP_TIP_MBR_CANCELED_ADMIN||(t=e.memberInfoList[0]);var r=t,o=r.nick,i=r.avatar;Yl(o)&&(this.nick=o),Yl(i)&&(this.avatar=i);var a=new o_(e);this._elements.push(a)}},{key:"setGroupSystemNoticeElement",value:function(e){var t=new a_(e);this._elements.push(t)}},{key:"setFaceElement",value:function(e){var t=new t_(e);this._elements.push(t)}},{key:"setMergerElement",value:function(e){var t=new m_(e);this._elements.push(t)}},{key:"setIsRead",value:function(e){this.isRead=e}},{key:"setRelayFlag",value:function(e){this._relayFlag=e}},{key:"getRelayFlag",value:function(){return this._relayFlag}},{key:"_computePriority",value:function(e){if(Zl(e))return ho.MSG_PRIORITY_NORMAL;if(Yl(e)&&-1!==Object.values(__).indexOf(e))return e;if(zl(e)){var t=""+e;if(-1!==Object.keys(__).indexOf(t))return __[t]}return ho.MSG_PRIORITY_NORMAL}},{key:"setNickAndAvatar",value:function(e){var t=e.nick,n=e.avatar;Yl(t)&&(this.nick=t),Yl(n)&&(this.avatar=n)}},{key:"setNameCard",value:function(e){Yl(e)&&(this.nameCard=e)}}]),e}(),b_=function(e){return{code:0,data:e||{}}},M_="https://cloud.tencent.com/document/product/",E_="您可以在即时通信 IM 控制台的【开发辅助工具(https://console.cloud.tencent.com/im-detail/tool-usersig)】 页面校验 UserSig。",I_="UserSig 非法，请使用官网提供的 API 重新生成 UserSig(".concat(M_,"269/32688)。"),S_="#.E6.B6.88.E6.81.AF.E5.85.83.E7.B4.A0-timmsgelement",T_={70001:"UserSig 已过期，请重新生成。建议 UserSig 有效期设置不小于24小时。",70002:"UserSig 长度为0，请检查传入的 UserSig 是否正确。",70003:I_,70005:I_,70009:"UserSig 验证失败，可能因为生成 UserSig 时混用了其他 SDKAppID 的私钥或密钥导致，请使用对应 SDKAppID 下的私钥或密钥重新生成 UserSig(".concat(M_,"269/32688)。"),70013:"请求中的 UserID 与生成 UserSig 时使用的 UserID 不匹配。".concat(E_),70014:"请求中的 SDKAppID 与生成 UserSig 时使用的 SDKAppID 不匹配。".concat(E_),70016:"密钥不存在，UserSig 验证失败，请在即时通信 IM 控制台获取密钥(".concat(M_,"269/32578#.E8.8E.B7.E5.8F.96.E5.AF.86.E9.92.A5)。"),70020:"SDKAppID 未找到，请在即时通信 IM 控制台确认应用信息。",70050:"UserSig 验证次数过于频繁。请检查 UserSig 是否正确，并于1分钟后重新验证。".concat(E_),70051:"帐号被拉入黑名单。",70052:"UserSig 已经失效，请重新生成，再次尝试。",70107:"因安全原因被限制登录，请不要频繁登录。",70169:"请求的用户帐号不存在。",70114:"".concat("服务端内部超时，请稍后重试。"),70202:"".concat("服务端内部超时，请稍后重试。"),70206:"请求中批量数量不合法。",70402:"参数非法，请检查必填字段是否填充，或者字段的填充是否满足协议要求。",70403:"请求失败，需要 App 管理员权限。",70398:"帐号数超限。如需创建多于100个帐号，请将应用升级为专业版，具体操作指引请参见购买指引(".concat(M_,"269/32458)。"),70500:"".concat("服务端内部错误，请重试。"),71e3:"删除帐号失败。仅支持删除体验版帐号，您当前应用为专业版，暂不支持帐号删除。",20001:"请求包非法。",20002:"UserSig 或 A2 失效。",20003:"消息发送方或接收方 UserID 无效或不存在，请检查 UserID 是否已导入即时通信 IM。",20004:"网络异常，请重试。",20005:"".concat("服务端内部错误，请重试。"),20006:"触发发送".concat("单聊消息","之前回调，App 后台返回禁止下发该消息。"),20007:"发送".concat("单聊消息","，被对方拉黑，禁止发送。消息发送状态默认展示为失败，您可以登录控制台修改该场景下的消息发送状态展示结果，具体操作请参见消息保留设置(").concat(M_,"269/38656)。"),20009:"消息发送双方互相不是好友，禁止发送（配置".concat("单聊消息","校验好友关系才会出现）。"),20010:"发送".concat("单聊消息","，自己不是对方的好友（单向关系），禁止发送。"),20011:"发送".concat("单聊消息","，对方不是自己的好友（单向关系），禁止发送。"),20012:"发送方被禁言，该条消息被禁止发送。",20016:"消息撤回超过了时间限制（默认2分钟）。",20018:"删除漫游内部错误。",90001:"JSON 格式解析失败，请检查请求包是否符合 JSON 规范。",90002:"".concat("JSON 格式请求包体","中 MsgBody 不符合消息格式描述，或者 MsgBody 不是 Array 类型，请参考 TIMMsgElement 对象的定义(").concat(M_,"269/2720").concat(S_,")。"),90003:"".concat("JSON 格式请求包体","中缺少 To_Account 字段或者 To_Account 帐号不存在。"),90005:"".concat("JSON 格式请求包体","中缺少 MsgRandom 字段或者 MsgRandom 字段不是 Integer 类型。"),90006:"".concat("JSON 格式请求包体","中缺少 MsgTimeStamp 字段或者 MsgTimeStamp 字段不是 Integer 类型。"),90007:"".concat("JSON 格式请求包体","中 MsgBody 类型不是 Array 类型，请将其修改为 Array 类型。"),90008:"".concat("JSON 格式请求包体","中缺少 From_Account 字段或者 From_Account 帐号不存在。"),90009:"请求需要 App 管理员权限。",90010:"".concat("JSON 格式请求包体","不符合消息格式描述，请参考 TIMMsgElement 对象的定义(").concat(M_,"269/2720").concat(S_,")。"),90011:"批量发消息目标帐号超过500，请减少 To_Account 中目标帐号数量。",90012:"To_Account 没有注册或不存在，请确认 To_Account 是否导入即时通信 IM 或者是否拼写错误。",90026:"消息离线存储时间错误（最多不能超过7天）。",90031:"".concat("JSON 格式请求包体","中 SyncOtherMachine 字段不是 Integer 类型。"),90044:"".concat("JSON 格式请求包体","中 MsgLifeTime 字段不是 Integer 类型。"),90048:"请求的用户帐号不存在。",90054:"撤回请求中的 MsgKey 不合法。",90994:"".concat("服务端内部错误，请重试。"),90995:"".concat("服务端内部错误，请重试。"),91e3:"".concat("服务端内部错误，请重试。"),90992:"".concat("服务端内部错误，请重试。","如果所有请求都返回该错误码，且 App 配置了第三方回调，请检查 App 服务端是否正常向即时通信 IM 后台服务端返回回调结果。"),93e3:"JSON 数据包超长，消息包体请不要超过8k。",91101:"Web 端长轮询被踢（Web 端同时在线实例个数超出限制）。",10002:"".concat("服务端内部错误，请重试。"),10003:"请求中的接口名称错误，请核对接口名称并重试。",10004:"参数非法，请根据错误描述检查请求是否正确。",10005:"请求包体中携带的帐号数量过多。",10006:"操作频率限制，请尝试降低调用的频率。",10007:"操作权限不足，例如 Work ".concat("群组","中普通成员尝试执行踢人操作，但只有 App 管理员才有权限。"),10008:"请求非法，可能是请求中携带的签名信息验证不正确，请再次尝试。",10009:"该群不允许群主主动退出。",10010:"".concat("群组","不存在，或者曾经存在过，但是目前已经被解散。"),10011:"解析 JSON 包体失败，请检查包体的格式是否符合 JSON 格式。",10012:"发起操作的 UserID 非法，请检查发起操作的用户 UserID 是否填写正确。",10013:"被邀请加入的用户已经是群成员。",10014:"群已满员，无法将请求中的用户加入".concat("群组","，如果是批量加人，可以尝试减少加入用户的数量。"),10015:"找不到指定 ID 的".concat("群组","。"),10016:"App 后台通过第三方回调拒绝本次操作。",10017:"因被禁言而不能发送消息，请检查发送者是否被设置禁言。",10018:"应答包长度超过最大包长（1MB），请求的内容过多，请尝试减少单次请求的数据量。",10019:"请求的用户帐号不存在。",10021:"".concat("群组"," ID 已被使用，请选择其他的").concat("群组"," ID。"),10023:"发消息的频率超限，请延长两次发消息时间的间隔。",10024:"此邀请或者申请请求已经被处理。",10025:"".concat("群组"," ID 已被使用，并且操作者为群主，可以直接使用。"),10026:"该 SDKAppID 请求的命令字已被禁用。",10030:"请求撤回的消息不存在。",10031:"消息撤回超过了时间限制（默认2分钟）。",10032:"请求撤回的消息不支持撤回操作。",10033:"".concat("群组","类型不支持消息撤回操作。"),10034:"该消息类型不支持删除操作。",10035:"直播群和在线成员广播大群不支持删除消息。",10036:"直播群创建数量超过了限制，请参考价格说明(".concat(M_,"269/11673)购买预付费套餐“IM直播群”。"),10037:"单个用户可创建和加入的".concat("群组","数量超过了限制，请参考价格说明(").concat(M_,"269/11673)购买或升级预付费套餐“单人可创建与加入").concat("群组","数”。"),10038:"群成员数量超过限制，请参考价格说明(".concat(M_,"269/11673)购买或升级预付费套餐“扩展群人数上限”。"),10041:"该应用（SDKAppID）已配置不支持群消息撤回。",10050:"群属性 key 不存在",10056:"请在写入群属性前先使用 getGroupAttributes 接口更新本地群属性，避免冲突。",10059:"非旗舰版",10060:"群人数超过已读回执人数上限",10061:"在线消息不支持已读回执",10062:"找不到群消息的已读回执信息",20026:"消息不存在",20029:"该群类型不支持修改消息。",30001:"请求参数错误，请根据错误描述检查请求参数",30002:"SDKAppID 不匹配",30003:"请求的用户帐号不存在",30004:"请求需要 App 管理员权限",30005:"关系链字段中包含敏感词",30006:"".concat("服务端内部错误，请重试。"),30007:"".concat("网络超时，请稍后重试. "),30008:"并发写导致写冲突，建议使用批量方式",30009:"后台禁止该用户发起加好友请求",30010:"自己的好友数已达系统上限",30011:"分组已达系统上限",30012:"未决数已达系统上限",30014:"对方的好友数已达系统上限",30515:"请求添加好友时，对方在自己的黑名单中，不允许加好友",30516:"请求添加好友时，对方的加好友验证方式是不允许任何人添加自己为好友",30525:"请求添加好友时，自己在对方的黑名单中，不允许加好友",30539:"等待对方同意",30540:"添加好友请求被安全策略打击，请勿频繁发起添加好友请求",31704:"与请求删除的帐号之间不存在好友关系",31707:"删除好友请求被安全策略打击，请勿频繁发起删除好友请求"},O_=function(e){c(n,e);var t=m(n);function n(e){var r;return o(this,n),(r=t.call(this)).code=e.code,r.message=T_[e.code]||e.message,r.data=e.data||{},r}return a(n)}(d(Error)),C_=null,A_=function(e){C_=e},w_=function(e){return Promise.resolve(b_(e))},R_=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e instanceof O_)return t&&null!==C_&&C_.emit(po.ERROR,e),Promise.reject(e);if(e instanceof Error){var n=new O_({code:eg.UNCAUGHT_ERROR,message:e.message});return t&&null!==C_&&C_.emit(po.ERROR,n),Promise.reject(n)}if(Zl(e)||Zl(e.code)||Zl(e.message))xl.error("IMPromise.reject 必须指定code(错误码)和message(错误信息)!!!");else{if(zl(e.code)&&Yl(e.message)){var r=new O_(e);return t&&null!==C_&&C_.emit(po.ERROR,r),Promise.reject(r)}xl.error("IMPromise.reject code(错误码)必须为数字，message(错误信息)必须为字符串!!!")}},D_=function(e){c(r,e);var t=m(r);function r(e){var n;return o(this,r),(n=t.call(this,e))._className="C2CModule",n}return a(r,[{key:"onNewC2CMessage",value:function(e){var t=e.dataList,n=e.isInstantMessage,r=e.C2CRemainingUnreadList,o=e.C2CPairUnreadList;xl.debug("".concat(this._className,".onNewC2CMessage count:").concat(t.length," isInstantMessage:").concat(n));var i=this._newC2CMessageStoredAndSummary({dataList:t,C2CRemainingUnreadList:r,C2CPairUnreadList:o,isInstantMessage:n}),a=i.conversationOptionsList,s=i.messageList,c=i.isUnreadC2CMessage;this.filterModifiedMessage(s),a.length>0&&this.getModule(sd).onNewMessage({conversationOptionsList:a,isInstantMessage:n,isUnreadC2CMessage:c});var u=this.filterUnmodifiedMessage(s);n&&u.length>0&&this.emitOuterEvent(po.MESSAGE_RECEIVED,u),s.length=0}},{key:"_newC2CMessageStoredAndSummary",value:function(e){for(var t=e.dataList,n=e.C2CRemainingUnreadList,r=e.C2CPairUnreadList,o=e.isInstantMessage,i=null,a=[],s=[],c={},u=this.getModule(pd),l=this.getModule(Ed),f=!1,p=0,d=t.length;p<d;p++){var h=t[p];h.currentUser=this.getMyUserID(),h.conversationType=ho.CONV_C2C,h.isSystemMessage=!!h.isSystemMessage,(Zl(h.nick)||Zl(h.avatar))&&(f=!0,xl.debug("".concat(this._className,"._newC2CMessageStoredAndSummary nick or avatar missing!"))),i=new y_(h),h.elements=u.parseElements(h.elements,h.from),i.setElement(h.elements),i.setNickAndAvatar({nick:h.nick,avatar:h.avatar});var g=i.conversationID;if(o){var v=!1,m=this.getModule(sd);if(i.from!==this.getMyUserID()){var _=m.getLatestMessageSentByPeer(g);if(_){var y=_.nick,b=_.avatar;f?i.setNickAndAvatar({nick:y,avatar:b}):y===i.nick&&b===i.avatar||(v=!0)}}else{var M=m.getLatestMessageSentByMe(g);if(M){var E=M.nick,I=M.avatar;E===i.nick&&I===i.avatar||m.modifyMessageSentByMe({conversationID:g,latestNick:i.nick,latestAvatar:i.avatar})}}var S=1===t[p].isModified;if(m.isMessageSentByCurrentInstance(i)?i.isModified=S:S=!1,0===h.msgLifeTime)i._onlineOnlyFlag=!0,s.push(i);else{if(!m.pushIntoMessageList(s,i,S))continue;v&&(m.modifyMessageSentByPeer({conversationID:g,latestNick:i.nick,latestAvatar:i.avatar}),m.updateUserProfileSpecifiedKey({conversationID:g,nick:i.nick,avatar:i.avatar}))}o&&i.clientTime>0&&l.addMessageDelay(i.clientTime)}if(0!==h.msgLifeTime){if(!1===i._onlineOnlyFlag)if(Zl(c[g])){var T=0;"in"===i.flow&&(i._isExcludedFromUnreadCount||(T=1)),c[g]=a.push({conversationID:g,unreadCount:T,type:i.conversationType,subType:i.conversationSubType,lastMessage:i._isExcludedFromLastMessage?"":i})-1}else{var O=c[g];a[O].type=i.conversationType,a[O].subType=i.conversationSubType,a[O].lastMessage=i._isExcludedFromLastMessage?"":i,"in"===i.flow&&(i._isExcludedFromUnreadCount||a[O].unreadCount++)}}else i._onlineOnlyFlag=!0}var C=!1;if(Ql(r))for(var A=function(e,t){if(r[e].unreadCount>0){C=!0;var n=a.find((function(t){return t.conversationID==="C2C".concat(r[e].from)}));n?n.unreadCount=r[e].unreadCount:a.push({conversationID:"C2C".concat(r[e].from),unreadCount:r[e].unreadCount,type:ho.CONV_C2C})}},w=0,R=r.length;w<R;w++)A(w);if(Ql(n))for(var D=function(e,t){a.find((function(t){return t.conversationID==="C2C".concat(n[e].from)}))||a.push({conversationID:"C2C".concat(n[e].from),type:ho.CONV_C2C,lastMsgTime:n[e].lastMsgTime})},N=0,k=n.length;N<k;N++)D(N);return{conversationOptionsList:a,messageList:s,isUnreadC2CMessage:C}}},{key:"onC2CMessageRevoked",value:function(e){var t=this;xl.debug("".concat(this._className,".onC2CMessageRevoked count:").concat(e.dataList.length));var n=this.getModule(sd),r=[],o=null;e.dataList.forEach((function(e){if(e.c2cMessageRevokedNotify){var i=e.c2cMessageRevokedNotify.revokedInfos;Zl(i)||i.forEach((function(e){var i=t.getMyUserID()===e.from?"".concat(ho.CONV_C2C).concat(e.to):"".concat(ho.CONV_C2C).concat(e.from);(o=n.revoke(i,e.sequence,e.random))&&r.push(o)}))}})),0!==r.length&&(n.onMessageRevoked(r),this.emitOuterEvent(po.MESSAGE_REVOKED,r))}},{key:"onC2CMessageReadReceipt",value:function(e){var t=this;e.dataList.forEach((function(e){if(!jf(e.c2cMessageReadReceipt)){var n=e.c2cMessageReadReceipt.to;e.c2cMessageReadReceipt.uinPairReadArray.forEach((function(e){var r=e.peerReadTime;xl.debug("".concat(t._className,"._onC2CMessageReadReceipt to:").concat(n," peerReadTime:").concat(r));var o="".concat(ho.CONV_C2C).concat(n),i=t.getModule(sd);i.recordPeerReadTime(o,r),i.updateMessageIsPeerReadProperty(o,r)}))}}))}},{key:"onC2CMessageReadNotice",value:function(e){var t=this;e.dataList.forEach((function(e){if(!jf(e.c2cMessageReadNotice)){var n=t.getModule(sd);e.c2cMessageReadNotice.uinPairReadArray.forEach((function(e){var r=e.from,o=e.peerReadTime;xl.debug("".concat(t._className,".onC2CMessageReadNotice from:").concat(r," lastReadTime:").concat(o));var i="".concat(ho.CONV_C2C).concat(r);n.updateIsReadAfterReadReport({conversationID:i,lastMessageTime:o}),n.updateUnreadCount(i)}))}}))}},{key:"onC2CMessageModified",value:function(e){xl.debug("".concat(this._className,".onC2CMessageModified options:"),JSON.stringify(e));var t=this.getModule(sd);e.dataList.forEach((function(e){t.onMessageModified(n(n({},e),{},{conversationType:ho.CONV_C2C}))}))}},{key:"onReadReceiptList",value:function(e){xl.debug("".concat(this._className,".onReadReceiptList options:"),JSON.stringify(e));var t=e.dataList,n=t.userID,r=t.readReceiptList;this.getModule(sd).updateReadReceiptInfo({userID:n,readReceiptList:r})}},{key:"sendMessage",value:function(e,t){var n=this._createC2CMessagePack(e,t);return this.request(n)}},{key:"_createC2CMessagePack",value:function(e,t){var n=null;t&&(t.offlinePushInfo&&(n=t.offlinePushInfo),!0===t.onlineUserOnly&&(n?n.disablePush=!0:n={disablePush:!0}));var r="";Yl(e.cloudCustomData)&&e.cloudCustomData.length>0&&(r=e.cloudCustomData);var o=[];if(Xl(t)&&Xl(t.messageControlInfo)){var i=t.messageControlInfo,a=i.excludedFromUnreadCount,s=i.excludedFromLastMessage;!0===a&&o.push("NoUnread"),!0===s&&o.push("NoLastMsg")}return{protocolName:Dd,tjgID:this.generateTjgID(e),requestData:{fromAccount:this.getMyUserID(),toAccount:e.to,msgBody:e.getElements(),cloudCustomData:r,msgSeq:e.sequence,msgRandom:e.random,msgLifeTime:this.isOnlineMessage(e,t)?0:void 0,nick:e.nick,avatar:e.avatar,offlinePushInfo:n?{pushFlag:!0===n.disablePush?1:0,title:n.title||"",desc:n.description||"",ext:n.extension||"",apnsInfo:{badgeMode:!0===n.ignoreIOSBadge?1:0},androidInfo:{OPPOChannelID:n.androidOPPOChannelID||""}}:void 0,messageControlInfo:o,clientTime:e.clientTime,needReadReceipt:!0===e.needReadReceipt?1:0}}}},{key:"isOnlineMessage",value:function(e,t){return!(!t||!0!==t.onlineUserOnly)}},{key:"revokeMessage",value:function(e){return this.request({protocolName:Ud,requestData:{msgInfo:{fromAccount:e.from,toAccount:e.to,msgSeq:e.sequence,msgRandom:e.random,msgTimeStamp:e.time}}})}},{key:"deleteMessage",value:function(e){var t=e.to,n=e.keyList;return xl.log("".concat(this._className,".deleteMessage toAccount:").concat(t," count:").concat(n.length)),this.request({protocolName:$d,requestData:{fromAccount:this.getMyUserID(),to:t,keyList:n}})}},{key:"modifyRemoteMessage",value:function(e){var t=e.from,n=e.to,r=e.version,o=void 0===r?0:r,i=e.sequence,a=e.random,s=e.time,c=e.payload,u=e.type,l=e.cloudCustomData;return this.request({protocolName:Hd,requestData:{from:t,to:n,version:o,sequence:i,random:a,time:s,elements:[{type:u,content:c}],cloudCustomData:l}})}},{key:"setMessageRead",value:function(e){var t=this,n=e.conversationID,r=e.lastMessageTime,o="".concat(this._className,".setMessageRead");xl.log("".concat(o," conversationID:").concat(n," lastMessageTime:").concat(r)),zl(r)||xl.warn("".concat(o," 请勿修改 Conversation.lastMessage.lastTime，否则可能会导致已读上报结果不准确"));var i=new vg(mg.SET_C2C_MESSAGE_READ);return i.setMessage("conversationID:".concat(n," lastMessageTime:").concat(r)),this.request({protocolName:Fd,requestData:{C2CMsgReaded:{cookie:"",C2CMsgReadedItem:[{toAccount:n.replace("C2C",""),lastMessageTime:r,receipt:1}]}}}).then((function(){i.setNetworkType(t.getNetworkType()).end(),xl.log("".concat(o," ok"));var e=t.getModule(sd);return e.updateIsReadAfterReadReport({conversationID:n,lastMessageTime:r}),e.updateUnreadCount(n),b_()})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];i.setError(e,r,o).end()})),xl.log("".concat(o," failed. error:"),e),R_(e)}))}},{key:"getRoamingMessage",value:function(e){var t=this,n="".concat(this._className,".getRoamingMessage"),r=e.peerAccount,o=e.conversationID,i=e.count,a=e.lastMessageTime,s=e.messageKey,c="peerAccount:".concat(r," count:").concat(i||15," lastMessageTime:").concat(a||0," messageKey:").concat(s);xl.log("".concat(n," ").concat(c));var u=new vg(mg.GET_C2C_ROAMING_MESSAGES);return this.request({protocolName:Bd,requestData:{peerAccount:r,count:i||15,lastMessageTime:a||0,messageKey:s}}).then((function(e){var r=e.data,i=r.complete,a=r.messageList,s=r.messageKey,l=r.lastMessageTime;Zl(a)?xl.log("".concat(n," ok. complete:").concat(i," but messageList is undefined!")):xl.log("".concat(n," ok. complete:").concat(i," count:").concat(a.length)),u.setNetworkType(t.getNetworkType()).setMessage("".concat(c," complete:").concat(i," length:").concat(a.length)).end();var f=t.getModule(sd);1===i&&f.setCompleted(o);var p=f.onRoamingMessage(a,o);f.modifyMessageList(o),f.updateIsRead(o),f.updateRoamingMessageKeyAndTime(o,s,l);var d=f.getPeerReadTime(o);if(xl.log("".concat(n," update isPeerRead property. conversationID:").concat(o," peerReadTime:").concat(d)),d)f.updateMessageIsPeerReadProperty(o,d);else{var h=o.replace(ho.CONV_C2C,"");t.getRemotePeerReadTime([h]).then((function(){f.updateMessageIsPeerReadProperty(o,f.getPeerReadTime(o))}))}var g="";if(p.length>0)g=p[0].ID;else{var v=f.getLocalOldestMessage(o);v&&(g=v.ID)}return xl.log("".concat(n," nextReqID:").concat(g," stored message count:").concat(p.length)),{nextReqID:g,storedMessageList:p}})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];u.setMessage(c).setError(e,r,o).end()})),xl.warn("".concat(n," failed. error:"),e),R_(e)}))}},{key:"getRoamingMessagesHopping",value:function(e){var t=this,n="".concat(this._className,".getRoamingMessagesHopping"),r=e.peerAccount,o=e.time,i=void 0===o?0:o,a=e.count,s=e.direction,c="peerAccount:".concat(r," count:").concat(a," time:").concat(i," direction:").concat(s);xl.log("".concat(n," ").concat(c));var u=new vg(mg.GET_C2C_ROAMING_MESSAGES_HOPPING);return this.request({protocolName:Bd,requestData:{peerAccount:r,count:a,lastMessageTime:i,direction:s}}).then((function(e){var o=e.data,i=o.complete,a=o.messageList,s=void 0===a?[]:a;xl.log("".concat(n," ok. complete:").concat(i," count:").concat(s.length)),u.setNetworkType(t.getNetworkType()).setMessage("".concat(c," complete:").concat(i," length:").concat(s.length)).end();var l="".concat(ho.CONV_C2C).concat(r),f=t.getModule(sd).onRoamingMessage(s,l,!1);return t._modifyMessageList(l,f),f})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];u.setMessage(c).setError(e,r,o).end()})),xl.warn("".concat(n," failed. error:"),e),R_(e)}))}},{key:"_modifyMessageList",value:function(e,t){var n=this.getModule(sd).getLocalConversation(e);if(n)for(var r=n.userProfile.nick,o=n.userProfile.avatar,i=this.getModule(td).getNickAndAvatarByUserID(this.getMyUserID()),a=i.nick,s=i.avatar,c=t.length-1;c>=0;c--){var u=t[c];"in"===u.flow&&(u.nick!==r&&u.setNickAndAvatar({nick:r}),u.avatar!==o&&u.setNickAndAvatar({avatar:o})),"out"===u.flow&&(u.nick!==a&&u.setNickAndAvatar({nick:a}),u.avatar!==s&&u.setNickAndAvatar({avatar:s}))}}},{key:"getRemotePeerReadTime",value:function(e){var t=this,n="".concat(this._className,".getRemotePeerReadTime");if(jf(e))return xl.warn("".concat(n," userIDList is empty!")),Promise.resolve();var r=new vg(mg.GET_PEER_READ_TIME);return xl.log("".concat(n," userIDList:").concat(e)),this.request({protocolName:Vd,requestData:{userIDList:e}}).then((function(o){var i=o.data.peerReadTimeList;xl.log("".concat(n," ok. peerReadTimeList:").concat(i));for(var a="",s=t.getModule(sd),c=0;c<e.length;c++)a+="".concat(e[c],"-").concat(i[c]," "),i[c]>0&&s.recordPeerReadTime("C2C".concat(e[c]),i[c]);r.setNetworkType(t.getNetworkType()).setMessage(a).end()})).catch((function(e){t.probeNetwork().then((function(t){var n=_(t,2),o=n[0],i=n[1];r.setError(e,o,i).end()})),xl.warn("".concat(n," failed. error:"),e)}))}},{key:"sendReadReceipt",value:function(e){var t=this,n=e[0].conversationID.replace(ho.CONV_C2C,""),r=new vg(mg.SEND_C2C_READ_RECEIPT);r.setMessage("peerAccount:".concat(n));var o=this.getMyUserID(),i=e.filter((function(e){return e.from!==o&&!0===e.needReadReceipt})).map((function(e){return{fromAccount:e.from,toAccount:e.to,sequence:e.sequence,random:e.random,time:e.time,clientTime:e.clientTime}}));if(0===i.length)return R_({code:eg.READ_RECEIPT_MESSAGE_LIST_EMPTY,message:tg.READ_RECEIPT_MESSAGE_LIST_EMPTY});var a="".concat(this._className,".sendReadReceipt");return xl.log("".concat(a,". peerAccount:").concat(n," messageInfoList length:").concat(i.length)),this.request({protocolName:gh,requestData:{peerAccount:n,messageInfoList:i}}).then((function(e){return r.end(),xl.log("".concat(a," ok")),b_()})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),o=n[0],i=n[1];r.setError(e,o,i).end()})),xl.warn("".concat(a," failed. error:"),e),R_(e)}))}},{key:"getReadReceiptList",value:function(e){var t="".concat(this._className,".getReadReceiptList"),n=this.getMyUserID(),r=e.filter((function(e){return e.from===n&&!0===e.needReadReceipt}));return xl.log("".concat(t," userID:").concat(n," messageList length:").concat(r.length)),w_({messageList:r})}}]),r}(Sd),N_=ae.match(/firefox\/(\d+)/i),k_=!!N_&&+N_[1],L_=/MSIE|Trident/.test(ae),P_=ae.match(/AppleWebKit\/(\d+)\./),x_=!!P_&&+P_[1],G_=[],U_=H(G_.sort),F_=H(G_.push),j_=N((function(){G_.sort(void 0)})),q_=N((function(){G_.sort(null)})),B_=tr("sort"),V_=!N((function(){if(fe)return fe<70;if(!(k_&&k_>3)){if(L_)return!0;if(x_)return x_<603;var e,t,n,r,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)G_.push({k:t+r,v:n})}for(G_.sort((function(e,t){return t.v-e.v})),r=0;r<G_.length;r++)t=G_[r].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));rn({target:"Array",proto:!0,forced:j_||!q_||!B_||!V_},{sort:function(e){void 0!==e&&ye(e);var t=Ce(this);if(V_)return void 0===e?U_(t):U_(t,e);var n,r,o=[],i=xt(t);for(r=0;r<i;r++)r in t&&F_(o,t[r]);for(Jg(o,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:pn(t)>pn(n)?1:-1}}(e)),n=o.length,r=0;r<n;)t[r]=o[r++];for(;r<i;)delete t[r++];return t}});var $_=er.findIndex,H_=!0;"findIndex"in[]&&Array(1).findIndex((function(){H_=!1})),rn({target:"Array",proto:!0,forced:H_},{findIndex:function(e){return $_(this,e,arguments.length>1?arguments[1]:void 0)}}),Ki("findIndex");var K_=function(){function e(){o(this,e),this.list=new Map,this._className="MessageListHandler",this._latestMessageSentByPeerMap=new Map,this._latestMessageSentByMeMap=new Map,this._groupLocalLastMessageSequenceMap=new Map}return a(e,[{key:"getLocalOldestMessageByConversationID",value:function(e){if(!e)return null;if(!this.list.has(e))return null;var t=this.list.get(e).values();return t?t.next().value:null}},{key:"pushIn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.conversationID,r=!0;this.list.has(n)||this.list.set(n,new Map);var o=this._getUniqueIDOfMessage(e),i=this.list.get(n).has(o);if(i){var a=this.list.get(n).get(o);if(!t||!0===a.isModified)return!1}return this.list.get(n).set(o,e),this._setLatestMessageSentByPeer(n,e),this._setLatestMessageSentByMe(n,e),this._setGroupLocalLastMessageSequence(n,e),r}},{key:"unshift",value:function(e,t){var n;if(Ql(e)){if(e.length>0){n=e[0].conversationID;var r=e.length;this._unshiftMultipleMessages(e,t),this._setGroupLocalLastMessageSequence(n,e[r-1])}}else n=e.conversationID,this._unshiftSingleMessage(e,t),this._setGroupLocalLastMessageSequence(n,e);if(n&&n.startsWith(ho.CONV_C2C)){var o=Array.from(this.list.get(n).values()),i=o.length;if(0===i)return;for(var a=i-1;a>=0;a--)if("out"===o[a].flow){this._setLatestMessageSentByMe(n,o[a]);break}for(var s=i-1;s>=0;s--)if("in"===o[s].flow){this._setLatestMessageSentByPeer(n,o[s]);break}}}},{key:"_unshiftSingleMessage",value:function(e,t){var n=e.conversationID,r=this._getUniqueIDOfMessage(e);if(!this.list.has(n))return this.list.set(n,new Map),this.list.get(n).set(r,e),void t.push(e);var o=this.list.get(n),i=Array.from(o);o.has(r)||(i.unshift([r,e]),this.list.set(n,new Map(i)),t.push(e))}},{key:"_unshiftMultipleMessages",value:function(e,t){for(var n=e.length,r=[],o=e[0].conversationID,i=this.list.get(o),a=this.list.has(o)?Array.from(i):[],s=0;s<n;s++){var c=this._getUniqueIDOfMessage(e[s]);i&&i.has(c)||(r.push([c,e[s]]),t.push(e[s]))}this.list.set(o,new Map(r.concat(a)))}},{key:"remove",value:function(e){var t=e.conversationID,n=this._getUniqueIDOfMessage(e);this.list.has(t)&&this.list.get(t).delete(n)}},{key:"revoke",value:function(e,t,n){if(xl.debug("revoke message",e,t,n),this.list.has(e)){var r,o=T(this.list.get(e));try{for(o.s();!(r=o.n()).done;){var i=_(r.value,2)[1];if(i.sequence===t&&!i.isRevoked&&(Zl(n)||i.random===n))return i.isRevoked=!0,i}}catch(s){o.e(s)}finally{o.f()}}return null}},{key:"removeByConversationID",value:function(e){this.list.has(e)&&(this.list.delete(e),this._latestMessageSentByPeerMap.delete(e),this._latestMessageSentByMeMap.delete(e))}},{key:"findMessage",value:function(e){var t,n=null,r=T(this.list);try{for(r.s();!(t=r.n()).done;)for(var o=y(_(t.value,2)[1].values()),i=o.length,a=0;a<i;a++)if(o[a].ID===e){n=o[a];break}}catch(c){r.e(c)}finally{r.f()}return n}},{key:"updateMessageIsPeerReadProperty",value:function(e,t){var n=[];if(this.list.has(e)){var r,o=T(this.list.get(e));try{for(o.s();!(r=o.n()).done;){var i=_(r.value,2)[1];i.time<=t&&!i.isPeerRead&&"out"===i.flow&&(i.isPeerRead=!0,n.push(i))}}catch(s){o.e(s)}finally{o.f()}xl.log("".concat(this._className,".updateMessageIsPeerReadProperty conversationID:").concat(e," peerReadTime:").concat(t," count:").concat(n.length))}return n}},{key:"updateMessageIsModifiedProperty",value:function(e){var t=e.conversationID;if(this.list.has(t)){var n=this._getUniqueIDOfMessage(e),r=this.list.get(t).get(n);r&&(r.isModified=!0)}}},{key:"hasLocalMessageList",value:function(e){return this.list.has(e)}},{key:"getLocalMessageList",value:function(e){return this.hasLocalMessageList(e)?y(this.list.get(e).values()):[]}},{key:"hasLocalMessage",value:function(e,t){for(var n=!1,r=this.getLocalMessageList(e),o=r.length,i=0;i<o;i++)r[i].ID===t&&(n=!0);return n}},{key:"getLocalMessage",value:function(e,t){for(var n=null,r=this.getLocalMessageList(e),o=r.length,i=0;i<o;i++)if(r[i].ID===t){n=r[i];break}return n}},{key:"getLocalLastMessage",value:function(e){var t=this.getLocalMessageList(e);return t[t.length-1]}},{key:"getLocalOldestMessage",value:function(e){return this.getLocalMessageList(e)[0]}},{key:"_setLatestMessageSentByPeer",value:function(e,t){e.startsWith(ho.CONV_C2C)&&"in"===t.flow&&this._latestMessageSentByPeerMap.set(e,t)}},{key:"_setLatestMessageSentByMe",value:function(e,t){e.startsWith(ho.CONV_C2C)&&"out"===t.flow&&this._latestMessageSentByMeMap.set(e,t)}},{key:"_setGroupLocalLastMessageSequence",value:function(e,t){e.startsWith(ho.CONV_GROUP)&&this._groupLocalLastMessageSequenceMap.set(e,t.sequence)}},{key:"getLatestMessageSentByPeer",value:function(e){return this._latestMessageSentByPeerMap.get(e)}},{key:"getLatestMessageSentByMe",value:function(e){return this._latestMessageSentByMeMap.get(e)}},{key:"getGroupLocalLastMessageSequence",value:function(e){return this._groupLocalLastMessageSequenceMap.get(e)||0}},{key:"modifyMessageSentByPeer",value:function(e){var t=e.conversationID,n=e.latestNick,r=e.latestAvatar,o=this.list.get(t);if(!jf(o)){var i=Array.from(o.values()),a=i.length;if(0!==a){for(var s=null,c=0,u=!1,l=a-1;l>=0;l--)"in"===i[l].flow&&((s=i[l]).nick!==n&&(s.setNickAndAvatar({nick:n}),u=!0),s.avatar!==r&&(s.setNickAndAvatar({avatar:r}),u=!0),u&&(c+=1));xl.log("".concat(this._className,".modifyMessageSentByPeer conversationID:").concat(t," count:").concat(c))}}}},{key:"modifyMessageSentByMe",value:function(e){var t=e.conversationID,n=e.latestNick,r=e.latestAvatar,o=this.list.get(t);if(!jf(o)){var i=Array.from(o.values()),a=i.length;if(0!==a){for(var s=null,c=0,u=!1,l=a-1;l>=0;l--)"out"===i[l].flow&&((s=i[l]).nick!==n&&(s.setNickAndAvatar({nick:n}),u=!0),s.avatar!==r&&(s.setNickAndAvatar({avatar:r}),u=!0),u&&(c+=1));xl.log("".concat(this._className,".modifyMessageSentByMe conversationID:").concat(t," count:").concat(c))}}}},{key:"getLocalMessageListHopping",value:function(e){var t=e.conversationID,n=e.sequence,r=e.time,o=e.count,i=e.direction,a=this.getLocalMessageList(t),s=-1;if(t.startsWith(ho.CONV_C2C)?s=a.findIndex((function(e){return e.time===r})):t.startsWith(ho.CONV_GROUP)&&(s=a.findIndex((function(e){return e.sequence===n}))),-1===s)return[];var c=s+1,u=c>o?c-o:0;return 1===i&&(u=s,c=s+o),a.slice(u,c)}},{key:"getConversationIDList",value:function(e){return y(this.list.keys()).filter((function(t){return t.startsWith(e)}))}},{key:"traversal",value:function(){if(0!==this.list.size&&-1===xl.getLevel()){console.group("conversationID-messageCount");var e,t=T(this.list);try{for(t.s();!(e=t.n()).done;){var n=_(e.value,2),r=n[0],o=n[1];console.log("".concat(r,"-").concat(o.size))}}catch(a){t.e(a)}finally{t.f()}console.groupEnd()}}},{key:"onMessageModified",value:function(e,t){if(!this.list.has(e))return{isUpdated:!1,message:null};var n=this._getUniqueIDOfMessage(t),r=this.list.get(e).has(n);if(xl.debug("".concat(this._className,".onMessageModified conversationID:").concat(e," uniqueID:").concat(n," has:").concat(r)),r){var o=this.list.get(e).get(n),i=t.messageVersion,a=t.elements,s=t.cloudCustomData;return o.version<i?(o.version=i,o._elements=JSON.parse(JSON.stringify(a)),o.payload=JSON.parse(JSON.stringify(a[0].content)),o.type=a[0].type,o.cloudCustomData=s,o.isModified=!0,{isUpdated:!0,message:o}):{isUpdated:!1,message:o}}return{isUpdated:!1,message:null}}},{key:"_getUniqueIDOfMessage",value:function(e){var t=e.from,n=e.to,r=e.random,o=e.sequence,i=e.time;return"".concat(t,"-").concat(n,"-").concat(r,"-").concat(o,"-").concat(i)}},{key:"reset",value:function(){this.list.clear(),this._latestMessageSentByPeerMap.clear(),this._latestMessageSentByMeMap.clear(),this._groupLocalLastMessageSequenceMap.clear()}}]),e}(),W_="_a2KeyAndTinyIDUpdated",z_="_cloudConfigUpdated",Y_="_profileUpdated";function J_(e){this.mixin(e)}J_.mixin=function(e){var t=e.prototype||e;t._isReady=!1,t.ready=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this._isReady?void(t?e.call(this):setTimeout(e,1)):(this._readyQueue=this._readyQueue||[],void this._readyQueue.push(e))},t.triggerReady=function(){var e=this;this._isReady=!0,setTimeout((function(){var t=e._readyQueue;e._readyQueue=[],t&&t.length>0&&t.forEach((function(e){e.call(this)}),e)}),1)},t.resetReady=function(){this._isReady=!1,this._readyQueue=[]},t.isReady=function(){return this._isReady}};var X_=["jpg","jpeg","gif","png","bmp","image","webp"],Q_=["mp4"],Z_=1,ey=2,ty=3,ny=255,ry=function(){function e(t){var n=this;o(this,e),jf(t)||(this.userID=t.userID||"",this.nick=t.nick||"",this.gender=t.gender||"",this.birthday=t.birthday||0,this.location=t.location||"",this.selfSignature=t.selfSignature||"",this.allowType=t.allowType||ho.ALLOW_TYPE_ALLOW_ANY,this.language=t.language||0,this.avatar=t.avatar||"",this.messageSettings=t.messageSettings||0,this.adminForbidType=t.adminForbidType||ho.FORBID_TYPE_NONE,this.level=t.level||0,this.role=t.role||0,this.lastUpdatedTime=0,this.profileCustomField=[],jf(t.profileCustomField)||t.profileCustomField.forEach((function(e){n.profileCustomField.push({key:e.key,value:e.value})})))}return a(e,[{key:"validate",value:function(e){var t=!0,n="";if(jf(e))return{valid:!1,tips:"empty options"};if(e.profileCustomField)for(var r=e.profileCustomField.length,o=null,i=0;i<r;i++){if(o=e.profileCustomField[i],!Yl(o.key)||-1===o.key.indexOf("Tag_Profile_Custom"))return{valid:!1,tips:"自定义资料字段的前缀必须是 Tag_Profile_Custom"};if(!Yl(o.value))return{valid:!1,tips:"自定义资料字段的 value 必须是字符串"}}for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if("profileCustomField"===a)continue;if(jf(e[a])&&!Yl(e[a])&&!zl(e[a])){n="key:"+a+", invalid value:"+e[a],t=!1;continue}switch(a){case"nick":Yl(e[a])||(n="nick should be a string",t=!1),lf(e[a])>500&&(n="nick name limited: must less than or equal to ".concat(500," bytes, current size: ").concat(lf(e[a])," bytes"),t=!1);break;case"gender":hf(Fl,e.gender)||(n="key:gender, invalid value:"+e.gender,t=!1);break;case"birthday":zl(e.birthday)||(n="birthday should be a number",t=!1);break;case"location":Yl(e.location)||(n="location should be a string",t=!1);break;case"selfSignature":Yl(e.selfSignature)||(n="selfSignature should be a string",t=!1);break;case"allowType":hf(ql,e.allowType)||(n="key:allowType, invalid value:"+e.allowType,t=!1);break;case"language":zl(e.language)||(n="language should be a number",t=!1);break;case"avatar":Yl(e.avatar)||(n="avatar should be a string",t=!1);break;case"messageSettings":0!==e.messageSettings&&1!==e.messageSettings&&(n="messageSettings should be 0 or 1",t=!1);break;case"adminForbidType":hf(jl,e.adminForbidType)||(n="key:adminForbidType, invalid value:"+e.adminForbidType,t=!1);break;case"level":zl(e.level)||(n="level should be a number",t=!1);break;case"role":zl(e.role)||(n="role should be a number",t=!1);break;default:n="unknown key:"+a+"  "+e[a],t=!1}}return{valid:t,tips:n}}}]),e}(),oy=a((function e(t){o(this,e),this.value=t,this.next=null})),iy=function(){function e(t){o(this,e),this.MAX_LENGTH=t,this.pTail=null,this.pNodeToDel=null,this.map=new Map,xl.debug("SinglyLinkedList init MAX_LENGTH:".concat(this.MAX_LENGTH))}return a(e,[{key:"set",value:function(e){var t=new oy(e);if(this.map.size<this.MAX_LENGTH)null===this.pTail?(this.pTail=t,this.pNodeToDel=t):(this.pTail.next=t,this.pTail=t),this.map.set(e,1);else{var n=this.pNodeToDel;this.pNodeToDel=this.pNodeToDel.next,this.map.delete(n.value),n.next=null,n=null,this.pTail.next=t,this.pTail=t,this.map.set(e,1)}}},{key:"has",value:function(e){return this.map.has(e)}},{key:"delete",value:function(e){this.has(e)&&this.map.delete(e)}},{key:"tail",value:function(){return this.pTail}},{key:"size",value:function(){return this.map.size}},{key:"data",value:function(){return Array.from(this.map.keys())}},{key:"reset",value:function(){for(var e;null!==this.pNodeToDel;)e=this.pNodeToDel,this.pNodeToDel=this.pNodeToDel.next,e.next=null,e=null;this.pTail=null,this.map.clear()}}]),e}(),ay=["groupID","name","avatar","type","introduction","notification","ownerID","selfInfo","createTime","infoSequence","lastInfoTime","lastMessage","nextMessageSeq","memberNum","maxMemberNum","memberList","joinOption","groupCustomField","muteAllMembers","isSupportTopic"],sy=function(){function e(t){o(this,e),this.groupID="",this.name="",this.avatar="",this.type="",this.introduction="",this.notification="",this.ownerID="",this.createTime="",this.infoSequence="",this.lastInfoTime="",this.selfInfo={messageRemindType:"",joinTime:"",nameCard:"",role:"",userID:"",memberCustomField:void 0,readedSequence:0,excludedUnreadSequenceList:void 0},this.lastMessage={lastTime:"",lastSequence:"",fromAccount:"",messageForShow:""},this.nextMessageSeq="",this.memberNum="",this.memberCount="",this.maxMemberNum="",this.maxMemberCount="",this.joinOption="",this.groupCustomField=[],this.muteAllMembers=!1,this.isSupportTopic=!1,this._initGroup(t)}return a(e,[{key:"memberNum",get:function(){return xl.warn("！！！v2.8.0起弃用memberNum，请使用 memberCount"),this.memberCount},set:function(e){}},{key:"maxMemberNum",get:function(){return xl.warn("！！！v2.8.0起弃用maxMemberNum，请使用 maxMemberCount"),this.maxMemberCount},set:function(e){}},{key:"_initGroup",value:function(e){for(var t in e)ay.indexOf(t)<0||("selfInfo"!==t?("memberNum"===t&&(this.memberCount=e[t]),"maxMemberNum"===t&&(this.maxMemberCount=e[t]),"isSupportTopic"!==t?this[t]=e[t]:this.isSupportTopic=1===e[t]):this.updateSelfInfo(e[t]))}},{key:"updateGroup",value:function(e){var t=this,n=JSON.parse(JSON.stringify(e));n.lastMsgTime&&(this.lastMessage.lastTime=n.lastMsgTime),Zl(n.muteAllMembers)||("On"===n.muteAllMembers?n.muteAllMembers=!0:n.muteAllMembers=!1),n.groupCustomField&&yf(this.groupCustomField,n.groupCustomField),Zl(n.memberNum)||(this.memberCount=n.memberNum),Zl(n.maxMemberNum)||(this.maxMemberCount=n.maxMemberNum),Zl(n.isSupportTopic)||(this.isSupportTopic=zl(n.isSupportTopic)?1===n.isSupportTopic:n.isSupportTopic),cf(this,n,["members","errorCode","lastMsgTime","groupCustomField","memberNum","maxMemberNum","isSupportTopic"]),Ql(n.members)&&n.members.length>0&&n.members.forEach((function(e){e.userID===t.selfInfo.userID&&cf(t.selfInfo,e,["sequence"])}))}},{key:"updateSelfInfo",value:function(e){var t={nameCard:e.nameCard,joinTime:e.joinTime,role:e.role,messageRemindType:e.messageRemindType,readedSequence:e.readedSequence,excludedUnreadSequenceList:e.excludedUnreadSequenceList};cf(this.selfInfo,n({},t),[],["",null,void 0,0,NaN])}},{key:"setSelfNameCard",value:function(e){this.selfInfo.nameCard=e}}]),e}(),cy=function(e){return Zl(e)?{lastTime:0,lastSequence:0,fromAccount:0,messageForShow:"",payload:null,type:"",isRevoked:!1,cloudCustomData:"",onlineOnlyFlag:!1,nick:"",nameCard:"",version:0,isPeerRead:!1}:e instanceof y_?{lastTime:e.time||0,lastSequence:e.sequence||0,fromAccount:e.from||"",messageForShow:Uf(e.type,e.payload),payload:e.payload||null,type:e.type||null,isRevoked:e.isRevoked||!1,cloudCustomData:e.cloudCustomData||"",onlineOnlyFlag:e._onlineOnlyFlag||!1,nick:e.nick||"",nameCard:e.nameCard||"",version:e.version||0,isPeerRead:e.isPeerRead||!1}:n(n({},e),{},{messageForShow:Uf(e.type,e.payload)})},uy=function(){function e(t){o(this,e),this.conversationID=t.conversationID||"",this.unreadCount=t.unreadCount||0,this.type=t.type||"",this.lastMessage=cy(t.lastMessage),t.lastMsgTime&&(this.lastMessage.lastTime=t.lastMsgTime),this._isInfoCompleted=!1,this.peerReadTime=t.peerReadTime||0,this.groupAtInfoList=[],this.remark="",this.isPinned=t.isPinned||!1,this.messageRemindType="",this._initProfile(t)}return a(e,[{key:"toAccount",get:function(){return this.conversationID.startsWith(ho.CONV_C2C)?this.conversationID.replace(ho.CONV_C2C,""):this.conversationID.startsWith(ho.CONV_GROUP)?this.conversationID.replace(ho.CONV_GROUP,""):""}},{key:"subType",get:function(){return this.groupProfile?this.groupProfile.type:""}},{key:"_initProfile",value:function(e){var t=this;Object.keys(e).forEach((function(n){switch(n){case"userProfile":t.userProfile=e.userProfile;break;case"groupProfile":t.groupProfile=e.groupProfile}})),Zl(this.userProfile)&&this.type===ho.CONV_C2C?this.userProfile=new ry({userID:e.conversationID.replace("C2C","")}):Zl(this.groupProfile)&&this.type===ho.CONV_GROUP&&(this.groupProfile=new sy({groupID:e.conversationID.replace("GROUP","")}))}},{key:"updateUnreadCount",value:function(e){var t=e.nextUnreadCount,n=e.isFromGetConversations,r=e.isUnreadC2CMessage;Zl(t)||(Mf(this.subType)?this.unreadCount=0:n&&this.type===ho.CONV_GROUP||n&&this.type===ho.CONV_TOPIC||r&&this.type===ho.CONV_C2C?this.unreadCount=t:this.unreadCount=this.unreadCount+t)}},{key:"updateLastMessage",value:function(e){this.lastMessage=cy(e)}},{key:"updateGroupAtInfoList",value:function(e){var t,n=(b(t=e.groupAtType)||M(t)||E(t)||S()).slice(0);-1!==n.indexOf(ho.CONV_AT_ME)&&-1!==n.indexOf(ho.CONV_AT_ALL)&&(n=[ho.CONV_AT_ALL_AT_ME]);var r={from:e.from,groupID:e.groupID,topicID:e.topicID,messageSequence:e.sequence,atTypeArray:n,__random:e.__random,__sequence:e.__sequence};this.groupAtInfoList.push(r),xl.debug("Conversation.updateGroupAtInfoList conversationID:".concat(this.conversationID),this.groupAtInfoList)}},{key:"clearGroupAtInfoList",value:function(){this.groupAtInfoList.length=0}},{key:"reduceUnreadCount",value:function(){this.unreadCount>=1&&(this.unreadCount-=1)}},{key:"isLastMessageRevoked",value:function(e){var t=e.sequence,n=e.time;return this.type===ho.CONV_C2C&&t===this.lastMessage.lastSequence&&n===this.lastMessage.lastTime||this.type===ho.CONV_GROUP&&t===this.lastMessage.lastSequence}},{key:"setLastMessageRevoked",value:function(e){this.lastMessage.isRevoked=e}}]),e}(),ly=function(){function e(t){o(this,e),this._conversationModule=t,this._className="MessageRemindHandler",this._updateSequence=0}return a(e,[{key:"getC2CMessageRemindType",value:function(){var e=this,t="".concat(this._className,".getC2CMessageRemindType");return this._conversationModule.request({protocolName:qd,updateSequence:this._updateSequence}).then((function(n){xl.log("".concat(t," ok"));var r=n.data,o=r.updateSequence,i=r.muteFlagList;e._updateSequence=o,e._patchC2CMessageRemindType(i)})).catch((function(e){xl.error("".concat(t," failed. error:"),e)}))}},{key:"_patchC2CMessageRemindType",value:function(e){var t=this,n=0,r="";Ql(e)&&e.length>0&&e.forEach((function(e){var o=e.userID,i=e.muteFlag;0===i?r=ho.MSG_REMIND_ACPT_AND_NOTE:1===i?r=ho.MSG_REMIND_DISCARD:2===i&&(r=ho.MSG_REMIND_ACPT_NOT_NOTE),!0===t._conversationModule.patchMessageRemindType({ID:o,isC2CConversation:!0,messageRemindType:r})&&(n+=1)})),xl.log("".concat(this._className,"._patchC2CMessageRemindType count:").concat(n))}},{key:"set",value:function(e){return e.groupID?this._setGroupMessageRemindType(e):Ql(e.userIDList)?this._setC2CMessageRemindType(e):void 0}},{key:"_setGroupMessageRemindType",value:function(e){var t=this,n="".concat(this._className,"._setGroupMessageRemindType"),r=e.groupID,o=e.messageRemindType,i="groupID:".concat(r," messageRemindType:").concat(o),a=new vg(mg.SET_MESSAGE_REMIND_TYPE);return a.setMessage(i),this._getModule(id).modifyGroupMemberInfo({groupID:r,messageRemindType:o,userID:this._conversationModule.getMyUserID()}).then((function(){a.setNetworkType(t._conversationModule.getNetworkType()).end(),xl.log("".concat(n," ok. ").concat(i));var e=t._getModule(rd).getLocalGroupProfile(r);if(e&&(e.selfInfo.messageRemindType=o),If(r)){var s=t._getModule(ad),c=Gf(r),u=s.getLocalTopic(c,r);return u&&(u.updateSelfInfo({messageRemindType:o}),t._conversationModule.emitOuterEvent(po.TOPIC_UPDATED,{groupID:r,topic:u})),b_({group:e})}return t._conversationModule.patchMessageRemindType({ID:r,isC2CConversation:!1,messageRemindType:o})&&t._emitConversationUpdate(),b_({group:e})})).catch((function(e){return t._conversationModule.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];a.setError(e,r,o).end()})),xl.error("".concat(n," failed. error:"),e),R_(e)}))}},{key:"_setC2CMessageRemindType",value:function(e){var t=this,n="".concat(this._className,"._setC2CMessageRemindType"),r=e.userIDList,o=e.messageRemindType,i=r.slice(0,30),a=0;o===ho.MSG_REMIND_DISCARD?a=1:o===ho.MSG_REMIND_ACPT_NOT_NOTE&&(a=2);var s="userIDList:".concat(i," messageRemindType:").concat(o),c=new vg(mg.SET_MESSAGE_REMIND_TYPE);return c.setMessage(s),this._conversationModule.request({protocolName:jd,requestData:{userIDList:i,muteFlag:a}}).then((function(e){c.setNetworkType(t._conversationModule.getNetworkType()).end();var r=e.data,a=r.updateSequence,s=r.errorList;t._updateSequence=a;var u=[],l=[];Ql(s)&&s.forEach((function(e){u.push(e.userID),l.push({userID:e.userID,code:e.errorCode})}));var f=i.filter((function(e){return-1===u.indexOf(e)}));xl.log("".concat(n," ok. successUserIDList:").concat(f," failureUserIDList:").concat(JSON.stringify(l)));var p=0;return f.forEach((function(e){t._conversationModule.patchMessageRemindType({ID:e,isC2CConversation:!0,messageRemindType:o})&&(p+=1)})),p>=1&&t._emitConversationUpdate(),i.length=u.length=0,w_({successUserIDList:f.map((function(e){return{userID:e}})),failureUserIDList:l})})).catch((function(e){return t._conversationModule.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];c.setError(e,r,o).end()})),xl.error("".concat(n," failed. error:"),e),R_(e)}))}},{key:"_getModule",value:function(e){return this._conversationModule.getModule(e)}},{key:"_emitConversationUpdate",value:function(){this._conversationModule.emitConversationUpdate(!0,!1)}},{key:"setUpdateSequence",value:function(e){this._updateSequence=e}},{key:"reset",value:function(){xl.log("".concat(this._className,".reset")),this._updateSequence=0}}]),e}(),fy=function(e){c(r,e);var t=m(r);function r(e){var n;return o(this,r),(n=t.call(this,e))._className="ConversationModule",J_.mixin(g(n)),n._messageListHandler=new K_,n._messageRemindHandler=new ly(g(n)),n.singlyLinkedList=new iy(100),n._pagingStatus=xp.NOT_START,n._pagingTimeStamp=0,n._pagingStartIndex=0,n._pagingPinnedTimeStamp=0,n._pagingPinnedStartIndex=0,n._conversationMap=new Map,n._tmpGroupList=[],n._tmpGroupAtTipsList=[],n._peerReadTimeMap=new Map,n._completedMap=new Map,n._roamingMessageKeyAndTimeMap=new Map,n._roamingMessageSequenceMap=new Map,n._remoteGroupReadSequenceMap=new Map,n._initListeners(),n}return a(r,[{key:"_initListeners",value:function(){var e=this.getInnerEmitterInstance();e.on(W_,this._initLocalConversationList,this),e.on(Y_,this._onProfileUpdated,this)}},{key:"onCheckTimer",value:function(e){e%60==0&&this._messageListHandler.traversal()}},{key:"_initLocalConversationList",value:function(){var e=this,t=new vg(mg.GET_CONVERSATION_LIST_IN_STORAGE);xl.log("".concat(this._className,"._initLocalConversationList."));var n="",r=this._getStorageConversationList();if(r){for(var o=r.length,i=0;i<o;i++){var a=r[i];if(a){if(a.conversationID==="".concat(ho.CONV_C2C,"@TLS#ERROR")||a.conversationID==="".concat(ho.CONV_C2C,"@TLS#NOT_FOUND"))continue;if(a.groupProfile){var s=a.groupProfile.type;if(Mf(s))continue}}this._conversationMap.set(r[i].conversationID,new uy(r[i]))}this.emitConversationUpdate(!0,!1),n="count:".concat(o)}else n="count:0";t.setNetworkType(this.getNetworkType()).setMessage(n).end(),this.getModule(nd)||this.triggerReady(),this.ready((function(){e._tmpGroupList.length>0&&(e.updateConversationGroupProfile(e._tmpGroupList),e._tmpGroupList.length=0)})),this._syncConversationList()}},{key:"onMessageSent",value:function(e){this._onSendOrReceiveMessage({conversationOptionsList:e.conversationOptionsList,isInstantMessage:!0})}},{key:"onNewMessage",value:function(e){this._onSendOrReceiveMessage(e)}},{key:"_onSendOrReceiveMessage",value:function(e){var t=this,n=e.conversationOptionsList,r=e.isInstantMessage,o=void 0===r||r,i=e.isUnreadC2CMessage,a=void 0!==i&&i;this._isReady?0!==n.length&&(this._getC2CPeerReadTime(n),this._updateLocalConversationList({conversationOptionsList:n,isInstantMessage:o,isUnreadC2CMessage:a,isFromGetConversations:!1}),this._setStorageConversationList(),n.filter((function(e){return e.type===ho.CONV_TOPIC})).length>0||this.emitConversationUpdate()):this.ready((function(){t._onSendOrReceiveMessage(e)}))}},{key:"updateConversationGroupProfile",value:function(e){var t=this;if(!Ql(e)||0!==e.length)if(0!==this._conversationMap.size){var n=!1;e.forEach((function(e){var r="GROUP".concat(e.groupID);if(t._conversationMap.has(r)){n=!0;var o=t._conversationMap.get(r);o.groupProfile=JSON.parse(JSON.stringify(e)),o.lastMessage.lastSequence<e.nextMessageSeq&&(o.lastMessage.lastSequence=e.nextMessageSeq-1),o.subType||(o.subType=e.type)}})),n&&this.emitConversationUpdate(!0,!1)}else this._tmpGroupList=e}},{key:"_updateConversationUserProfile",value:function(e){var t=this;e.data.forEach((function(e){var n="C2C".concat(e.userID);t._conversationMap.has(n)&&(t._conversationMap.get(n).userProfile=e)})),this.emitConversationUpdate(!0,!1)}},{key:"onMessageRevoked",value:function(e){var t=this;if(0!==e.length){var n=null,r=!1;e.forEach((function(e){(n=t._conversationMap.get(e.conversationID))&&(n.reduceUnreadCount(),n.isLastMessageRevoked(e)&&(r=!0,n.setLastMessageRevoked(!0)))})),r&&this.emitConversationUpdate(!0,!1)}}},{key:"onMessageDeleted",value:function(e){var t=this;if(0!==e.length){var n=null;e.forEach((function(e){(n=t._messageListHandler.getLocalMessage(e.conversationID,e.ID))&&(n.isDeleted=!0),e!==n&&(e.isDeleted=!0)}));for(var r=e[0].conversationID,o=this._messageListHandler.getLocalMessageList(r),i={},a=o.length-1;a>=0;a--)if(!o[a].isDeleted){i=o[a];break}var s=this._conversationMap.get(r);if(s){var c=!1;s.lastMessage.lastSequence===i.sequence&&s.lastMessage.lastTime===i.time||(jf(i)&&(i=void 0),s.updateLastMessage(i),s.type!==ho.CONV_TOPIC&&(c=!0),xl.log("".concat(this._className,".onMessageDeleted. update conversationID:").concat(r," with lastMessage:"),s.lastMessage)),r.startsWith(ho.CONV_C2C)&&this.updateUnreadCount(r),c&&this.emitConversationUpdate(!0,!1)}}}},{key:"onMessageModified",value:function(e){var t=e.conversationType,n=e.from,r=e.to,o=e.time,i=e.sequence,a=e.elements,s=e.cloudCustomData,c=e.messageVersion,u=this.getMyUserID(),l="".concat(t).concat(r);r===u&&t===ho.CONV_C2C&&(l="".concat(t).concat(n));var f=this._messageListHandler.onMessageModified(l,e),p=f.isUpdated,d=f.message;!0===p&&this.emitOuterEvent(po.MESSAGE_MODIFIED,[d]);var h=If(r);if(xl.log("".concat(this._className,".onMessageModified isUpdated:").concat(p," isTopicMessage:").concat(h," from:").concat(n," to:").concat(r)),h)this.getModule(ad).onMessageModified(e);else{var g=this._conversationMap.get(l);if(g){var v=g.lastMessage;xl.debug("".concat(this._className.onMessageModified," lastMessage:"),JSON.stringify(v),"options:",JSON.stringify(e)),v&&v.lastTime===o&&v.lastSequence===i&&v.version!==c&&(v.type=a[0].type,v.payload=a[0].content,v.messageForShow=Uf(v.type,v.payload),v.cloudCustomData=s,v.version=c,this.emitConversationUpdate(!0,!1))}}return d}},{key:"onNewGroupAtTips",value:function(e){var t=this,r=e.dataList,o=null;r.forEach((function(e){e.groupAtTips?o=e.groupAtTips:e.elements&&(o=n(n({},e.elements),{},{sync:!0})),o.__random=e.random,o.__sequence=e.clientSequence,t._tmpGroupAtTipsList.push(o)})),xl.debug("".concat(this._className,".onNewGroupAtTips isReady:").concat(this._isReady),this._tmpGroupAtTipsList),this._isReady&&this._handleGroupAtTipsList()}},{key:"_handleGroupAtTipsList",value:function(){var e=this;if(0!==this._tmpGroupAtTipsList.length){var t=!1;this._tmpGroupAtTipsList.forEach((function(n){var r=n.groupID,o=n.from,i=n.topicID,a=void 0===i?void 0:i,s=n.sync,c=void 0!==s&&s;if(o!==e.getMyUserID())if(Zl(a)){var u=e._conversationMap.get("".concat(ho.CONV_GROUP).concat(r));u&&(u.updateGroupAtInfoList(n),t=!0)}else{var l=e._conversationMap.get("".concat(ho.CONV_GROUP).concat(a));if(l){l.updateGroupAtInfoList(n);var f=e.getModule(ad),p=l.groupAtInfoList;f.onConversationProxy({topicID:a,groupAtInfoList:p})}jf(l)&&c&&(e.updateTopicConversation([{conversationID:"".concat(ho.CONV_GROUP).concat(a),type:ho.CONV_TOPIC}]),e._conversationMap.get("".concat(ho.CONV_GROUP).concat(a)).updateGroupAtInfoList(n))}})),t&&this.emitConversationUpdate(!0,!1),this._tmpGroupAtTipsList.length=0}}},{key:"_getC2CPeerReadTime",value:function(e){var t=this,n=[];if(e.forEach((function(e){t._conversationMap.has(e.conversationID)||e.type!==ho.CONV_C2C||n.push(e.conversationID.replace(ho.CONV_C2C,""))})),n.length>0){xl.debug("".concat(this._className,"._getC2CPeerReadTime userIDList:").concat(n));var r=this.getModule(nd);r&&r.getRemotePeerReadTime(n)}}},{key:"_getStorageConversationList",value:function(){return this.getModule(ud).getItem("conversationMap")}},{key:"_setStorageConversationList",value:function(){var e=this.getLocalConversationList().slice(0,20).map((function(e){return{conversationID:e.conversationID,type:e.type,subType:e.subType,lastMessage:e.lastMessage,groupProfile:e.groupProfile,userProfile:e.userProfile}}));this.getModule(ud).setItem("conversationMap",e)}},{key:"emitConversationUpdate",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getLocalConversationList();if(t){var r=this.getModule(rd);r&&r.updateGroupLastMessage(n)}e&&this.emitOuterEvent(po.CONVERSATION_LIST_UPDATED)}},{key:"getLocalConversationList",value:function(){return y(this._conversationMap.values()).filter((function(e){return e.type!==ho.CONV_TOPIC}))}},{key:"getLocalConversation",value:function(e){return this._conversationMap.get(e)}},{key:"getLocalOldestMessage",value:function(e){return this._messageListHandler.getLocalOldestMessage(e)}},{key:"_syncConversationList",value:function(){var e=this,t=new vg(mg.SYNC_CONVERSATION_LIST);return this._pagingStatus===xp.NOT_START&&this._conversationMap.clear(),this._pagingGetConversationList().then((function(n){return e._pagingStatus=xp.RESOLVED,e._setStorageConversationList(),e._handleC2CPeerReadTime(),e._patchConversationProperties(),t.setMessage(e._conversationMap.size).setNetworkType(e.getNetworkType()).end(),n})).catch((function(n){return e._pagingStatus=xp.REJECTED,t.setMessage(e._pagingTimeStamp),e.probeNetwork().then((function(e){var r=_(e,2),o=r[0],i=r[1];t.setError(n,o,i).end()})),R_(n)}))}},{key:"_patchConversationProperties",value:function(){var e=this,t=Date.now(),n=this.checkAndPatchRemark(),r=this._messageRemindHandler.getC2CMessageRemindType(),o=this.getModule(rd).getGroupList();Promise.all([n,r,o]).then((function(){var n=Date.now()-t;xl.log("".concat(e._className,"._patchConversationProperties ok. cost ").concat(n," ms")),e.emitConversationUpdate(!0,!1)}))}},{key:"_pagingGetConversationList",value:function(){var e=this,t="".concat(this._className,"._pagingGetConversationList");return xl.log("".concat(t," timeStamp:").concat(this._pagingTimeStamp," startIndex:").concat(this._pagingStartIndex)+" pinnedTimeStamp:".concat(this._pagingPinnedTimeStamp," pinnedStartIndex:").concat(this._pagingPinnedStartIndex)),this._pagingStatus=xp.PENDING,this.request({protocolName:Kd,requestData:{fromAccount:this.getMyUserID(),timeStamp:this._pagingTimeStamp,startIndex:this._pagingStartIndex,pinnedTimeStamp:this._pagingPinnedTimeStamp,pinnedStartIndex:this._pagingStartIndex,orderType:1}}).then((function(n){var r=n.data,o=r.completeFlag,i=r.conversations,a=void 0===i?[]:i,s=r.timeStamp,c=r.startIndex,u=r.pinnedTimeStamp,l=r.pinnedStartIndex;if(xl.log("".concat(t," ok. completeFlag:").concat(o," count:").concat(a.length," isReady:").concat(e._isReady)),a.length>0){var f=e._getConversationOptions(a);e._updateLocalConversationList({conversationOptionsList:f,isFromGetConversations:!0}),e.isLoggedIn()&&e.emitConversationUpdate()}if(!e._isReady){if(!e.isLoggedIn())return w_();e.triggerReady()}return e._pagingTimeStamp=s,e._pagingStartIndex=c,e._pagingPinnedTimeStamp=u,e._pagingPinnedStartIndex=l,1!==o?e._pagingGetConversationList():(e._handleGroupAtTipsList(),w_())})).catch((function(n){throw e.isLoggedIn()&&(e._isReady||(xl.warn("".concat(t," failed. error:"),n),e.triggerReady())),n}))}},{key:"_updateLocalConversationList",value:function(e){var t,n=e.isFromGetConversations,r=Date.now();t=this._getTmpConversationListMapping(e),this._conversationMap=new Map(this._sortConversationList([].concat(y(t.toBeUpdatedConversationList),y(this._conversationMap)))),n||this._updateUserOrGroupProfile(t.newConversationList),xl.debug("".concat(this._className,"._updateLocalConversationList cost ").concat(Date.now()-r," ms"))}},{key:"_getTmpConversationListMapping",value:function(e){for(var t=e.conversationOptionsList,n=e.isFromGetConversations,r=e.isInstantMessage,o=e.isUnreadC2CMessage,i=void 0!==o&&o,a=[],s=[],c=this.getModule(rd),u=this.getModule(od),l=0,f=t.length;l<f;l++){var p=new uy(t[l]),d=p.conversationID;if(d!=="".concat(ho.CONV_C2C,"@TLS#ERROR")&&d!=="".concat(ho.CONV_C2C,"@TLS#NOT_FOUND"))if(this._conversationMap.has(d)){var h=this._conversationMap.get(d),g=["unreadCount","allowType","adminForbidType","payload","isPinned"];!1===r&&g.push("lastMessage");var v=t[l].lastMessage,m=!Zl(v);m||t[l].type===ho.CONV_TOPIC||this._onLastMessageNotExist(t[l]),Zl(r)&&m&&null===h.lastMessage.payload&&(h.lastMessage.payload=v.payload),cf(h,p,g,[null,void 0,"",0,NaN]),h.updateUnreadCount({nextUnreadCount:p.unreadCount,isFromGetConversations:n,isUnreadC2CMessage:i}),r&&m&&(h.lastMessage.payload=v.payload,h.type===ho.CONV_GROUP&&(h.lastMessage.nameCard=v.nameCard,h.lastMessage.nick=v.nick)),m&&h.lastMessage.cloudCustomData!==v.cloudCustomData&&(h.lastMessage.cloudCustomData=v.cloudCustomData||""),this._conversationMap.delete(d),a.push([d,h])}else{if(p.type===ho.CONV_GROUP&&c){var _=p.groupProfile.groupID,y=c.getLocalGroupProfile(_);y&&(p.groupProfile=y,p.updateUnreadCount({nextUnreadCount:0}))}else if(p.type===ho.CONV_C2C){var b=d.replace(ho.CONV_C2C,"");u&&u.isMyFriend(b)&&(p.remark=u.getFriendRemark(b))}s.push(p),a.push([d,p])}}var M=this.getModule(ad);return a.forEach((function(e){if(e[1].type===ho.CONV_TOPIC){var t=e[1],n=t.conversationID,r=t.unreadCount,o=t.groupAtInfoList;M.onConversationProxy({topicID:n.replace(ho.CONV_GROUP,""),unreadCount:r,groupAtInfoList:jf(o)?void 0:o})}})),{toBeUpdatedConversationList:a,newConversationList:s}}},{key:"_onLastMessageNotExist",value:function(e){new vg(mg.LAST_MESSAGE_NOT_EXIST).setMessage("".concat(JSON.stringify(e))).setNetworkType(this.getNetworkType()).end()}},{key:"_sortConversationList",value:function(e){var t=[],n=[];return e.forEach((function(e){!0===e[1].isPinned?t.push(e):n.push(e)})),t.sort((function(e,t){return t[1].lastMessage.lastTime-e[1].lastMessage.lastTime})).concat(n.sort((function(e,t){return t[1].lastMessage.lastTime-e[1].lastMessage.lastTime})))}},{key:"_sortConversationListAndEmitEvent",value:function(){this._conversationMap=new Map(this._sortConversationList(y(this._conversationMap))),this.emitConversationUpdate(!0,!1)}},{key:"_updateUserOrGroupProfile",value:function(e){var t=this;if(0!==e.length){var n=[],r=[],o=this.getModule(td),i=this.getModule(rd);e.forEach((function(e){if(e.type===ho.CONV_C2C)n.push(e.toAccount);else if(e.type===ho.CONV_GROUP){var t=e.toAccount;i.hasLocalGroup(t)?e.groupProfile=i.getLocalGroupProfile(t):r.push(t)}})),xl.log("".concat(this._className,"._updateUserOrGroupProfile c2cUserIDList:").concat(n," groupIDList:").concat(r)),n.length>0&&o.getUserProfile({userIDList:n}).then((function(e){var n=e.data;Ql(n)?n.forEach((function(e){t._conversationMap.get("C2C".concat(e.userID)).userProfile=e})):t._conversationMap.get("C2C".concat(n.userID)).userProfile=n})),r.length>0&&i.getGroupProfileAdvance({groupIDList:r,responseFilter:{groupBaseInfoFilter:["Type","Name","FaceUrl"]}}).then((function(e){e.data.successGroupList.forEach((function(e){var n="GROUP".concat(e.groupID);if(t._conversationMap.has(n)){var r=t._conversationMap.get(n);cf(r.groupProfile,e,[],[null,void 0,"",0,NaN]),!r.subType&&e.type&&(r.subType=e.type)}}))}))}}},{key:"_getConversationOptions",value:function(e){var t=this,r=[],o=e.filter((function(e){var t=e.lastMsg;return Xl(t)})).filter((function(e){var t=e.type,n=e.userID;return 1===t&&"@TLS#NOT_FOUND"!==n&&"@TLS#ERROR"!==n||2===t})),i=this.getMyUserID(),a=o.map((function(e){if(1===e.type){var o={userID:e.userID,nick:e.peerNick,avatar:e.peerAvatar};return r.push(o),{conversationID:"C2C".concat(e.userID),type:"C2C",lastMessage:{lastTime:e.time,lastSequence:e.sequence,fromAccount:e.lastC2CMsgFromAccount,messageForShow:e.messageShow,type:e.lastMsg.elements[0]?e.lastMsg.elements[0].type:null,payload:e.lastMsg.elements[0]?e.lastMsg.elements[0].content:null,cloudCustomData:e.lastMsg.cloudCustomData||"",isRevoked:8===e.lastMessageFlag,onlineOnlyFlag:!1,nick:"",nameCard:"",version:0,isPeerRead:e.lastC2CMsgFromAccount===i&&e.time<=e.c2cPeerReadTime},userProfile:new ry(o),peerReadTime:e.c2cPeerReadTime,isPinned:1===e.isPinned,messageRemindType:""}}return{conversationID:"GROUP".concat(e.groupID),type:"GROUP",lastMessage:n(n({lastTime:e.time,lastSequence:e.messageReadSeq+e.unreadCount,fromAccount:e.msgGroupFromAccount,messageForShow:e.messageShow},t._patchTypeAndPayload(e)),{},{cloudCustomData:e.lastMsg.cloudCustomData||"",isRevoked:2===e.lastMessageFlag,onlineOnlyFlag:!1,nick:e.senderNick||"",nameCard:e.senderNameCard||""}),groupProfile:new sy({groupID:e.groupID,name:e.groupNick,avatar:e.groupImage}),unreadCount:e.unreadCount,peerReadTime:0,isPinned:1===e.isPinned,messageRemindType:"",version:0}}));return r.length>0&&this.getModule(td).onConversationsProfileUpdated(r),a}},{key:"_patchTypeAndPayload",value:function(e){var t=e.lastMsg,r=t.event,o=void 0===r?void 0:r,i=t.elements,a=void 0===i?[]:i,s=t.groupTips,c=void 0===s?{}:s;if(!Zl(o)&&!jf(c)){var u=new y_(c);u.setElement({type:ho.MSG_GRP_TIP,content:n(n({},c.elements),{},{groupProfile:c.groupProfile})});var l=JSON.parse(JSON.stringify(u.payload));return u=null,{type:ho.MSG_GRP_TIP,payload:l}}return{type:a[0]?a[0].type:null,payload:a[0]?a[0].content:null}}},{key:"getLocalMessageList",value:function(e){return this._messageListHandler.getLocalMessageList(e)}},{key:"deleteLocalMessage",value:function(e){e instanceof y_&&this._messageListHandler.remove(e)}},{key:"onConversationDeleted",value:function(e){var t=this;xl.log("".concat(this._className,".onConversationDeleted")),Ql(e)&&e.forEach((function(e){var n=e.type,r=e.userID,o=e.groupID,i="";1===n?i="".concat(ho.CONV_C2C).concat(r):2===n&&(i="".concat(ho.CONV_GROUP).concat(o)),t.deleteLocalConversation(i)}))}},{key:"onConversationPinned",value:function(e){var t=this;if(Ql(e)){var n=!1;e.forEach((function(e){var r,o=e.type,i=e.userID,a=e.groupID;1===o?r=t.getLocalConversation("".concat(ho.CONV_C2C).concat(i)):2===o&&(r=t.getLocalConversation("".concat(ho.CONV_GROUP).concat(a))),r&&(xl.log("".concat(t._className,".onConversationPinned conversationID:").concat(r.conversationID," isPinned:").concat(r.isPinned)),r.isPinned||(r.isPinned=!0,n=!0))})),n&&this._sortConversationListAndEmitEvent()}}},{key:"onConversationUnpinned",value:function(e){var t=this;if(Ql(e)){var n=!1;e.forEach((function(e){var r,o=e.type,i=e.userID,a=e.groupID;1===o?r=t.getLocalConversation("".concat(ho.CONV_C2C).concat(i)):2===o&&(r=t.getLocalConversation("".concat(ho.CONV_GROUP).concat(a))),r&&(xl.log("".concat(t._className,".onConversationUnpinned conversationID:").concat(r.conversationID," isPinned:").concat(r.isPinned)),r.isPinned&&(r.isPinned=!1,n=!0))})),n&&this._sortConversationListAndEmitEvent()}}},{key:"getMessageList",value:function(e){var t=this,n=e.conversationID,r=e.nextReqMessageID,o=e.count,i="".concat(this._className,".getMessageList"),a=this.getLocalConversation(n),s="";if(a&&a.groupProfile&&(s=a.groupProfile.type),Mf(s))return xl.log("".concat(i," not available in avchatroom. conversationID:").concat(n)),w_({messageList:[],nextReqMessageID:"",isCompleted:!0});(Zl(o)||o>15)&&(o=15),this._isFirstGetTopicMessageWithUnJoined(n,r)&&this.removeConversationMessageCache(n);var c=this._computeRemainingCount({conversationID:n,nextReqMessageID:r}),u=this._completedMap.has(n);if(xl.log("".concat(i," conversationID:").concat(n," nextReqMessageID:").concat(r)+" remainingCount:".concat(c," count:").concat(o," isCompleted:").concat(u)),this._needGetHistory({conversationID:n,remainingCount:c,count:o}))return this.getHistoryMessages({conversationID:n,nextReqMessageID:r,count:20}).then((function(e){var r=e.nextReqID,o=e.storedMessageList,a=t._completedMap.has(n),s=o;c>0&&(s=t._messageListHandler.getLocalMessageList(n).slice(0,o.length+c));var u={nextReqMessageID:a?"":r,messageList:s,isCompleted:a};return xl.log("".concat(i," ret.nextReqMessageID:").concat(u.nextReqMessageID," ret.isCompleted:").concat(u.isCompleted," ret.length:").concat(s.length)),b_(u)}));this.modifyMessageList(n);var l=this._getMessageListFromMemory({conversationID:n,nextReqMessageID:r,count:o});return w_(l)}},{key:"_getMessageListFromMemory",value:function(e){var t=e.conversationID,n=e.nextReqMessageID,r=e.count,o="".concat(this._className,"._getMessageListFromMemory"),i=this._messageListHandler.getLocalMessageList(t),a=i.length,s=0,c={isCompleted:!1,nextReqMessageID:"",messageList:[]};return n?(s=i.findIndex((function(e){return e.ID===n})))>r?(c.messageList=i.slice(s-r,s),c.nextReqMessageID=i[s-r].ID):(c.messageList=i.slice(0,s),c.isCompleted=!0):a>r?(s=a-r,c.messageList=i.slice(s,a),c.nextReqMessageID=i[s].ID):(c.messageList=i.slice(0,a),c.isCompleted=!0),xl.log("".concat(o," conversationID:").concat(t)+" ret.nextReqMessageID:".concat(c.nextReqMessageID," ret.isCompleted:").concat(c.isCompleted," ret.length:").concat(c.messageList.length)),c}},{key:"getMessageListHopping",value:function(e){var t="".concat(this._className,".getMessageListHopping"),n=e.conversationID,r=e.sequence,o=e.time,i=e.count,a=e.direction,s=void 0===a?0:a;(Zl(i)||i>15)&&(i=15);var c=this._messageListHandler.getLocalMessageListHopping({conversationID:n,sequence:r,time:o,count:i,direction:s});if(!jf(c)){var u=c.length;if(u===i||n.startsWith(ho.CONV_GROUP)&&1===c[0].sequence)return xl.log("".concat(t,". conversationID:").concat(n," message from memory:").concat(c.length)),w_({messageList:c});var l=i-u+1,f=1===s?c.pop():c.shift();return this._getRoamingMessagesHopping({conversationID:n,sequence:f.sequence,time:f.time,count:l,direction:s}).then((function(e){var r,o;if(xl.log("".concat(t,". conversationID:").concat(n," message from memory:").concat(c.length,", message from remote:").concat(e.length)),1===s?(r=c).push.apply(r,y(e)):(o=c).unshift.apply(o,y(e)),n.startsWith(ho.CONV_C2C)){var i=[];c.forEach((function(e){i.push([e.ID,e])})),c=y(new Map(i).values())}return b_({messageList:c})}))}return this._getRoamingMessagesHopping({conversationID:n,sequence:r,time:o,count:i,direction:s}).then((function(e){return xl.log("".concat(t,". conversationID:").concat(n," message from remote:").concat(e.length)),b_({messageList:e})}))}},{key:"_getRoamingMessagesHopping",value:function(e){var t=e.conversationID,n=e.sequence,r=e.time,o=e.count,i=e.direction;if(t.startsWith(ho.CONV_C2C)){var a=this.getModule(nd),s=t.replace(ho.CONV_C2C,"");return a.getRoamingMessagesHopping({peerAccount:s,time:r,count:o,direction:i})}if(t.startsWith(ho.CONV_GROUP)){var c=this.getModule(rd),u=t.replace(ho.CONV_GROUP,""),l=n;return 1===i&&(l=n+o-1),c.getRoamingMessagesHopping({groupID:u,sequence:l,count:o}).then((function(e){var t=e.findIndex((function(e){return e.sequence===n}));return 1===i?-1===t?[]:e.slice(t):e}))}}},{key:"_computeRemainingCount",value:function(e){var t=e.conversationID,n=e.nextReqMessageID,r=this._messageListHandler.getLocalMessageList(t),o=r.length;if(!n)return o;var i=0;return Sf(t)?i=r.findIndex((function(e){return e.ID===n})):Tf(t)&&(i=-1!==n.indexOf("-")?r.findIndex((function(e){return e.ID===n})):r.findIndex((function(e){return e.sequence===n}))),-1===i&&(i=0),i}},{key:"_getMessageListSize",value:function(e){return this._messageListHandler.getLocalMessageList(e).length}},{key:"_needGetHistory",value:function(e){var t=e.conversationID,n=e.remainingCount,r=e.count,o=this.getLocalConversation(t),i="";return o&&o.groupProfile&&(i=o.groupProfile.type),!Of(t)&&!Mf(i)&&n<=r&&!this._completedMap.has(t)}},{key:"getHistoryMessages",value:function(e){var t=e.conversationID,n=e.count;if(t===ho.CONV_SYSTEM)return w_();var r=15;n>20&&(r=20);var o=null;if(Sf(t)){var i=this._roamingMessageKeyAndTimeMap.has(t);return(o=this.getModule(nd))?o.getRoamingMessage({conversationID:t,peerAccount:t.replace(ho.CONV_C2C,""),count:r,lastMessageTime:i?this._roamingMessageKeyAndTimeMap.get(t).lastMessageTime:0,messageKey:i?this._roamingMessageKeyAndTimeMap.get(t).messageKey:""}):R_({code:eg.CANNOT_FIND_MODULE,message:tg.CANNOT_FIND_MODULE})}if(Tf(t)){if(!(o=this.getModule(rd)))return R_({code:eg.CANNOT_FIND_MODULE,message:tg.CANNOT_FIND_MODULE});var a=null;this._conversationMap.has(t)&&(a=this._conversationMap.get(t).lastMessage);var s=0;a&&(s=a.lastSequence);var c=this._roamingMessageSequenceMap.get(t);return o.getRoamingMessage({conversationID:t,groupID:t.replace(ho.CONV_GROUP,""),count:r,sequence:c||s})}return w_()}},{key:"patchConversationLastMessage",value:function(e){var t=this.getLocalConversation(e);if(t){var n=t.lastMessage,r=n.messageForShow,o=n.payload;if(jf(r)||jf(o)){var i=this._messageListHandler.getLocalMessageList(e);if(0===i.length)return;var a=i[i.length-1];xl.log("".concat(this._className,".patchConversationLastMessage conversationID:").concat(e," payload:"),a.payload),t.updateLastMessage(a)}}}},{key:"onRoamingMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=t.startsWith(ho.CONV_C2C)?ho.CONV_C2C:ho.CONV_GROUP,i=null,a=[],s=[],c=0,u=e.length,l=null,f=o===ho.CONV_GROUP,p=this.getModule(pd),d=function(){c=f?e.length-1:0,u=f?0:e.length},h=function(){f?--c:++c},g=function(){return f?c>=u:c<u};for(d();g();h())if(f&&1===e[c].sequence&&r&&this.setCompleted(t),1!==e[c].isPlaceMessage)if((i=new y_(e[c])).to=e[c].to,o!==ho.CONV_GROUP||Zl(e[c].topicID)||(i.to=e[c].topicID),i.isSystemMessage=!!e[c].isSystemMessage,i.conversationType=o,4===e[c].event?l={type:ho.MSG_GRP_TIP,content:n(n({},e[c].elements),{},{groupProfile:e[c].groupProfile})}:(e[c].elements=p.parseElements(e[c].elements,e[c].from),l=e[c].elements),f||i.setNickAndAvatar({nick:e[c].nick,avatar:e[c].avatar}),jf(l)){var v=new vg(mg.EMPTY_MESSAGE_BODY);v.setMessage("from:".concat(i.from," to:").concat(i.to," sequence:").concat(i.sequence," event:").concat(e[c].event)),v.setNetworkType(this.getNetworkType()).setLevel("warning").end()}else i.setElement(l),i.reInitialize(this.getMyUserID()),a.push(i);return d=h=g=null,r?(this._messageListHandler.unshift(a,s),a=null,s):(s=null,a)}},{key:"findMessage",value:function(e){return this._messageListHandler.findMessage(e)}},{key:"_isFirstGetTopicMessageWithUnJoined",value:function(e,t){var n=!1;if(!t&&e.startsWith(ho.CONV_GROUP)){var r=e.replace(ho.CONV_GROUP,"");if(If(r)){var o=Gf(r);this.getModule(rd).hasLocalGroup(o)||(n=!0)}}return n}},{key:"removeConversationMessageCache",value:function(e){var t=this;this._messageListHandler.getConversationIDList(e).forEach((function(e){t._messageListHandler.removeByConversationID(e),t._completedMap.delete(e)}))}},{key:"setMessageRead",value:function(e){var t=e.conversationID,n=this.getLocalConversation(t);if(xl.log("".concat(this._className,".setMessageRead conversationID:").concat(t," unreadCount:").concat(n?n.unreadCount:0)),!n)return w_();if(n.type!==ho.CONV_GROUP&&n.type!==ho.CONV_TOPIC||jf(n.groupAtInfoList)||this.deleteGroupAtTips(t),0===n.unreadCount)return w_();var r=this._messageListHandler.getLocalLastMessage(t),o=n.lastMessage.lastTime;r&&o<r.time&&(o=r.time);var i=n.lastMessage.lastSequence;if(r&&i<r.sequence&&(i=r.sequence),n.type===ho.CONV_TOPIC&&Zl(r)){var a=this.getModule(ad),s=t.replace(ho.CONV_GROUP,""),c=Gf(s),u=a.getLocalTopic(c,s);u&&(i=u.nextMessageSeq-1)}var l=null;switch(n.type){case ho.CONV_C2C:return(l=this.getModule(nd))?l.setMessageRead({conversationID:t,lastMessageTime:o}):R_({code:eg.CANNOT_FIND_MODULE,message:tg.CANNOT_FIND_MODULE});case ho.CONV_GROUP:case ho.CONV_TOPIC:return(l=this.getModule(rd))?l.setMessageRead({conversationID:t,lastMessageSeq:i}):R_({code:eg.CANNOT_FIND_MODULE,message:tg.CANNOT_FIND_MODULE});case ho.CONV_SYSTEM:return n.unreadCount=0,this.emitConversationUpdate(!0,!1),w_();default:return w_()}}},{key:"setAllMessageRead",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="".concat(this._className,".setAllMessageRead");t.scope||(t.scope=ho.READ_ALL_MSG),xl.log("".concat(n," options:"),t);var r=this._createSetAllMessageReadPack(t);if(0===r.readAllC2CMessage&&0===r.groupMessageReadInfoList.length)return w_();var o=new vg(mg.SET_ALL_MESSAGE_READ);return this.request({protocolName:fh,requestData:r}).then((function(n){var r=n.data,i=e._handleAllMessageRead(r);return o.setMessage("scope:".concat(t.scope," failureGroups:").concat(JSON.stringify(i))).setNetworkType(e.getNetworkType()).end(),w_()})).catch((function(t){return e.probeNetwork().then((function(e){var n=_(e,2),r=n[0],i=n[1];o.setError(t,r,i).end()})),xl.warn("".concat(n," failed. error:"),t),R_({code:t&&t.code?t.code:eg.MESSAGE_UNREAD_ALL_FAIL,message:t&&t.message?t.message:tg.MESSAGE_UNREAD_ALL_FAIL})}))}},{key:"_getConversationLastMessageSequence",value:function(e){var t=this._messageListHandler.getLocalLastMessage(e.conversationID),n=e.lastMessage.lastSequence;return t&&n<t.sequence&&(n=t.sequence),n}},{key:"_getConversationLastMessageTime",value:function(e){var t=this._messageListHandler.getLocalLastMessage(e.conversationID),n=e.lastMessage.lastTime;return t&&n<t.time&&(n=t.time),n}},{key:"_createSetAllMessageReadPack",value:function(e){var t,n={readAllC2CMessage:0,groupMessageReadInfoList:[]},r=e.scope,o=T(this._conversationMap);try{for(o.s();!(t=o.n()).done;){var i=_(t.value,2)[1];if(i.unreadCount>0)if(i.type===ho.CONV_C2C&&0===n.readAllC2CMessage){if(r===ho.READ_ALL_MSG)n.readAllC2CMessage=1;else if(r===ho.READ_ALL_C2C_MSG){n.readAllC2CMessage=1;break}}else if(i.type===ho.CONV_GROUP&&(r===ho.READ_ALL_GROUP_MSG||r===ho.READ_ALL_MSG)){var a=this._getConversationLastMessageSequence(i);n.groupMessageReadInfoList.push({groupID:i.groupProfile.groupID,messageSequence:a})}}}catch(c){o.e(c)}finally{o.f()}return n}},{key:"onPushedAllMessageRead",value:function(e){this._handleAllMessageRead(e)}},{key:"_handleAllMessageRead",value:function(e){var t=e.groupMessageReadInfoList,n=e.readAllC2CMessage,r=this._parseGroupReadInfo(t);return this._updateAllConversationUnreadCount({readAllC2CMessage:n})>=1&&this.emitConversationUpdate(!0,!1),r}},{key:"_parseGroupReadInfo",value:function(e){var t=[];if(e&&e.length)for(var n=0,r=e.length;n<r;n++){var o=e[n],i=o.groupID,a=o.sequence,s=o.retCode,c=o.lastMessageSeq;Zl(s)?this._remoteGroupReadSequenceMap.set(i,c):(this._remoteGroupReadSequenceMap.set(i,a),0!==s&&t.push("".concat(i,"-").concat(a,"-").concat(s)))}return t}},{key:"_updateAllConversationUnreadCount",value:function(e){var t,n=e.readAllC2CMessage,r=0,o=T(this._conversationMap);try{for(o.s();!(t=o.n()).done;){var i=_(t.value,2),a=i[0],s=i[1];if(s.unreadCount>=1){if(1===n&&s.type===ho.CONV_C2C){var c=this._getConversationLastMessageTime(s);this.updateIsReadAfterReadReport({conversationID:a,lastMessageTime:c})}else if(s.type===ho.CONV_GROUP){var u=a.replace(ho.CONV_GROUP,"");if(this._remoteGroupReadSequenceMap.has(u)){var l=this._remoteGroupReadSequenceMap.get(u),f=this._getConversationLastMessageSequence(s);this.updateIsReadAfterReadReport({conversationID:a,remoteReadSequence:l}),f>=l&&this._remoteGroupReadSequenceMap.delete(u)}}this.updateUnreadCount(a,!1)&&(r+=1)}}}catch(d){o.e(d)}finally{o.f()}return r}},{key:"isRemoteRead",value:function(e){var t=e.conversationID,n=e.sequence,r=t.replace(ho.CONV_GROUP,""),o=!1;if(this._remoteGroupReadSequenceMap.has(r)){var i=this._remoteGroupReadSequenceMap.get(r);n<=i&&(o=!0,xl.log("".concat(this._className,".isRemoteRead conversationID:").concat(t," messageSequence:").concat(n," remoteReadSequence:").concat(i))),n>=i+10&&this._remoteGroupReadSequenceMap.delete(r)}return o}},{key:"updateIsReadAfterReadReport",value:function(e){var t=e.conversationID,n=e.lastMessageSeq,r=e.lastMessageTime,o=this._messageListHandler.getLocalMessageList(t);if(0!==o.length)for(var i,a=o.length-1;a>=0;a--)if(i=o[a],!(r&&i.time>r||n&&i.sequence>n)){if("in"===i.flow&&i.isRead)break;i.setIsRead(!0)}}},{key:"updateUnreadCount",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!1,r=this.getLocalConversation(e),o=this._messageListHandler.getLocalMessageList(e);if(r){var i=r.unreadCount,a=o.filter((function(e){return!e.isRead&&!e._onlineOnlyFlag&&!e.isDeleted})).length;if(i!==a&&(r.unreadCount=a,n=!0,xl.log("".concat(this._className,".updateUnreadCount from ").concat(i," to ").concat(a,", conversationID:").concat(e)),!0===t&&this.emitConversationUpdate(!0,!1)),n&&r.type===ho.CONV_TOPIC){var s=r.unreadCount,c=r.groupAtInfoList,u=this.getModule(ad),l=e.replace(ho.CONV_GROUP,"");u.onConversationProxy({topicID:l,unreadCount:s,groupAtInfoList:c})}return n}}},{key:"updateReadReceiptInfo",value:function(e){var t=this,n=e.userID,r=void 0===n?void 0:n,o=e.groupID,i=void 0===o?void 0:o,a=e.readReceiptList;if(!jf(a)){var s=[];if(Zl(r)){if(!Zl(i)){var c="".concat(ho.CONV_GROUP).concat(i);a.forEach((function(e){var n=e.tinyID,r=e.clientTime,o=e.random,a=e.readCount,u=e.unreadCount,l="".concat(n,"-").concat(r,"-").concat(o),f=t._messageListHandler.getLocalMessage(c,l),p={groupID:i,messageID:l,readCount:0,unreadCount:0};f&&(zl(a)&&(f.readReceiptInfo.readCount=a,p.readCount=a),zl(u)&&(f.readReceiptInfo.unreadCount=u,p.unreadCount=u),s.push(p))}))}}else{var u="".concat(ho.CONV_C2C).concat(r);a.forEach((function(e){var n=e.tinyID,o=e.clientTime,i=e.random,a="".concat(n,"-").concat(o,"-").concat(i),c=t._messageListHandler.getLocalMessage(u,a);if(c&&!c.isPeerRead){c.isPeerRead=!0;var l={userID:r,messageID:a,isPeerRead:!0};s.push(l)}}))}s.length>0&&this.emitOuterEvent(po.MESSAGE_READ_RECEIPT_RECEIVED,s)}}},{key:"recomputeGroupUnreadCount",value:function(e){var t=e.conversationID,n=e.count,r=this.getLocalConversation(t);if(r){var o=r.unreadCount,i=o-n;i<0&&(i=0),r.unreadCount=i,xl.log("".concat(this._className,".recomputeGroupUnreadCount from ").concat(o," to ").concat(i,", conversationID:").concat(t))}}},{key:"updateIsRead",value:function(e){var t=this.getLocalConversation(e),n=this.getLocalMessageList(e);if(t&&0!==n.length&&!Of(t.type)){for(var r=[],o=0,i=n.length;o<i;o++)"in"!==n[o].flow?"out"!==n[o].flow||n[o].isRead||n[o].setIsRead(!0):r.push(n[o]);var a=0;if(t.type===ho.CONV_C2C){var s=r.slice(-t.unreadCount).filter((function(e){return e.isRevoked})).length;a=r.length-t.unreadCount-s}else a=r.length-t.unreadCount;for(var c=0;c<a&&!r[c].isRead;c++)r[c].setIsRead(!0)}}},{key:"deleteGroupAtTips",value:function(e){var t=this,n="".concat(this._className,".deleteGroupAtTips");xl.log("".concat(n));var r=this._conversationMap.get(e);if(!r)return Promise.resolve();var o=r.groupAtInfoList;if(0===o.length)return Promise.resolve();var i=this.getMyUserID();return this.request({protocolName:Jd,requestData:{messageListToDelete:o.map((function(e){return{from:e.from,to:i,messageSeq:e.__sequence,messageRandom:e.__random,groupID:Zl(e.topicID)?e.groupID:e.topicID}}))}}).then((function(){if(xl.log("".concat(n," ok. count:").concat(o.length)),r.clearGroupAtInfoList(),e.startsWith(ho.CONV_GROUP)){var i=e.replace(ho.CONV_GROUP,"");If(i)&&t.getModule(ad).onConversationProxy({topicID:i,groupAtInfoList:[]})}return Promise.resolve()})).catch((function(e){return xl.error("".concat(n," failed. error:"),e),R_(e)}))}},{key:"appendToMessageList",value:function(e){this._messageListHandler.pushIn(e)}},{key:"setMessageRandom",value:function(e){this.singlyLinkedList.set(e.random)}},{key:"deleteMessageRandom",value:function(e){this.singlyLinkedList.delete(e.random)}},{key:"pushIntoMessageList",value:function(e,t,n){return!(!this._messageListHandler.pushIn(t,n)||this._isMessageFromCurrentInstance(t)&&!n)&&(e.push(t),!0)}},{key:"_isMessageFromCurrentInstance",value:function(e){return this.singlyLinkedList.has(e.random)}},{key:"revoke",value:function(e,t,n){return this._messageListHandler.revoke(e,t,n)}},{key:"getPeerReadTime",value:function(e){return this._peerReadTimeMap.get(e)}},{key:"recordPeerReadTime",value:function(e,t){this._peerReadTimeMap.has(e)?this._peerReadTimeMap.get(e)<t&&this._peerReadTimeMap.set(e,t):this._peerReadTimeMap.set(e,t)}},{key:"updateMessageIsPeerReadProperty",value:function(e,t){if(e.startsWith(ho.CONV_C2C)&&t>0){var n=this._messageListHandler.updateMessageIsPeerReadProperty(e,t);if(n.length>0&&this.emitOuterEvent(po.MESSAGE_READ_BY_PEER,n),this._conversationMap.has(e)){var r=this._conversationMap.get(e).lastMessage;jf(r)||r.fromAccount===this.getMyUserID()&&r.lastTime<=t&&!r.isPeerRead&&(r.isPeerRead=!0,this.emitConversationUpdate(!0,!1))}}}},{key:"updateMessageIsModifiedProperty",value:function(e){this._messageListHandler.updateMessageIsModifiedProperty(e)}},{key:"setCompleted",value:function(e){xl.log("".concat(this._className,".setCompleted. conversationID:").concat(e)),this._completedMap.set(e,!0)}},{key:"updateRoamingMessageKeyAndTime",value:function(e,t,n){this._roamingMessageKeyAndTimeMap.set(e,{messageKey:t,lastMessageTime:n})}},{key:"updateRoamingMessageSequence",value:function(e,t){this._roamingMessageSequenceMap.set(e,t)}},{key:"getConversationList",value:function(e){var t=this,n="".concat(this._className,".getConversationList"),r="pagingStatus:".concat(this._pagingStatus,", local conversation count:").concat(this._conversationMap.size,", options:").concat(e);if(xl.log("".concat(n,". ").concat(r)),this._pagingStatus===xp.REJECTED){var o=new vg(mg.GET_CONVERSATION_LIST);return o.setMessage(r),this._syncConversationList().then((function(){o.setNetworkType(t.getNetworkType()).end();var n=t._getConversationList(e);return b_({conversationList:n})})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],i=n[1];o.setError(e,r,i).end()})),xl.error("".concat(n," failed. error:"),e),R_(e)}))}if(0===this._conversationMap.size){var i=new vg(mg.GET_CONVERSATION_LIST);return i.setMessage(r),this._syncConversationList().then((function(){i.setNetworkType(t.getNetworkType()).end();var n=t._getConversationList(e);return b_({conversationList:n})})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];i.setError(e,r,o).end()})),xl.error("".concat(n," failed. error:"),e),R_(e)}))}var a=this._getConversationList(e);return xl.log("".concat(n,". returned conversation count:").concat(a.length)),w_({conversationList:a})}},{key:"_getConversationList",value:function(e){var t=this;if(Zl(e))return this.getLocalConversationList();if(Ql(e)){var n=[];return e.forEach((function(e){if(t._conversationMap.has(e)){var r=t.getLocalConversation(e);n.push(r)}})),n}}},{key:"_handleC2CPeerReadTime",value:function(){var e,t=T(this._conversationMap);try{for(t.s();!(e=t.n()).done;){var n=_(e.value,2),r=n[0],o=n[1];o.type===ho.CONV_C2C&&(xl.debug("".concat(this._className,"._handleC2CPeerReadTime conversationID:").concat(r," peerReadTime:").concat(o.peerReadTime)),this.recordPeerReadTime(r,o.peerReadTime))}}catch(a){t.e(a)}finally{t.f()}}},{key:"getConversationProfile",value:function(e){var t,n=this;if((t=this._conversationMap.has(e)?this._conversationMap.get(e):new uy({conversationID:e,type:e.slice(0,3)===ho.CONV_C2C?ho.CONV_C2C:ho.CONV_GROUP}))._isInfoCompleted||t.type===ho.CONV_SYSTEM)return w_({conversation:t});var r=new vg(mg.GET_CONVERSATION_PROFILE),o="".concat(this._className,".getConversationProfile");return xl.log("".concat(o,". conversationID:").concat(e," remark:").concat(t.remark," lastMessage:"),t.lastMessage),this._updateUserOrGroupProfileCompletely(t).then((function(i){r.setNetworkType(n.getNetworkType()).setMessage("conversationID:".concat(e," unreadCount:").concat(i.data.conversation.unreadCount)).end();var a=n.getModule(od);if(a&&t.type===ho.CONV_C2C){var s=e.replace(ho.CONV_C2C,"");if(a.isMyFriend(s)){var c=a.getFriendRemark(s);t.remark!==c&&(t.remark=c,xl.log("".concat(o,". conversationID:").concat(e," patch remark:").concat(t.remark)))}}return xl.log("".concat(o," ok. conversationID:").concat(e)),i})).catch((function(t){return n.probeNetwork().then((function(n){var o=_(n,2),i=o[0],a=o[1];r.setError(t,i,a).setMessage("conversationID:".concat(e)).end()})),xl.error("".concat(o," failed. error:"),t),R_(t)}))}},{key:"_updateUserOrGroupProfileCompletely",value:function(e){var t=this;return e.type===ho.CONV_C2C?this.getModule(td).getUserProfile({userIDList:[e.toAccount]}).then((function(n){var r=n.data;return 0===r.length?R_(new O_({code:eg.USER_OR_GROUP_NOT_FOUND,message:tg.USER_OR_GROUP_NOT_FOUND})):(e.userProfile=r[0],e._isInfoCompleted=!0,t._unshiftConversation(e),w_({conversation:e}))})):this.getModule(rd).getGroupProfile({groupID:e.toAccount}).then((function(n){return e.groupProfile=n.data.group,e._isInfoCompleted=!0,t._unshiftConversation(e),w_({conversation:e})}))}},{key:"_unshiftConversation",value:function(e){e instanceof uy&&!this._conversationMap.has(e.conversationID)&&(this._conversationMap=new Map([[e.conversationID,e]].concat(y(this._conversationMap))),this._setStorageConversationList(),this.emitConversationUpdate(!0,!1))}},{key:"_onProfileUpdated",value:function(e){var t=this;e.data.forEach((function(e){var n=e.userID;if(n===t.getMyUserID())t._onMyProfileModified({latestNick:e.nick,latestAvatar:e.avatar});else{var r=t._conversationMap.get("".concat(ho.CONV_C2C).concat(n));r&&(r.userProfile=e)}}))}},{key:"deleteConversation",value:function(e){var t=this,n={fromAccount:this.getMyUserID(),toAccount:void 0,type:void 0};if(!this._conversationMap.has(e)){var r=new O_({code:eg.CONVERSATION_NOT_FOUND,message:tg.CONVERSATION_NOT_FOUND});return R_(r)}switch(this._conversationMap.get(e).type){case ho.CONV_C2C:n.type=1,n.toAccount=e.replace(ho.CONV_C2C,"");break;case ho.CONV_GROUP:n.type=2,n.toGroupID=e.replace(ho.CONV_GROUP,"");break;case ho.CONV_SYSTEM:return this.getModule(rd).deleteGroupSystemNotice({messageList:this._messageListHandler.getLocalMessageList(e)}),this.deleteLocalConversation(e),w_({conversationID:e});default:var o=new O_({code:eg.CONVERSATION_UN_RECORDED_TYPE,message:tg.CONVERSATION_UN_RECORDED_TYPE});return R_(o)}var i=new vg(mg.DELETE_CONVERSATION);i.setMessage("conversationID:".concat(e));var a="".concat(this._className,".deleteConversation");return xl.log("".concat(a,". conversationID:").concat(e)),this.setMessageRead({conversationID:e}).then((function(){return t.request({protocolName:zd,requestData:n})})).then((function(){return i.setNetworkType(t.getNetworkType()).end(),xl.log("".concat(a," ok")),t.deleteLocalConversation(e),w_({conversationID:e})})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];i.setError(e,r,o).end()})),xl.error("".concat(a," failed. error:"),e),R_(e)}))}},{key:"pinConversation",value:function(e){var t=this,n=e.conversationID,r=e.isPinned;if(!this._conversationMap.has(n))return R_({code:eg.CONVERSATION_NOT_FOUND,message:tg.CONVERSATION_NOT_FOUND});var o=this.getLocalConversation(n);if(o.isPinned===r)return w_({conversationID:n});var i=new vg(mg.PIN_CONVERSATION);i.setMessage("conversationID:".concat(n," isPinned:").concat(r));var a="".concat(this._className,".pinConversation");xl.log("".concat(a,". conversationID:").concat(n," isPinned:").concat(r));var s=null;return Sf(n)?s={type:1,toAccount:n.replace(ho.CONV_C2C,"")}:Tf(n)&&(s={type:2,groupID:n.replace(ho.CONV_GROUP,"")}),this.request({protocolName:Yd,requestData:{fromAccount:this.getMyUserID(),operationType:!0===r?1:2,itemList:[s]}}).then((function(){return i.setNetworkType(t.getNetworkType()).end(),xl.log("".concat(a," ok")),o.isPinned!==r&&(o.isPinned=r,t._sortConversationListAndEmitEvent()),b_({conversationID:n})})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];i.setError(e,r,o).end()})),xl.error("".concat(a," failed. error:"),e),R_(e)}))}},{key:"setMessageRemindType",value:function(e){return this._messageRemindHandler.set(e)}},{key:"patchMessageRemindType",value:function(e){var t=e.ID,n=e.isC2CConversation,r=e.messageRemindType,o=!1,i=this.getLocalConversation(n?"".concat(ho.CONV_C2C).concat(t):"".concat(ho.CONV_GROUP).concat(t));return i&&i.messageRemindType!==r&&(i.messageRemindType=r,o=!0),o}},{key:"onC2CMessageRemindTypeSynced",value:function(e){var t=this;xl.debug("".concat(this._className,".onC2CMessageRemindTypeSynced options:"),e),e.dataList.forEach((function(e){if(!jf(e.muteNotificationsSync)){var n,r=e.muteNotificationsSync,o=r.to,i=r.updateSequence,a=r.muteFlag;t._messageRemindHandler.setUpdateSequence(i),0===a?n=ho.MSG_REMIND_ACPT_AND_NOTE:1===a?n=ho.MSG_REMIND_DISCARD:2===a&&(n=ho.MSG_REMIND_ACPT_NOT_NOTE);var s=0;t.patchMessageRemindType({ID:o,isC2CConversation:!0,messageRemindType:n})&&(s+=1),xl.log("".concat(t._className,".onC2CMessageRemindTypeSynced updateCount:").concat(s)),s>=1&&t.emitConversationUpdate(!0,!1)}}))}},{key:"deleteLocalConversation",value:function(e){var t=this._conversationMap.has(e);xl.log("".concat(this._className,".deleteLocalConversation conversationID:").concat(e," has:").concat(t)),t&&(this._conversationMap.delete(e),this._roamingMessageKeyAndTimeMap.has(e)&&this._roamingMessageKeyAndTimeMap.delete(e),this._roamingMessageSequenceMap.has(e)&&this._roamingMessageSequenceMap.delete(e),this._setStorageConversationList(),this._messageListHandler.removeByConversationID(e),this._completedMap.delete(e),this.emitConversationUpdate(!0,!1))}},{key:"isMessageSentByCurrentInstance",value:function(e){return!(!this._messageListHandler.hasLocalMessage(e.conversationID,e.ID)&&!this.singlyLinkedList.has(e.random))}},{key:"modifyMessageList",value:function(e){if(e.startsWith(ho.CONV_C2C)&&this._conversationMap.has(e)){var t=this._conversationMap.get(e),n=Date.now();this._messageListHandler.modifyMessageSentByPeer({conversationID:e,latestNick:t.userProfile.nick,latestAvatar:t.userProfile.avatar});var r=this.getModule(td).getNickAndAvatarByUserID(this.getMyUserID());this._messageListHandler.modifyMessageSentByMe({conversationID:e,latestNick:r.nick,latestAvatar:r.avatar}),xl.log("".concat(this._className,".modifyMessageList conversationID:").concat(e," cost ").concat(Date.now()-n," ms"))}}},{key:"updateUserProfileSpecifiedKey",value:function(e){xl.log("".concat(this._className,".updateUserProfileSpecifiedKey options:"),e);var t=e.conversationID,n=e.nick,r=e.avatar;if(this._conversationMap.has(t)){var o=this._conversationMap.get(t).userProfile;Yl(n)&&o.nick!==n&&(o.nick=n),Yl(r)&&o.avatar!==r&&(o.avatar=r),this.emitConversationUpdate(!0,!1)}}},{key:"_onMyProfileModified",value:function(e){var t=this,r=this.getLocalConversationList(),o=Date.now();r.forEach((function(r){t.modifyMessageSentByMe(n({conversationID:r.conversationID},e))})),xl.log("".concat(this._className,"._onMyProfileModified. modify all messages sent by me, cost ").concat(Date.now()-o," ms"))}},{key:"modifyMessageSentByMe",value:function(e){this._messageListHandler.modifyMessageSentByMe(e)}},{key:"getLatestMessageSentByMe",value:function(e){return this._messageListHandler.getLatestMessageSentByMe(e)}},{key:"modifyMessageSentByPeer",value:function(e){this._messageListHandler.modifyMessageSentByPeer(e)}},{key:"getLatestMessageSentByPeer",value:function(e){return this._messageListHandler.getLatestMessageSentByPeer(e)}},{key:"pushIntoNoticeResult",value:function(e,t){return!(!this._messageListHandler.pushIn(t)||this.singlyLinkedList.has(t.random))&&(e.push(t),!0)}},{key:"getGroupLocalLastMessageSequence",value:function(e){return this._messageListHandler.getGroupLocalLastMessageSequence(e)}},{key:"checkAndPatchRemark",value:function(){var e=Promise.resolve();if(0===this._conversationMap.size)return e;var t=this.getModule(od);if(!t)return e;var n=y(this._conversationMap.values()).filter((function(e){return e.type===ho.CONV_C2C}));if(0===n.length)return e;var r=0;return n.forEach((function(e){var n=e.conversationID.replace(ho.CONV_C2C,"");if(t.isMyFriend(n)){var o=t.getFriendRemark(n);e.remark!==o&&(e.remark=o,r+=1)}})),xl.log("".concat(this._className,".checkAndPatchRemark. c2c conversation count:").concat(n.length,", patched count:").concat(r)),e}},{key:"updateTopicConversation",value:function(e){this._updateLocalConversationList({conversationOptionsList:e,isFromGetConversations:!0})}},{key:"sendReadReceipt",value:function(e){var t=e[0],n=null;return t.conversationType===ho.CONV_C2C?n=this._moduleManager.getModule(nd):t.conversationType===ho.CONV_GROUP&&(n=this._moduleManager.getModule(rd)),n?n.sendReadReceipt(e):R_({code:eg.CANNOT_FIND_MODULE,message:tg.CANNOT_FIND_MODULE})}},{key:"getReadReceiptList",value:function(e){var t=e[0],n=null;return t.conversationType===ho.CONV_C2C?n=this._moduleManager.getModule(nd):t.conversationType===ho.CONV_GROUP&&(n=this._moduleManager.getModule(rd)),n?n.getReadReceiptList(e):R_({code:eg.CANNOT_FIND_MODULE,message:tg.CANNOT_FIND_MODULE})}},{key:"reset",value:function(){xl.log("".concat(this._className,".reset")),this._pagingStatus=xp.NOT_START,this._messageListHandler.reset(),this._messageRemindHandler.reset(),this._roamingMessageKeyAndTimeMap.clear(),this._roamingMessageSequenceMap.clear(),this.singlyLinkedList.reset(),this._peerReadTimeMap.clear(),this._completedMap.clear(),this._conversationMap.clear(),this._pagingTimeStamp=0,this._pagingStartIndex=0,this._pagingPinnedTimeStamp=0,this._pagingPinnedStartIndex=0,this._remoteGroupReadSequenceMap.clear(),this.resetReady()}}]),r}(Sd),py=function(){function e(t){o(this,e),this._groupModule=t,this._className="GroupTipsHandler",this._cachedGroupTipsMap=new Map,this._checkCountMap=new Map,this.MAX_CHECK_COUNT=4,this._getTopicPendingMap=new Map}return a(e,[{key:"onCheckTimer",value:function(e){e%1==0&&this._cachedGroupTipsMap.size>0&&this._checkCachedGroupTips()}},{key:"_checkCachedGroupTips",value:function(){var e=this;this._cachedGroupTipsMap.forEach((function(t,n){var r=e._checkCountMap.get(n),o=e._groupModule.hasLocalGroup(n);xl.log("".concat(e._className,"._checkCachedGroupTips groupID:").concat(n," hasLocalGroup:").concat(o," checkCount:").concat(r)),o?(e._notifyCachedGroupTips(n),e._checkCountMap.delete(n),e._groupModule.deleteUnjoinedAVChatRoom(n)):r>=e.MAX_CHECK_COUNT?(e._deleteCachedGroupTips(n),e._checkCountMap.delete(n)):(r++,e._checkCountMap.set(n,r))}))}},{key:"onNewGroupTips",value:function(e){xl.debug("".concat(this._className,".onReceiveGroupTips count:").concat(e.dataList.length));var t=this.newGroupTipsStoredAndSummary(e),n=t.eventDataList,r=t.result,o=t.AVChatRoomMessageList;o.length>0&&this._groupModule.onAVChatRoomMessage(o),n.length>0&&(this._groupModule.updateNextMessageSeq(n),this._groupModule.getModule(sd).onNewMessage({conversationOptionsList:n,isInstantMessage:!0})),r.length>0&&(this._groupModule.emitOuterEvent(po.MESSAGE_RECEIVED,r),this.handleMessageList(r))}},{key:"newGroupTipsStoredAndSummary",value:function(e){for(var t=this,r=e.event,o=e.dataList,i=null,a=[],s=[],c={},u=[],l=function(e,l){var f=_f(o[e]),p=f.groupProfile,d=p.groupID,h=p.communityType,g=void 0===h?0:h,v=p.topicID,m=void 0===v?void 0:v,_=void 0,y=2===g&&!jf(m);if(y){_=ho.CONV_TOPIC,f.to=m;var b=t._groupModule.getModule(ad);b.hasLocalTopic(d,m)||t._getTopicPendingMap.has(m)||(t._getTopicPendingMap.set(m,1),b.getTopicList({groupID:d,topicIDList:[m]}).finally((function(){t._getTopicPendingMap.delete(m)})))}if(2===g&&jf(m))return"continue";var M=t._groupModule.hasLocalGroup(d);if(!M&&t._groupModule.isUnjoinedAVChatRoom(d))return"continue";if(!M&&!y)return t._cacheGroupTipsAndProbe({groupID:d,event:r,item:f}),"continue";if(t._groupModule.isMessageFromOrToAVChatroom(d))return f.event=r,u.push(f),"continue";f.currentUser=t._groupModule.getMyUserID(),f.conversationType=ho.CONV_GROUP,(i=new y_(f)).setElement({type:ho.MSG_GRP_TIP,content:n(n({},f.elements),{},{groupProfile:f.groupProfile})}),i.isSystemMessage=!1;var E=t._groupModule.getModule(sd),I=i,S=I.conversationID,T=I.sequence;if(6===r)i._onlineOnlyFlag=!0,s.push(i);else if(!E.pushIntoNoticeResult(s,i))return"continue";if(6===r&&E.getLocalConversation(S))return"continue";6!==r&&t._groupModule.getModule(Ed).addMessageSequence({key:ug,message:i});var O=E.isRemoteRead({conversationID:S,sequence:T});if(Zl(c[S])){var C=0;"in"===i.flow&&(i._isExcludedFromUnreadCount||i._onlineOnlyFlag||O||(C=1)),c[S]=a.push({conversationID:S,unreadCount:C,type:Zl(_)?i.conversationType:_,subType:i.conversationSubType,lastMessage:i._isExcludedFromLastMessage?"":i})-1}else{var A=c[S];a[A].type=i.conversationType,a[A].subType=i.conversationSubType,a[A].lastMessage=i._isExcludedFromLastMessage?"":i,"in"===i.flow&&(i._isExcludedFromUnreadCount||i._onlineOnlyFlag||O||a[A].unreadCount++)}},f=0,p=o.length;f<p;f++)l(f);return{eventDataList:a,result:s,AVChatRoomMessageList:u}}},{key:"handleMessageList",value:function(e){var t=this;e.forEach((function(e){switch(e.payload.operationType){case 1:t._onNewMemberComeIn(e);break;case 2:t._onMemberQuit(e);break;case 3:t._onMemberKickedOut(e);break;case 4:t._onMemberSetAdmin(e);break;case 5:t._onMemberCancelledAdmin(e);break;case 6:t._onGroupProfileModified(e);break;case 7:t._onMemberInfoModified(e);break;case 8:t._onTopicProfileUpdated(e);break;default:xl.warn("".concat(t._className,".handleMessageList unknown operationType:").concat(e.payload.operationType))}}))}},{key:"_onNewMemberComeIn",value:function(e){var t=e.payload,n=t.memberNum,r=t.groupProfile.groupID,o=this._groupModule.getLocalGroupProfile(r);o&&zl(n)&&o.memberCount!==n&&(o.memberCount=n,this._updateConversationGroupProfile(o))}},{key:"_onMemberQuit",value:function(e){var t=e.payload,n=t.memberNum,r=t.groupProfile.groupID,o=this._groupModule.getLocalGroupProfile(r);o&&zl(n)&&o.memberCount!==n&&(o.memberCount=n,this._updateConversationGroupProfile(o)),this._groupModule.getModule(id).deleteLocalGroupMembers(r,e.payload.userIDList)}},{key:"_onMemberKickedOut",value:function(e){var t=e.payload,n=t.memberNum,r=t.groupProfile.groupID,o=this._groupModule.getLocalGroupProfile(r);o&&zl(n)&&o.memberCount!==n&&(o.memberCount=n,this._updateConversationGroupProfile(o)),this._groupModule.getModule(id).deleteLocalGroupMembers(r,e.payload.userIDList)}},{key:"_updateConversationGroupProfile",value:function(e){this._groupModule.getModule(sd).updateConversationGroupProfile([e])}},{key:"_onMemberSetAdmin",value:function(e){var t=e.payload.groupProfile.groupID,n=e.payload.userIDList,r=this._groupModule.getModule(id);n.forEach((function(e){var n=r.getLocalGroupMemberInfo(t,e);n&&n.updateRole(ho.GRP_MBR_ROLE_ADMIN)}))}},{key:"_onMemberCancelledAdmin",value:function(e){var t=e.payload.groupProfile.groupID,n=e.payload.userIDList,r=this._groupModule.getModule(id);n.forEach((function(e){var n=r.getLocalGroupMemberInfo(t,e);n&&n.updateRole(ho.GRP_MBR_ROLE_MEMBER)}))}},{key:"_onGroupProfileModified",value:function(e){var t=this,n=e.payload,r=n.newGroupProfile,o=n.groupProfile.groupID,i=this._groupModule.getLocalGroupProfile(o);Object.keys(r).forEach((function(e){switch(e){case"ownerID":t._ownerChanged(i,r);break;case"muteAllMembers":i.muteAllMembers=r.muteAllMembers;break;default:i[e]=r[e]}}));var a=!i.isSupportTopic;this._groupModule.emitGroupListUpdate(!0,a)}},{key:"_ownerChanged",value:function(e,t){var n=e.groupID,r=this._groupModule.getLocalGroupProfile(n),o=this._groupModule.getMyUserID();if(o===t.ownerID){r.updateGroup({selfInfo:{role:ho.GRP_MBR_ROLE_OWNER}});var i=this._groupModule.getModule(id),a=i.getLocalGroupMemberInfo(n,o),s=this._groupModule.getLocalGroupProfile(n).ownerID,c=i.getLocalGroupMemberInfo(n,s);a&&a.updateRole(ho.GRP_MBR_ROLE_OWNER),c&&c.updateRole(ho.GRP_MBR_ROLE_MEMBER)}}},{key:"_onMemberInfoModified",value:function(e){var t=e.to,n=e.payload,r=n.groupProfile,o=n.memberList,i=r.groupID;If(t)&&this._updateTopicMuteTime(e);var a=this._groupModule.getModule(id);o.forEach((function(e){var t=a.getLocalGroupMemberInfo(i,e.userID);t&&zl(e.muteTime)&&t.updateMuteUntil(e.muteTime)}))}},{key:"_updateTopicMuteTime",value:function(e){var t=e.to,n=e.payload,r=n.groupProfile,o=n.memberList,i=void 0===o?[]:o,a=this._groupModule.getModule(ad),s=r.groupID,c=a.getLocalTopic(s,t);if(c){for(var u=!1,l=0;l<i.length;l++){var f=i[l];if(f.userID===this._groupModule.getMyUserID()&&f.muteTime>=0){c.updateSelfInfo({muteTime:f.muteTime}),u=!0;break}}u&&this._groupModule.emitOuterEvent(po.TOPIC_UPDATED,{groupID:s,topic:c})}}},{key:"_onTopicProfileUpdated",value:function(e){var t=e.payload,r=t.groupProfile.groupID,o=t.newTopicInfo;this._groupModule.getModule(ad).onTopicProfileUpdated(n({groupID:r,topicID:e.to},o))}},{key:"_cacheGroupTips",value:function(e,t){this._cachedGroupTipsMap.has(e)||this._cachedGroupTipsMap.set(e,[]),this._cachedGroupTipsMap.get(e).push(t)}},{key:"_deleteCachedGroupTips",value:function(e){this._cachedGroupTipsMap.has(e)&&this._cachedGroupTipsMap.delete(e)}},{key:"_notifyCachedGroupTips",value:function(e){var t=this,n=this._cachedGroupTipsMap.get(e)||[];n.forEach((function(e){t.onNewGroupTips(e)})),this._deleteCachedGroupTips(e),xl.log("".concat(this._className,"._notifyCachedGroupTips groupID:").concat(e," count:").concat(n.length))}},{key:"_cacheGroupTipsAndProbe",value:function(e){var t=this,n=e.groupID,r=e.event,o=e.item;this._cacheGroupTips(n,{event:r,dataList:[o]}),this._groupModule.getGroupSimplifiedInfo(n).then((function(e){e.type===ho.GRP_AVCHATROOM?t._groupModule.hasLocalGroup(n)?t._notifyCachedGroupTips(n):t._groupModule.setUnjoinedAVChatRoom(n):(t._groupModule.updateGroupMap([e]),t._notifyCachedGroupTips(n))})),this._checkCountMap.has(n)||this._checkCountMap.set(n,0),xl.log("".concat(this._className,"._cacheGroupTipsAndProbe groupID:").concat(n))}},{key:"reset",value:function(){this._cachedGroupTipsMap.clear(),this._checkCountMap.clear(),this._getTopicPendingMap.clear()}}]),e}(),dy=function(){function e(t){o(this,e),this._groupModule=t,this._className="CommonGroupHandler",this.tempConversationList=null,this._cachedGroupMessageMap=new Map,this._checkCountMap=new Map,this.MAX_CHECK_COUNT=4,this._getTopicPendingMap=new Map,t.getInnerEmitterInstance().once(W_,this._initGroupList,this)}return a(e,[{key:"onCheckTimer",value:function(e){e%1==0&&this._cachedGroupMessageMap.size>0&&this._checkCachedGroupMessage()}},{key:"_checkCachedGroupMessage",value:function(){var e=this;this._cachedGroupMessageMap.forEach((function(t,n){var r=e._checkCountMap.get(n),o=e._groupModule.hasLocalGroup(n);xl.log("".concat(e._className,"._checkCachedGroupMessage groupID:").concat(n," hasLocalGroup:").concat(o," checkCount:").concat(r)),o?(e._notifyCachedGroupMessage(n),e._checkCountMap.delete(n),e._groupModule.deleteUnjoinedAVChatRoom(n)):r>=e.MAX_CHECK_COUNT?(e._deleteCachedGroupMessage(n),e._checkCountMap.delete(n)):(r++,e._checkCountMap.set(n,r))}))}},{key:"_initGroupList",value:function(){var e=this;xl.log("".concat(this._className,"._initGroupList"));var t=new vg(mg.GET_GROUP_LIST_IN_STORAGE),n=this._groupModule.getStorageGroupList();if(Ql(n)&&n.length>0){n.forEach((function(t){e._groupModule.initGroupMap(t)})),this._groupModule.emitGroupListUpdate(!0,!1);var r=this._groupModule.getLocalGroupList().length;t.setNetworkType(this._groupModule.getNetworkType()).setMessage("group count:".concat(r)).end()}else t.setNetworkType(this._groupModule.getNetworkType()).setMessage("group count:0").end();xl.log("".concat(this._className,"._initGroupList ok"))}},{key:"handleUpdateGroupLastMessage",value:function(e){var t="".concat(this._className,".handleUpdateGroupLastMessage");if(xl.debug("".concat(t," conversation count:").concat(e.length,", local group count:").concat(this._groupModule.getLocalGroupList().length)),0!==this._groupModule.getGroupMap().size){for(var n,r,o,i=!1,a=0,s=e.length;a<s;a++)(n=e[a]).type===ho.CONV_GROUP&&(r=n.conversationID.split(/^GROUP/)[1],(o=this._groupModule.getLocalGroupProfile(r))&&(o.lastMessage=n.lastMessage,i=!0));i&&(this._groupModule.sortLocalGroupList(),this._groupModule.emitGroupListUpdate(!0,!1))}else this.tempConversationList=e}},{key:"onNewGroupMessage",value:function(e){xl.debug("".concat(this._className,".onNewGroupMessage count:").concat(e.dataList.length));var t=this._newGroupMessageStoredAndSummary(e),n=t.conversationOptionsList,r=t.messageList,o=t.AVChatRoomMessageList;o.length>0&&this._groupModule.onAVChatRoomMessage(o),this._groupModule.filterModifiedMessage(r),n.length>0&&(this._groupModule.updateNextMessageSeq(n),this._groupModule.getModule(sd).onNewMessage({conversationOptionsList:n,isInstantMessage:!0}));var i=this._groupModule.filterUnmodifiedMessage(r);i.length>0&&this._groupModule.emitOuterEvent(po.MESSAGE_RECEIVED,i),r.length=0}},{key:"_newGroupMessageStoredAndSummary",value:function(e){var t=this,n=e.dataList,r=e.event,o=e.isInstantMessage,i=null,a=[],s=[],c=[],u={},l=this._groupModule.getModule(pd),f=this._groupModule.getModule(Ed),p=n.length;p>1&&n.sort((function(e,t){return e.sequence-t.sequence}));for(var d=function(e){var p=_f(n[e]),d=p.groupProfile,h=d.groupID,g=d.communityType,v=void 0===g?0:g,m=d.topicID,_=void 0===m?void 0:m,y=void 0,b=2===v&&!jf(_);if(b){y=ho.CONV_TOPIC,p.to=_;var M=t._groupModule.getModule(ad);M.hasLocalTopic(h,_)||t._getTopicPendingMap.has(_)||(t._getTopicPendingMap.set(_,1),M.getTopicList({groupID:h,topicIDList:[_]}).finally((function(){t._getTopicPendingMap.delete(_)})))}if(2===v&&jf(_))return"continue";var E=t._groupModule.hasLocalGroup(h);if(!E&&t._groupModule.isUnjoinedAVChatRoom(h))return"continue";if(!E&&!b)return t._cacheGroupMessageAndProbe({groupID:h,event:r,item:p}),"continue";if(t._groupModule.isMessageFromOrToAVChatroom(h))return p.event=r,c.push(p),"continue";p.currentUser=t._groupModule.getMyUserID(),p.conversationType=ho.CONV_GROUP,p.isSystemMessage=!!p.isSystemMessage,i=new y_(p),p.elements=l.parseElements(p.elements,p.from),i.setElement(p.elements);var I=1===n[e].isModified,S=t._groupModule.getModule(sd);if(S.isMessageSentByCurrentInstance(i)?i.isModified=I:I=!1,1===p.onlineOnlyFlag)i._onlineOnlyFlag=!0,s.push(i);else{if(!S.pushIntoMessageList(s,i,I))return"continue";f.addMessageSequence({key:ug,message:i}),o&&i.clientTime>0&&f.addMessageDelay(i.clientTime);var T=i,O=T.conversationID,C=T.sequence,A=S.isRemoteRead({conversationID:O,sequence:C});if(Zl(u[O])){var w=0;"in"===i.flow&&(i._isExcludedFromUnreadCount||A||(w=1)),u[O]=a.push({conversationID:O,unreadCount:w,type:Zl(y)?i.conversationType:y,subType:i.conversationSubType,lastMessage:i._isExcludedFromLastMessage?"":i})-1}else{var R=u[O];a[R].type=Zl(y)?i.conversationType:y,a[R].subType=i.conversationSubType,a[R].lastMessage=i._isExcludedFromLastMessage?"":i,"in"===i.flow&&(i._isExcludedFromUnreadCount||A||a[R].unreadCount++)}}},h=0;h<p;h++)d(h);return{conversationOptionsList:a,messageList:s,AVChatRoomMessageList:c}}},{key:"onGroupMessageRevoked",value:function(e){xl.debug("".concat(this._className,".onGroupMessageRevoked nums:").concat(e.dataList.length));var t=this._groupModule.getModule(sd),n=[],r=null;e.dataList.forEach((function(e){var o=e.elements.revokedInfos;Zl(o)||o.forEach((function(e){var o=Zl(e.topicID)?"GROUP".concat(e.groupID):"GROUP".concat(e.topicID);(r=t.revoke(o,e.sequence,e.random))&&n.push(r)}))})),0!==n.length&&(t.onMessageRevoked(n),this._groupModule.emitOuterEvent(po.MESSAGE_REVOKED,n))}},{key:"_groupListTreeShaking",value:function(e){for(var t=new Map(y(this._groupModule.getGroupMap())),n=0,r=e.length;n<r;n++)t.delete(e[n].groupID);this._groupModule.hasJoinedAVChatRoom()&&this._groupModule.getJoinedAVChatRoom().forEach((function(e){t.delete(e)})),this._groupModule.getGroupMap().forEach((function(e,n){e.isSupportTopic&&t.delete(n)}));for(var o=y(t.keys()),i=0,a=o.length;i<a;i++)this._groupModule.deleteGroup(o[i])}},{key:"getGroupList",value:function(e){var t=this,n="".concat(this._className,".getGroupList"),r=new vg(mg.GET_GROUP_LIST);xl.log("".concat(n));var o={introduction:"Introduction",notification:"Notification",createTime:"CreateTime",ownerID:"Owner_Account",lastInfoTime:"LastInfoTime",memberNum:"MemberNum",maxMemberNum:"MaxMemberNum",joinOption:"ApplyJoinOption",muteAllMembers:"ShutUpAllMember"},i=["Type","Name","FaceUrl","NextMsgSeq","LastMsgTime"],a=[];e&&e.groupProfileFilter&&e.groupProfileFilter.forEach((function(e){o[e]&&i.push(o[e])}));var s=(e||{}).isGroupWithTopicOnly,c=void 0!==s&&s;return this._pagingGetGroupList({limit:50,offset:0,groupBaseInfoFilter:i,groupList:a,isGroupWithTopicOnly:c}).then((function(){xl.log("".concat(n," ok. count:").concat(a.length," isGroupWithTopicOnly:").concat(c)),c||t._groupListTreeShaking(a),t._groupModule.updateGroupMap(a);var e=t._groupModule.getLocalGroupList().length;r.setNetworkType(t._groupModule.getNetworkType()).setMessage("remote count:".concat(a.length,", after tree shaking, local count:").concat(e,", isGroupWithTopicOnly:").concat(c)).end(),t.tempConversationList&&(xl.log("".concat(n," update last message with tempConversationList, count:").concat(t.tempConversationList.length)),t.handleUpdateGroupLastMessage({data:t.tempConversationList}),t.tempConversationList=null),t._groupModule.patchGroupMessageRemindType(),t._groupModule.recomputeUnreadCount(),t._groupModule.emitGroupListUpdate(!0,!c);var o=t._groupModule.getLocalGroupList();if(c){var i=o.filter((function(e){return!0===e.isSupportTopic}));return b_({groupList:i})}return b_({groupList:o})})).catch((function(e){return t._groupModule.probeNetwork().then((function(t){var n=_(t,2),o=n[0],i=n[1];r.setError(e,o,i).end()})),xl.error("".concat(n," failed. error:"),e),R_(e)}))}},{key:"_pagingGetGroupList",value:function(e){var t=this,n="".concat(this._className,"._pagingGetGroupList"),r=e.isCommunityRelay,o=void 0!==r&&r,i=e.isGroupWithTopicOnly,a=void 0!==i&&i,s=e.limit,c=e.offset,u=e.groupBaseInfoFilter,l=e.groupList;if(a)return this._pagingGetGroupListWithTopic({limit:s,offset:c,groupBaseInfoFilter:u,groupList:l});var f=new vg(mg.PAGING_GET_GROUP_LIST);return this._groupModule.request({protocolName:Xd,requestData:{type:o?ho.GRP_COMMUNITY:void 0,memberAccount:this._groupModule.getMyUserID(),limit:s,offset:c,responseFilter:{groupBaseInfoFilter:u,selfInfoFilter:["Role","JoinTime","MsgFlag","MsgSeq"]}}}).then((function(e){var r=e.data,i=r.groups,a=void 0===i?[]:i,p=r.totalCount;l.push.apply(l,y(a));var d=c+s,h=!(p>d),g="offset:".concat(c," totalCount:").concat(p," isCompleted:").concat(h," ")+"currentCount:".concat(l.length," isCommunityRelay:").concat(o);return f.setNetworkType(t._groupModule.getNetworkType()).setMessage("".concat(g)).end(),o||h?!o&&h?(xl.log("".concat(n," start to get community list")),c=0,t._pagingGetGroupList({limit:s,offset:c,groupBaseInfoFilter:u,groupList:l,isCommunityRelay:!0})):o&&!h?(c=d,t._pagingGetGroupList({limit:s,offset:c,groupBaseInfoFilter:u,groupList:l,isCommunityRelay:!0})):(xl.log("".concat(n," ok. totalCount:").concat(l.length)),b_({groupList:l})):(c=d,t._pagingGetGroupList({limit:s,offset:c,groupBaseInfoFilter:u,groupList:l}))})).catch((function(e){return 11e3!==e.code&&t._groupModule.probeNetwork().then((function(t){var n=_(t,2),r=n[0],i=n[1];f.setMessage("isCommunityRelay:".concat(o)).setError(e,r,i).end()})),o?(11e3===e.code&&(f=null,xl.log("".concat(n," ok. community unavailable"))),w_({groupList:l})):R_(e)}))}},{key:"_pagingGetGroupListWithTopic",value:function(e){var t=this,n="".concat(this._className,"._pagingGetGroupListWithTopic"),r=e.limit,o=e.offset,i=e.groupBaseInfoFilter,a=e.groupList,s=new vg(mg.PAGING_GET_GROUP_LIST_WITH_TOPIC);return this._groupModule.request({protocolName:Xd,requestData:{type:ho.GRP_COMMUNITY,memberAccount:this._groupModule.getMyUserID(),limit:r,offset:o,responseFilter:{groupBaseInfoFilter:i,selfInfoFilter:["Role","JoinTime","MsgFlag","MsgSeq"]},isSupportTopic:1}}).then((function(e){var c=e.data,u=c.groups,l=void 0===u?[]:u,f=c.totalCount;a.push.apply(a,y(l));var p=o+r,d=!(f>p),h="offset:".concat(o," totalCount:").concat(f," isCompleted:").concat(d," ")+"currentCount:".concat(a.length);return s.setNetworkType(t._groupModule.getNetworkType()).setMessage("".concat(h)).end(),d?(xl.log("".concat(n," ok. totalCount:").concat(a.length)),b_({groupList:a})):(o=p,t._pagingGetGroupListWithTopic({limit:r,offset:o,groupBaseInfoFilter:i,groupList:a}))})).catch((function(e){return t._groupModule.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];s.setError(e,r,o).end()})),R_(e)}))}},{key:"_cacheGroupMessage",value:function(e,t){this._cachedGroupMessageMap.has(e)||this._cachedGroupMessageMap.set(e,[]),this._cachedGroupMessageMap.get(e).push(t)}},{key:"_deleteCachedGroupMessage",value:function(e){this._cachedGroupMessageMap.has(e)&&this._cachedGroupMessageMap.delete(e)}},{key:"_notifyCachedGroupMessage",value:function(e){var t=this,n=this._cachedGroupMessageMap.get(e)||[];n.forEach((function(e){t.onNewGroupMessage(e)})),this._deleteCachedGroupMessage(e),xl.log("".concat(this._className,"._notifyCachedGroupMessage groupID:").concat(e," count:").concat(n.length))}},{key:"_cacheGroupMessageAndProbe",value:function(e){var t=this,n=e.groupID,r=e.event,o=e.item;this._cacheGroupMessage(n,{event:r,dataList:[o]}),this._groupModule.getGroupSimplifiedInfo(n).then((function(e){e.type===ho.GRP_AVCHATROOM?t._groupModule.hasLocalGroup(n)?t._notifyCachedGroupMessage(n):t._groupModule.setUnjoinedAVChatRoom(n):(t._groupModule.updateGroupMap([e]),t._notifyCachedGroupMessage(n))})),this._checkCountMap.has(n)||this._checkCountMap.set(n,0),xl.log("".concat(this._className,"._cacheGroupMessageAndProbe groupID:").concat(n))}},{key:"reset",value:function(){this._cachedGroupMessageMap.clear(),this._checkCountMap.clear(),this._getTopicPendingMap.clear(),this._groupModule.getInnerEmitterInstance().once(W_,this._initGroupList,this)}}]),e}(),hy={1:"init",2:"modify",3:"clear",4:"delete"},gy=function(){function e(t){o(this,e),this._groupModule=t,this._className="GroupAttributesHandler",this._groupAttributesMap=new Map,this.CACHE_EXPIRE_TIME=3e4,this._groupModule.getInnerEmitterInstance().on(z_,this._onCloudConfigUpdated,this)}return a(e,[{key:"_onCloudConfigUpdated",value:function(){var e=this._groupModule.getCloudConfig("grp_attr_cache_time");Zl(e)||(this.CACHE_EXPIRE_TIME=Number(e))}},{key:"updateLocalMainSequenceOnReconnected",value:function(){this._groupAttributesMap.forEach((function(e){e.localMainSequence=0}))}},{key:"onGroupAttributesUpdated",value:function(e){var t=this,n=e.groupID,r=e.groupAttributeOption,o=r.mainSequence,i=r.hasChangedAttributeInfo,a=r.groupAttributeList,s=void 0===a?[]:a,c=r.operationType;if(xl.log("".concat(this._className,".onGroupAttributesUpdated. hasChangedAttributeInfo:").concat(i," operationType:").concat(c)),!Zl(c)){if(1===i){if(4===c){var u=[];s.forEach((function(e){u.push(e.key)})),s=y(u),u=null}return this._refreshCachedGroupAttributes({groupID:n,remoteMainSequence:o,groupAttributeList:s,operationType:hy[c]}),void this._emitGroupAttributesUpdated(n)}if(this._groupAttributesMap.has(n)){var l=this._groupAttributesMap.get(n).avChatRoomKey;this._getGroupAttributes({groupID:n,avChatRoomKey:l}).then((function(){t._emitGroupAttributesUpdated(n)}))}}}},{key:"initGroupAttributesCache",value:function(e){var t=e.groupID,n=e.avChatRoomKey;this._groupAttributesMap.set(t,{lastUpdateTime:0,localMainSequence:0,remoteMainSequence:0,attributes:new Map,avChatRoomKey:n}),xl.log("".concat(this._className,".initGroupAttributesCache groupID:").concat(t," avChatRoomKey:").concat(n))}},{key:"initGroupAttributes",value:function(e){var t=this,n=e.groupID,r=e.groupAttributes,o=this._checkCachedGroupAttributes({groupID:n,funcName:"initGroupAttributes"});if(!0!==o)return R_(o);var i=this._groupAttributesMap.get(n),a=i.remoteMainSequence,s=i.avChatRoomKey,c=new vg(mg.INIT_GROUP_ATTRIBUTES);return c.setMessage("groupID:".concat(n," mainSequence:").concat(a," groupAttributes:").concat(JSON.stringify(r))),this._groupModule.request({protocolName:Sh,requestData:{groupID:n,avChatRoomKey:s,mainSequence:a,groupAttributeList:this._transformGroupAttributes(r)}}).then((function(e){var o=e.data,i=o.mainSequence,a=y(o.groupAttributeList);return a.forEach((function(e){e.value=r[e.key]})),t._refreshCachedGroupAttributes({groupID:n,remoteMainSequence:i,groupAttributeList:a,operationType:"init"}),c.setNetworkType(t._groupModule.getNetworkType()).end(),xl.log("".concat(t._className,".initGroupAttributes ok. groupID:").concat(n)),b_({groupAttributes:r})})).catch((function(e){return t._groupModule.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];c.setError(e,r,o).end()})),R_(e)}))}},{key:"setGroupAttributes",value:function(e){var t=this,n=e.groupID,r=e.groupAttributes,o=this._checkCachedGroupAttributes({groupID:n,funcName:"setGroupAttributes"});if(!0!==o)return R_(o);var i=this._groupAttributesMap.get(n),a=i.remoteMainSequence,s=i.avChatRoomKey,c=i.attributes,u=this._transformGroupAttributes(r);u.forEach((function(e){var t=e.key;e.sequence=0,c.has(t)&&(e.sequence=c.get(t).sequence)}));var l=new vg(mg.SET_GROUP_ATTRIBUTES);return l.setMessage("groupID:".concat(n," mainSequence:").concat(a," groupAttributes:").concat(JSON.stringify(r))),this._groupModule.request({protocolName:Th,requestData:{groupID:n,avChatRoomKey:s,mainSequence:a,groupAttributeList:u}}).then((function(e){var o=e.data,i=o.mainSequence,a=y(o.groupAttributeList);return a.forEach((function(e){e.value=r[e.key]})),t._refreshCachedGroupAttributes({groupID:n,remoteMainSequence:i,groupAttributeList:a,operationType:"modify"}),l.setNetworkType(t._groupModule.getNetworkType()).end(),xl.log("".concat(t._className,".setGroupAttributes ok. groupID:").concat(n)),b_({groupAttributes:r})})).catch((function(e){return t._groupModule.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];l.setError(e,r,o).end()})),R_(e)}))}},{key:"deleteGroupAttributes",value:function(e){var t=this,n=e.groupID,r=e.keyList,o=void 0===r?[]:r,i=this._checkCachedGroupAttributes({groupID:n,funcName:"deleteGroupAttributes"});if(!0!==i)return R_(i);var a=this._groupAttributesMap.get(n),s=a.remoteMainSequence,c=a.avChatRoomKey,u=a.attributes,l=y(u.keys()),f=Ch,p="clear",d={groupID:n,avChatRoomKey:c,mainSequence:s};if(o.length>0){var h=[];l=[],f=Oh,p="delete",o.forEach((function(e){var t=0;u.has(e)&&(t=u.get(e).sequence,l.push(e)),h.push({key:e,sequence:t})})),d.groupAttributeList=h}var g=new vg(mg.DELETE_GROUP_ATTRIBUTES);return g.setMessage("groupID:".concat(n," mainSequence:").concat(s," keyList:").concat(o," protocolName:").concat(f)),this._groupModule.request({protocolName:f,requestData:d}).then((function(e){var r=e.data.mainSequence;return t._refreshCachedGroupAttributes({groupID:n,remoteMainSequence:r,groupAttributeList:o,operationType:p}),g.setNetworkType(t._groupModule.getNetworkType()).end(),xl.log("".concat(t._className,".deleteGroupAttributes ok. groupID:").concat(n)),b_({keyList:l})})).catch((function(e){return t._groupModule.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];g.setError(e,r,o).end()})),R_(e)}))}},{key:"getGroupAttributes",value:function(e){var t=this,n=e.groupID,r=this._checkCachedGroupAttributes({groupID:n,funcName:"getGroupAttributes"});if(!0!==r)return R_(r);var o=this._groupAttributesMap.get(n),i=o.avChatRoomKey,a=o.lastUpdateTime,s=o.localMainSequence,c=o.remoteMainSequence,u=new vg(mg.GET_GROUP_ATTRIBUTES);if(u.setMessage("groupID:".concat(n," localMainSequence:").concat(s," remoteMainSequence:").concat(c," keyList:").concat(e.keyList)),Date.now()-a>=this.CACHE_EXPIRE_TIME||s<c)return this._getGroupAttributes({groupID:n,avChatRoomKey:i}).then((function(r){u.setMoreMessage("get attributes from remote. count:".concat(r.length)).setNetworkType(t._groupModule.getNetworkType()).end(),xl.log("".concat(t._className,".getGroupAttributes from remote. groupID:").concat(n));var o=t._getLocalGroupAttributes(e);return b_({groupAttributes:o})})).catch((function(e){return t._groupModule.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];u.setError(e,r,o).end()})),R_(e)}));u.setMoreMessage("get attributes from cache").setNetworkType(this._groupModule.getNetworkType()).end(),xl.log("".concat(this._className,".getGroupAttributes from cache. groupID:").concat(n));var l=this._getLocalGroupAttributes(e);return w_({groupAttributes:l})}},{key:"_getGroupAttributes",value:function(e){var t=this;return this._groupModule.request({protocolName:Ah,requestData:n({},e)}).then((function(n){var r=n.data,o=r.mainSequence,i=r.groupAttributeList,a=y(i);return Zl(o)||t._refreshCachedGroupAttributes({groupID:e.groupID,remoteMainSequence:o,groupAttributeList:a,operationType:"get"}),xl.log("".concat(t._className,"._getGroupAttributes ok. groupID:").concat(e.groupID)),i})).catch((function(e){return R_(e)}))}},{key:"_getLocalGroupAttributes",value:function(e){var t=e.groupID,n=e.keyList,r=void 0===n?[]:n,o={};if(!this._groupAttributesMap.has(t))return o;var i=this._groupAttributesMap.get(t).attributes;if(r.length>0)r.forEach((function(e){i.has(e)&&(o[e]=i.get(e).value)}));else{var a,s=T(i.keys());try{for(s.s();!(a=s.n()).done;){var c=a.value;o[c]=i.get(c).value}}catch(l){s.e(l)}finally{s.f()}}return o}},{key:"_refreshCachedGroupAttributes",value:function(e){var t=e.groupID,n=e.remoteMainSequence,r=e.groupAttributeList,o=e.operationType;if(this._groupAttributesMap.has(t)){var i=this._groupAttributesMap.get(t),a=i.localMainSequence;if("get"===o||n-a==1)i.remoteMainSequence=n,i.localMainSequence=n,i.lastUpdateTime=Date.now(),this._updateCachedAttributes({groupAttributes:i,groupAttributeList:r,operationType:o});else{if(a===n)return;i.remoteMainSequence=n}this._groupAttributesMap.set(t,i);var s="operationType:".concat(o," localMainSequence:").concat(a," remoteMainSequence:").concat(n);xl.log("".concat(this._className,"._refreshCachedGroupAttributes. ").concat(s))}}},{key:"_updateCachedAttributes",value:function(e){var t=e.groupAttributes,n=e.groupAttributeList,r=e.operationType;"clear"!==r?"delete"!==r?("init"===r&&t.attributes.clear(),n.forEach((function(e){var n=e.key,r=e.value,o=e.sequence;t.attributes.set(n,{value:r,sequence:o})}))):n.forEach((function(e){t.attributes.delete(e)})):t.attributes.clear()}},{key:"_checkCachedGroupAttributes",value:function(e){var t=e.groupID,n=e.funcName;if(this._groupModule.hasLocalGroup(t)&&this._groupModule.getLocalGroupProfile(t).type!==ho.GRP_AVCHATROOM)return xl.warn("".concat(this._className,"._checkCachedGroupAttributes. ").concat("非直播群不能使用群属性 API")),new O_({code:eg.CANNOT_USE_GRP_ATTR_NOT_AVCHATROOM,message:"非直播群不能使用群属性 API"});var r=this._groupAttributesMap.get(t);if(Zl(r)){var o="如果 groupID:".concat(t," 是直播群，使用 ").concat(n," 前先使用 joinGroup 接口申请加入群组，详细请参考 https://web.sdk.qcloud.com/im/doc/zh-cn/SDK.html#joinGroup");return xl.warn("".concat(this._className,"._checkCachedGroupAttributes. ").concat(o)),new O_({code:eg.CANNOT_USE_GRP_ATTR_AVCHATROOM_UNJOIN,message:o})}return!0}},{key:"_transformGroupAttributes",value:function(e){var t=[];return Object.keys(e).forEach((function(n){t.push({key:n,value:e[n]})})),t}},{key:"_emitGroupAttributesUpdated",value:function(e){var t=this._getLocalGroupAttributes({groupID:e});this._groupModule.emitOuterEvent(po.GROUP_ATTRIBUTES_UPDATED,{groupID:e,groupAttributes:t})}},{key:"reset",value:function(){this._groupAttributesMap.clear(),this.CACHE_EXPIRE_TIME=3e4}}]),e}(),vy=function(){function e(t){o(this,e);var n=t.manager,r=t.groupID,i=t.onInit,a=t.onSuccess,s=t.onFail;this._className="Polling",this._manager=n,this._groupModule=n._groupModule,this._onInit=i,this._onSuccess=a,this._onFail=s,this._groupID=r,this._timeoutID=-1,this._isRunning=!1,this._protocolName=yh}return a(e,[{key:"start",value:function(){var e=this._groupModule.isLoggedIn();e||(this._protocolName=bh),xl.log("".concat(this._className,".start pollingInterval:").concat(this._manager.getPollingInterval()," isLoggedIn:").concat(e)),this._isRunning=!0,this._request()}},{key:"isRunning",value:function(){return this._isRunning}},{key:"_request",value:function(){var e=this,t=this._onInit(this._groupID);this._groupModule.request({protocolName:this._protocolName,requestData:t}).then((function(t){e._onSuccess(e._groupID,t),e.isRunning()&&(clearTimeout(e._timeoutID),e._timeoutID=setTimeout(e._request.bind(e),e._manager.getPollingInterval()))})).catch((function(t){e._onFail(e._groupID,t),e.isRunning()&&(clearTimeout(e._timeoutID),e._timeoutID=setTimeout(e._request.bind(e),e._manager.MAX_POLLING_INTERVAL))}))}},{key:"stop",value:function(){xl.log("".concat(this._className,".stop")),this._timeoutID>0&&(clearTimeout(this._timeoutID),this._timeoutID=-1),this._isRunning=!1}}]),e}(),_y={3:!0,4:!0,5:!0,6:!0},yy=function(){function e(t){o(this,e),this._groupModule=t,this._className="AVChatRoomHandler",this._joinedGroupMap=new Map,this._pollingRequestInfoMap=new Map,this._pollingInstanceMap=new Map,this.sequencesLinkedList=new iy(200),this.messageIDLinkedList=new iy(100),this.receivedMessageCount=0,this._reportMessageStackedCount=0,this._onlineMemberCountMap=new Map,this.DEFAULT_EXPIRE_TIME=60,this.DEFAULT_POLLING_INTERVAL=300,this.MAX_POLLING_INTERVAL=2e3,this._pollingInterval=this.DEFAULT_POLLING_INTERVAL,this.DEFAULT_POLLING_NO_MESSAGE_COUNT=20,this.DEFAULT_POLLING_INTERVAL_PLUS=2e3,this._pollingNoMessageCount=0}return a(e,[{key:"hasJoinedAVChatRoom",value:function(){return this._joinedGroupMap.size>0}},{key:"checkJoinedAVChatRoomByID",value:function(e){return this._joinedGroupMap.has(e)}},{key:"getJoinedAVChatRoom",value:function(){return this._joinedGroupMap.size>0?y(this._joinedGroupMap.keys()):null}},{key:"_updateRequestData",value:function(e){return n({},this._pollingRequestInfoMap.get(e))}},{key:"_handleSuccess",value:function(e,t){var n=t.data,r=n.key,o=n.nextSeq,i=n.rspMsgList;if(0!==n.errorCode){var a=this._pollingRequestInfoMap.get(e),s=new vg(mg.LONG_POLLING_AV_ERROR),c=a?"".concat(a.key,"-").concat(a.startSeq):"requestInfo is undefined";s.setMessage("".concat(e,"-").concat(c,"-").concat(t.errorInfo)).setCode(t.errorCode).setNetworkType(this._groupModule.getNetworkType()).end(!0)}else{if(!this.checkJoinedAVChatRoomByID(e))return;Yl(r)&&zl(o)&&this._pollingRequestInfoMap.set(e,{key:r,startSeq:o}),Ql(i)&&i.length>0?(i.forEach((function(e){e.to=e.groupID})),this.onMessage(i)):(this._pollingNoMessageCount+=1,this._pollingNoMessageCount===this.DEFAULT_POLLING_NO_MESSAGE_COUNT&&(this._pollingInterval=this.DEFAULT_POLLING_INTERVAL+this.DEFAULT_POLLING_INTERVAL_PLUS))}}},{key:"_handleFailure",value:function(e,t){}},{key:"onMessage",value:function(e){if(Ql(e)&&0!==e.length){0!==this._pollingNoMessageCount&&(this._pollingNoMessageCount=0,this._pollingInterval=this.DEFAULT_POLLING_INTERVAL);var t=null,n=[],r=this._getModule(sd),o=this._getModule(Ed),i=e.length;i>1&&e.sort((function(e,t){return e.sequence-t.sequence}));for(var a=this._getModule(cd),s=0;s<i;s++)if(_y[e[s].event]){this.receivedMessageCount+=1,t=this.packMessage(e[s],e[s].event);var c=1===e[s].isModified,u=1===e[s].isHistoryMessage;if((a.isUnlimitedAVChatRoom()||!this.sequencesLinkedList.has(t.sequence))&&!this.messageIDLinkedList.has(t.ID)){var l=t.conversationID;if(this.receivedMessageCount%50==0?this._getModule(_d).detectFirstRound(l,this.sequencesLinkedList.data()):this.receivedMessageCount%80==0&&this._getModule(_d).detectSecondRound(l,this.sequencesLinkedList.data()),null!==this.sequencesLinkedList.tail()){var f=this.sequencesLinkedList.tail().value,p=t.sequence-f;p>1&&p<=20?this._getModule(_d).onMessageMaybeLost(l,f+1,p-1):p<-1&&p>=-20&&this._getModule(_d).onMessageMaybeLost(l,t.sequence+1,Math.abs(p)-1)}this.sequencesLinkedList.set(t.sequence),this.messageIDLinkedList.set(t.ID);var d=!1;if(this._isMessageSentByCurrentInstance(t)?c&&(d=!0,t.isModified=c,r.updateMessageIsModifiedProperty(t)):d=!0,d){if(!u&&t.conversationType!==ho.CONV_SYSTEM){var h=t.conversationID.replace(ho.CONV_GROUP,"");this._pollingInstanceMap.has(h)?o.addMessageSequence({key:fg,message:t}):(t.type!==ho.MSG_GRP_TIP&&t.clientTime>0&&o.addMessageDelay(t.clientTime),o.addMessageSequence({key:lg,message:t}))}n.push(t)}}}else xl.warn("".concat(this._className,".onMessage 未处理的 event 类型: ").concat(e[s].event));if(0!==n.length){this._groupModule.filterModifiedMessage(n);var g=this.packConversationOption(n);g.length>0&&this._getModule(sd).onNewMessage({conversationOptionsList:g,isInstantMessage:!0}),xl.debug("".concat(this._className,".onMessage count:").concat(n.length)),this._checkMessageStacked(n);var v=this._groupModule.filterUnmodifiedMessage(n);v.length>0&&this._groupModule.emitOuterEvent(po.MESSAGE_RECEIVED,v),n.length=0}}}},{key:"_checkMessageStacked",value:function(e){var t=e.length;t>=100&&(xl.warn("".concat(this._className,"._checkMessageStacked 直播群消息堆积数:").concat(e.length,'！可能会导致微信小程序渲染时遇到 "Dom limit exceeded" 的错误，建议接入侧此时只渲染最近的10条消息')),this._reportMessageStackedCount<5&&(new vg(mg.MESSAGE_STACKED).setNetworkType(this._groupModule.getNetworkType()).setMessage("count:".concat(t," groupID:").concat(y(this._joinedGroupMap.keys()))).setLevel("warning").end(),this._reportMessageStackedCount+=1))}},{key:"_isMessageSentByCurrentInstance",value:function(e){return!!this._getModule(sd).isMessageSentByCurrentInstance(e)}},{key:"packMessage",value:function(e,t){e.currentUser=this._groupModule.getMyUserID(),e.conversationType=5===t?ho.CONV_SYSTEM:ho.CONV_GROUP,e.isSystemMessage=!!e.isSystemMessage;var n=new y_(e),r=this.packElements(e,t);return n.setElement(r),n}},{key:"packElements",value:function(e,t){return 4===t||6===t?(this._updateMemberCountByGroupTips(e),this._onGroupAttributesUpdated(e),{type:ho.MSG_GRP_TIP,content:n(n({},e.elements),{},{groupProfile:e.groupProfile})}):5===t?{type:ho.MSG_GRP_SYS_NOTICE,content:n(n({},e.elements),{},{groupProfile:n(n({},e.groupProfile),{},{groupID:e.groupID})})}:this._getModule(pd).parseElements(e.elements,e.from)}},{key:"packConversationOption",value:function(e){for(var t=new Map,n=0;n<e.length;n++){var r=e[n],o=r.conversationID;if(t.has(o)){var i=t.get(o);i.lastMessage=r,"in"===r.flow&&i.unreadCount++}else t.set(o,{conversationID:r.conversationID,unreadCount:"out"===r.flow?0:1,type:r.conversationType,subType:r.conversationSubType,lastMessage:r})}return y(t.values())}},{key:"_updateMemberCountByGroupTips",value:function(e){var t=e.groupProfile.groupID,n=e.elements.onlineMemberInfo,r=void 0===n?void 0:n;if(!jf(r)){var o=r.onlineMemberNum,i=void 0===o?0:o,a=r.expireTime,s=void 0===a?this.DEFAULT_EXPIRE_TIME:a,c=this._onlineMemberCountMap.get(t)||{},u=Date.now();jf(c)?Object.assign(c,{lastReqTime:0,lastSyncTime:0,latestUpdateTime:u,memberCount:i,expireTime:s}):(c.latestUpdateTime=u,c.memberCount=i),xl.debug("".concat(this._className,"._updateMemberCountByGroupTips info:"),c),this._onlineMemberCountMap.set(t,c)}}},{key:"start",value:function(e){if(this._pollingInstanceMap.has(e)){var t=this._pollingInstanceMap.get(e);t.isRunning()||t.start()}else{var n=new vy({manager:this,groupID:e,onInit:this._updateRequestData.bind(this),onSuccess:this._handleSuccess.bind(this),onFail:this._handleFailure.bind(this)});n.start(),this._pollingInstanceMap.set(e,n),xl.log("".concat(this._className,".start groupID:").concat(e))}}},{key:"handleJoinResult",value:function(e){var t=this;return this._preCheck().then((function(){var n=e.longPollingKey,r=e.group,o=r.groupID;return t._joinedGroupMap.set(o,r),t._groupModule.updateGroupMap([r]),t._groupModule.deleteUnjoinedAVChatRoom(o),t._groupModule.emitGroupListUpdate(!0,!1),Zl(n)?w_({status:Bl,group:r}):Promise.resolve()}))}},{key:"startRunLoop",value:function(e){var t=this;return this.handleJoinResult(e).then((function(){var n=e.longPollingKey,r=e.group,o=r.groupID;return t._pollingRequestInfoMap.set(o,{key:n,startSeq:0}),t.start(o),t._groupModule.isLoggedIn()?w_({status:Bl,group:r}):w_({status:Bl})}))}},{key:"_preCheck",value:function(){if(this._getModule(cd).isUnlimitedAVChatRoom())return Promise.resolve();if(!this.hasJoinedAVChatRoom())return Promise.resolve();var e=_(this._joinedGroupMap.entries().next().value,2),t=e[0],n=e[1];if(this._groupModule.isLoggedIn()){if(n.selfInfo.role!==ho.GRP_MBR_ROLE_OWNER&&n.ownerID!==this._groupModule.getMyUserID())return this._groupModule.quitGroup(t);this._groupModule.deleteLocalGroupAndConversation(t)}else this._groupModule.deleteLocalGroupAndConversation(t);return this.reset(t),Promise.resolve()}},{key:"joinWithoutAuth",value:function(e){var t=this,n=e.groupID,r="".concat(this._className,".joinWithoutAuth"),o=new vg(mg.JOIN_WITHOUT_AUTH);return this._groupModule.request({protocolName:rh,requestData:e}).then((function(e){var i=e.data.longPollingKey;if(t._groupModule.probeNetwork().then((function(e){var t=_(e,2),r=(t[0],t[1]);o.setNetworkType(r).setMessage("groupID:".concat(n," longPollingKey:").concat(i)).end(!0)})),Zl(i))return R_(new O_({code:eg.CANNOT_JOIN_NON_AVCHATROOM_WITHOUT_LOGIN,message:tg.CANNOT_JOIN_NON_AVCHATROOM_WITHOUT_LOGIN}));xl.log("".concat(r," ok. groupID:").concat(n)),t._getModule(sd).setCompleted("".concat(ho.CONV_GROUP).concat(n));var a=new sy({groupID:n});return t.startRunLoop({group:a,longPollingKey:i}),b_({status:Bl})})).catch((function(e){return xl.error("".concat(r," failed. groupID:").concat(n," error:"),e),t._groupModule.probeNetwork().then((function(t){var r=_(t,2),i=r[0],a=r[1];o.setError(e,i,a).setMessage("groupID:".concat(n)).end(!0)})),R_(e)})).finally((function(){t._groupModule.getModule(ld).reportAtOnce()}))}},{key:"getGroupOnlineMemberCount",value:function(e){var t=this._onlineMemberCountMap.get(e)||{},n=Date.now();return jf(t)||n-t.lastSyncTime>1e3*t.expireTime&&n-t.latestUpdateTime>1e4&&n-t.lastReqTime>3e3?(t.lastReqTime=n,this._onlineMemberCountMap.set(e,t),this._getGroupOnlineMemberCount(e).then((function(e){return b_({memberCount:e.memberCount})})).catch((function(e){return R_(e)}))):w_({memberCount:t.memberCount})}},{key:"_getGroupOnlineMemberCount",value:function(e){var t=this,n="".concat(this._className,"._getGroupOnlineMemberCount");return this._groupModule.request({protocolName:Mh,requestData:{groupID:e}}).then((function(r){var o=t._onlineMemberCountMap.get(e)||{},i=r.data,a=i.onlineMemberNum,s=void 0===a?0:a,c=i.expireTime,u=void 0===c?t.DEFAULT_EXPIRE_TIME:c;xl.log("".concat(n," ok. groupID:").concat(e," memberCount:").concat(s," expireTime:").concat(u));var l=Date.now();return jf(o)&&(o.lastReqTime=l),t._onlineMemberCountMap.set(e,Object.assign(o,{lastSyncTime:l,latestUpdateTime:l,memberCount:s,expireTime:u})),{memberCount:s}})).catch((function(r){return xl.warn("".concat(n," failed. error:"),r),new vg(mg.GET_GROUP_ONLINE_MEMBER_COUNT).setCode(r.code).setMessage("groupID:".concat(e," error:").concat(JSON.stringify(r))).setNetworkType(t._groupModule.getNetworkType()).end(),Promise.reject(r)}))}},{key:"_onGroupAttributesUpdated",value:function(e){var t=e.groupProfile.groupID,n=e.elements,r=n.operationType,o=n.newGroupProfile;if(6===r){var i=(void 0===o?void 0:o).groupAttributeOption;jf(i)||this._groupModule.onGroupAttributesUpdated({groupID:t,groupAttributeOption:i})}}},{key:"_getModule",value:function(e){return this._groupModule.getModule(e)}},{key:"setPollingInterval",value:function(e){Zl(e)||(zl(e)?this._pollingInterval=this.DEFAULT_POLLING_INTERVAL=e:this._pollingInterval=this.DEFAULT_POLLING_INTERVAL=parseInt(e,10))}},{key:"setPollingIntervalPlus",value:function(e){Zl(e)||(zl(e)?this.DEFAULT_POLLING_INTERVAL_PLUS=e:this.DEFAULT_POLLING_INTERVAL_PLUS=parseInt(e,10))}},{key:"setPollingNoMessageCount",value:function(e){Zl(e)||(zl(e)?this.DEFAULT_POLLING_NO_MESSAGE_COUNT=e:this.DEFAULT_POLLING_NO_MESSAGE_COUNT=parseInt(e,10))}},{key:"getPollingInterval",value:function(){return this._pollingInterval}},{key:"reset",value:function(e){if(e){xl.log("".concat(this._className,".reset groupID:").concat(e));var t=this._pollingInstanceMap.get(e);t&&t.stop(),this._pollingInstanceMap.delete(e),this._joinedGroupMap.delete(e),this._pollingRequestInfoMap.delete(e),this._onlineMemberCountMap.delete(e)}else{xl.log("".concat(this._className,".reset all"));var n,r=T(this._pollingInstanceMap.values());try{for(r.s();!(n=r.n()).done;)n.value.stop()}catch(i){r.e(i)}finally{r.f()}this._pollingInstanceMap.clear(),this._joinedGroupMap.clear(),this._pollingRequestInfoMap.clear(),this._onlineMemberCountMap.clear()}this.sequencesLinkedList.reset(),this.messageIDLinkedList.reset(),this.receivedMessageCount=0,this._reportMessageStackedCount=0,this._pollingInterval=this.DEFAULT_POLLING_INTERVAL=300,this.DEFAULT_POLLING_NO_MESSAGE_COUNT=20,this.DEFAULT_POLLING_INTERVAL_PLUS=2e3,this._pollingNoMessageCount=0}}]),e}(),by=1,My=15,Ey=function(){function e(t){o(this,e),this._groupModule=t,this._className="GroupSystemNoticeHandler",this.pendencyMap=new Map}return a(e,[{key:"onNewGroupSystemNotice",value:function(e){var t=e.dataList,n=e.isSyncingEnded,r=e.isInstantMessage;xl.debug("".concat(this._className,".onReceiveSystemNotice count:").concat(t.length));var o=this.newSystemNoticeStoredAndSummary({notifiesList:t,isInstantMessage:r}),i=o.eventDataList,a=o.result;i.length>0&&(this._groupModule.getModule(sd).onNewMessage({conversationOptionsList:i,isInstantMessage:r}),this._onReceivedGroupSystemNotice({result:a,isInstantMessage:r})),r?a.length>0&&this._groupModule.emitOuterEvent(po.MESSAGE_RECEIVED,a):!0===n&&this._clearGroupSystemNotice()}},{key:"newSystemNoticeStoredAndSummary",value:function(e){var t=e.notifiesList,r=e.isInstantMessage,o=null,i=t.length,a=0,s=[],c={conversationID:ho.CONV_SYSTEM,unreadCount:0,type:ho.CONV_SYSTEM,subType:null,lastMessage:null};for(a=0;a<i;a++){var u=t[a],l=u.groupProfile,f=l.communityType,p=void 0===f?0:f,d=l.topicID,h=void 0===d?void 0:d,g=u.elements.topicIDList,v=void 0===g?void 0:g;2!==p||jf(h)&&jf(v)?u.elements.operationType!==My&&(u.currentUser=this._groupModule.getMyUserID(),u.conversationType=ho.CONV_SYSTEM,u.conversationID=ho.CONV_SYSTEM,(o=new y_(u)).setElement({type:ho.MSG_GRP_SYS_NOTICE,content:n(n({},u.elements),{},{groupProfile:u.groupProfile})}),o.isSystemMessage=!0,(1===o.sequence&&1===o.random||2===o.sequence&&2===o.random)&&(o.sequence=ff(),o.random=ff(),o.generateMessageID(),xl.log("".concat(this._className,".newSystemNoticeStoredAndSummary sequence and random maybe duplicated, regenerate. ID:").concat(o.ID))),this._groupModule.getModule(sd).pushIntoNoticeResult(s,o)&&(r?c.unreadCount++:o.setIsRead(!0),c.subType=o.conversationSubType)):this._handleTopicSystemNotice(u)}return c.lastMessage=s[s.length-1],{eventDataList:s.length>0?[c]:[],result:s}}},{key:"_clearGroupSystemNotice",value:function(){var e=this;this.getPendencyList().then((function(t){t.forEach((function(t){e.pendencyMap.set("".concat(t.from,"_").concat(t.groupID,"_").concat(t.to),t)}));var n=e._groupModule.getModule(sd).getLocalMessageList(ho.CONV_SYSTEM),r=[];n.forEach((function(t){var n=t.payload,o=n.operatorID,i=n.operationType,a=n.groupProfile;if(i===by){var s="".concat(o,"_").concat(a.groupID,"_").concat(a.to),c=e.pendencyMap.get(s);c&&zl(c.handled)&&0!==c.handled&&r.push(t)}})),e.deleteGroupSystemNotice({messageList:r})}))}},{key:"deleteGroupSystemNotice",value:function(e){var t=this,n="".concat(this._className,".deleteGroupSystemNotice");return Ql(e.messageList)&&0!==e.messageList.length?(xl.log("".concat(n," ")+e.messageList.map((function(e){return e.ID}))),this._groupModule.request({protocolName:_h,requestData:{messageListToDelete:e.messageList.map((function(e){return{from:ho.CONV_SYSTEM,messageSeq:e.clientSequence,messageRandom:e.random}}))}}).then((function(){xl.log("".concat(n," ok"));var r=t._groupModule.getModule(sd);return e.messageList.forEach((function(e){r.deleteLocalMessage(e)})),b_()})).catch((function(e){return xl.error("".concat(n," error:"),e),R_(e)}))):w_()}},{key:"getPendencyList",value:function(e){var t=this;return this._groupModule.request({protocolName:mh,requestData:{startTime:e&&e.startTime?e.startTime:0,limit:e&&e.limit?e.limit:10,handleAccount:this._groupModule.getMyUserID()}}).then((function(e){var n=e.data.pendencyList;return 0!==e.data.nextStartTime?t.getPendencyList({startTime:e.data.nextStartTime}).then((function(e){return[].concat(y(n),y(e))})):n}))}},{key:"_onReceivedGroupSystemNotice",value:function(e){var t=this,n=e.result;e.isInstantMessage&&n.forEach((function(e){switch(e.payload.operationType){case 1:break;case 2:t._onApplyGroupRequestAgreed(e);break;case 3:break;case 4:t._onMemberKicked(e);break;case 5:t._onGroupDismissed(e);break;case 6:break;case 7:t._onInviteGroup(e);break;case 8:t._onQuitGroup(e);break;case 9:t._onSetManager(e);break;case 10:t._onDeleteManager(e)}}))}},{key:"_onApplyGroupRequestAgreed",value:function(e){var t=this,n=e.payload.groupProfile.groupID;this._groupModule.hasLocalGroup(n)||this._groupModule.getGroupProfile({groupID:n}).then((function(e){var n=e.data.group;if(n){t._groupModule.updateGroupMap([n]);var r=!n.isSupportTopic;t._groupModule.emitGroupListUpdate(!0,r)}}))}},{key:"_onMemberKicked",value:function(e){var t=e.payload.groupProfile.groupID;this._groupModule.hasLocalGroup(t)&&this._groupModule.deleteLocalGroupAndConversation(t)}},{key:"_onGroupDismissed",value:function(e){var t=e.payload.groupProfile.groupID;this._groupModule.hasLocalGroup(t)&&this._groupModule.deleteLocalGroupAndConversation(t);var n=this._groupModule._AVChatRoomHandler;n&&n.checkJoinedAVChatRoomByID(t)&&n.reset(t)}},{key:"_onInviteGroup",value:function(e){var t=this,n=e.payload.groupProfile.groupID;this._groupModule.hasLocalGroup(n)||this._groupModule.getGroupProfile({groupID:n}).then((function(e){var n=e.data.group;n&&(t._groupModule.updateGroupMap([n]),t._groupModule.emitGroupListUpdate())}))}},{key:"_onQuitGroup",value:function(e){var t=e.payload.groupProfile.groupID;this._groupModule.hasLocalGroup(t)&&this._groupModule.deleteLocalGroupAndConversation(t)}},{key:"_onSetManager",value:function(e){var t=e.payload.groupProfile,n=t.to,r=t.groupID,o=this._groupModule.getModule(id).getLocalGroupMemberInfo(r,n);o&&o.updateRole(ho.GRP_MBR_ROLE_ADMIN)}},{key:"_onDeleteManager",value:function(e){var t=e.payload.groupProfile,n=t.to,r=t.groupID,o=this._groupModule.getModule(id).getLocalGroupMemberInfo(r,n);o&&o.updateRole(ho.GRP_MBR_ROLE_MEMBER)}},{key:"_handleTopicSystemNotice",value:function(e){var t=e.groupProfile,n=t.groupID,r=t.topicID,o=e.elements,i=o.operationType,a=o.topicIDList,s=this._groupModule.getModule(ad);17===i?s.onTopicCreated({groupID:n,topicID:r}):18===i&&s.onTopicDeleted({groupID:n,topicIDList:a})}},{key:"reset",value:function(){this.pendencyMap.clear()}}]),e}(),Iy=["relayFlag"],Sy=function(e){c(r,e);var t=m(r);function r(e){var n;return o(this,r),(n=t.call(this,e))._className="GroupModule",n._commonGroupHandler=null,n._AVChatRoomHandler=null,n._groupSystemNoticeHandler=null,n._commonGroupHandler=new dy(g(n)),n._groupAttributesHandler=new gy(g(n)),n._AVChatRoomHandler=new yy(g(n)),n._groupTipsHandler=new py(g(n)),n._groupSystemNoticeHandler=new Ey(g(n)),n.groupMap=new Map,n._unjoinedAVChatRoomList=new Map,n._receiptDetailCompleteMap=new Map,n.getInnerEmitterInstance().on(z_,n._onCloudConfigUpdated,g(n)),n}return a(r,[{key:"_onCloudConfigUpdated",value:function(){var e=this.getCloudConfig("polling_interval"),t=this.getCloudConfig("polling_interval_plus"),n=this.getCloudConfig("polling_no_msg_count");this._AVChatRoomHandler&&(xl.log("".concat(this._className,"._onCloudConfigUpdated pollingInterval:").concat(e)+" pollingIntervalPlus:".concat(t," pollingNoMessageCount:").concat(n)),this._AVChatRoomHandler.setPollingInterval(e),this._AVChatRoomHandler.setPollingIntervalPlus(t),this._AVChatRoomHandler.setPollingNoMessageCount(n))}},{key:"onCheckTimer",value:function(e){this.isLoggedIn()&&(this._commonGroupHandler.onCheckTimer(e),this._groupTipsHandler.onCheckTimer(e))}},{key:"guardForAVChatRoom",value:function(e){var t=this;if(e.conversationType===ho.CONV_GROUP){var n=If(e.to)?Gf(e.to):e.to;return this.hasLocalGroup(n)?w_():this.getGroupProfile({groupID:n}).then((function(r){var o=r.data.group.type;if(xl.log("".concat(t._className,".guardForAVChatRoom. groupID:").concat(n," type:").concat(o)),o===ho.GRP_AVCHATROOM){var i="userId:".concat(e.from," 未加入群 groupID:").concat(n,"。发消息前先使用 joinGroup 接口申请加群，详细请参考 https://web.sdk.qcloud.com/im/doc/zh-cn/SDK.html#joinGroup");return xl.warn("".concat(t._className,".guardForAVChatRoom sendMessage not allowed. ").concat(i)),R_(new O_({code:eg.MESSAGE_SEND_FAIL,message:i,data:{message:e}}))}return w_()}))}return w_()}},{key:"checkJoinedAVChatRoomByID",value:function(e){return!!this._AVChatRoomHandler&&this._AVChatRoomHandler.checkJoinedAVChatRoomByID(e)}},{key:"onNewGroupMessage",value:function(e){this._commonGroupHandler&&this._commonGroupHandler.onNewGroupMessage(e)}},{key:"updateNextMessageSeq",value:function(e){var t=this;if(Ql(e)){var n=this.getModule(ad);e.forEach((function(e){var r=e.conversationID.replace(ho.CONV_GROUP,"");if(If(r)){var o=e.lastMessage.sequence+1,i=Gf(r),a=n.getLocalTopic(i,r);a&&(a.updateNextMessageSeq(o),a.updateLastMessage(e.lastMessage))}t.groupMap.has(r)&&(t.groupMap.get(r).nextMessageSeq=e.lastMessage.sequence+1)}))}}},{key:"onNewGroupTips",value:function(e){this._groupTipsHandler&&this._groupTipsHandler.onNewGroupTips(e)}},{key:"onGroupMessageRevoked",value:function(e){this._commonGroupHandler&&this._commonGroupHandler.onGroupMessageRevoked(e)}},{key:"onNewGroupSystemNotice",value:function(e){this._groupSystemNoticeHandler&&this._groupSystemNoticeHandler.onNewGroupSystemNotice(e)}},{key:"onGroupMessageReadNotice",value:function(e){var t=this;e.dataList.forEach((function(e){var n=e.elements.groupMessageReadNotice;if(!Zl(n)){var r=t.getModule(sd);n.forEach((function(e){var n=e.groupID,o=e.topicID,i=void 0===o?void 0:o,a=e.lastMessageSeq;xl.debug("".concat(t._className,".onGroupMessageReadNotice groupID:").concat(n," lastMessageSeq:").concat(a));var s="".concat(ho.CONV_GROUP).concat(n),c=!0;jf(i)||(s="".concat(ho.CONV_GROUP).concat(i),c=!1),r.updateIsReadAfterReadReport({conversationID:s,lastMessageSeq:a}),r.updateUnreadCount(s,c)}))}}))}},{key:"onReadReceiptList",value:function(e){var t=this;xl.debug("".concat(this._className,".onReadReceiptList options:"),JSON.stringify(e)),e.dataList.forEach((function(e){var n=e.groupProfile,r=e.elements,o=n.groupID,i=t.getModule(sd),a=r.readReceiptList;i.updateReadReceiptInfo({groupID:o,readReceiptList:a})}))}},{key:"onGroupMessageModified",value:function(e){xl.debug("".concat(this._className,".onGroupMessageModified options:"),JSON.stringify(e));var t=this.getModule(sd);e.dataList.forEach((function(e){t.onMessageModified(n(n({},e),{},{conversationType:ho.CONV_GROUP,to:e.topicID?e.topicID:e.groupID}))}))}},{key:"deleteGroupSystemNotice",value:function(e){this._groupSystemNoticeHandler&&this._groupSystemNoticeHandler.deleteGroupSystemNotice(e)}},{key:"initGroupMap",value:function(e){this.groupMap.set(e.groupID,new sy(e))}},{key:"deleteGroup",value:function(e){this.groupMap.delete(e)}},{key:"updateGroupMap",value:function(e){var t=this;e.forEach((function(e){t.groupMap.has(e.groupID)?t.groupMap.get(e.groupID).updateGroup(e):t.groupMap.set(e.groupID,new sy(e))}));var n,r=this.getMyUserID(),o=T(this.groupMap);try{for(o.s();!(n=o.n()).done;)_(n.value,2)[1].selfInfo.userID=r}catch(a){o.e(a)}finally{o.f()}this._setStorageGroupList()}},{key:"getStorageGroupList",value:function(){return this.getModule(ud).getItem("groupMap")}},{key:"_setStorageGroupList",value:function(){var e=this.getLocalGroupList().filter((function(e){var t=e.type;return!Mf(t)})).filter((function(e){return!e.isSupportTopic})).slice(0,20).map((function(e){return{groupID:e.groupID,name:e.name,avatar:e.avatar,type:e.type}}));this.getModule(ud).setItem("groupMap",e)}},{key:"getGroupMap",value:function(){return this.groupMap}},{key:"getLocalGroupList",value:function(){return y(this.groupMap.values())}},{key:"getLocalGroupProfile",value:function(e){return this.groupMap.get(e)}},{key:"sortLocalGroupList",value:function(){var e=y(this.groupMap).filter((function(e){var t=_(e,2);return t[0],!jf(t[1].lastMessage)}));e.sort((function(e,t){return t[1].lastMessage.lastTime-e[1].lastMessage.lastTime})),this.groupMap=new Map(y(e))}},{key:"updateGroupLastMessage",value:function(e){this._commonGroupHandler&&this._commonGroupHandler.handleUpdateGroupLastMessage(e)}},{key:"emitGroupListUpdate",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getLocalGroupList();if(e&&this.emitOuterEvent(po.GROUP_LIST_UPDATED),t){var r=JSON.parse(JSON.stringify(n)),o=this.getModule(sd);o.updateConversationGroupProfile(r)}}},{key:"patchGroupMessageRemindType",value:function(){var e=this.getLocalGroupList(),t=this.getModule(sd),n=0;e.forEach((function(e){!0===t.patchMessageRemindType({ID:e.groupID,isC2CConversation:!1,messageRemindType:e.selfInfo.messageRemindType})&&(n+=1)})),xl.log("".concat(this._className,".patchGroupMessageRemindType count:").concat(n))}},{key:"recomputeUnreadCount",value:function(){var e=this.getLocalGroupList(),t=this.getModule(sd);e.forEach((function(e){var n=e.groupID,r=e.selfInfo,o=r.excludedUnreadSequenceList,i=r.readedSequence;if(Ql(o)){var a=0;o.forEach((function(t){t>=i&&t<=e.nextMessageSeq-1&&(a+=1)})),a>=1&&t.recomputeGroupUnreadCount({conversationID:"".concat(ho.CONV_GROUP).concat(n),count:a})}}))}},{key:"getMyNameCardByGroupID",value:function(e){var t=this.getLocalGroupProfile(e);return t?t.selfInfo.nameCard:""}},{key:"getGroupList",value:function(e){return this._commonGroupHandler?this._commonGroupHandler.getGroupList(e):w_()}},{key:"getGroupProfile",value:function(e){var t=this,n=new vg(mg.GET_GROUP_PROFILE),r="".concat(this._className,".getGroupProfile"),o=e.groupID,i=e.groupCustomFieldFilter;xl.log("".concat(r," groupID:").concat(o));var a={groupIDList:[o],responseFilter:{groupBaseInfoFilter:["Type","Name","Introduction","Notification","FaceUrl","Owner_Account","CreateTime","InfoSeq","LastInfoTime","LastMsgTime","MemberNum","MaxMemberNum","ApplyJoinOption","NextMsgSeq","ShutUpAllMember"],groupCustomFieldFilter:i,memberInfoFilter:["Role","JoinTime","MsgSeq","MsgFlag","NameCard"]}};return this.getGroupProfileAdvance(a).then((function(e){var i,a=e.data,s=a.successGroupList,c=a.failureGroupList;return xl.log("".concat(r," ok")),c.length>0?R_(c[0]):(Mf(s[0].type)&&!t.hasLocalGroup(o)?i=new sy(s[0]):(t.updateGroupMap(s),i=t.getLocalGroupProfile(o)),i.isSupportTopic||t.getModule(sd).updateConversationGroupProfile([i]),n.setNetworkType(t.getNetworkType()).setMessage("groupID:".concat(o," type:").concat(i.type," muteAllMembers:").concat(i.muteAllMembers," ownerID:").concat(i.ownerID)).end(),b_({group:i}))})).catch((function(o){return t.probeNetwork().then((function(t){var r=_(t,2),i=r[0],a=r[1];n.setError(o,i,a).setMessage("groupID:".concat(e.groupID)).end()})),xl.error("".concat(r," failed. error:"),o),R_(o)}))}},{key:"getGroupProfileAdvance",value:function(e){var t=this,r="".concat(this._className,".getGroupProfileAdvance"),o=e.groupIDList;Ql(o)&&o.length>50&&(xl.warn("".concat(r," 获取群资料的数量不能超过50个")),o.length=50);var i=[],a=[];o.forEach((function(e){Ef({groupID:e})?a.push(e):i.push(e)}));var s=[];if(i.length>0){var c=this._getGroupProfileAdvance(n(n({},e),{},{groupIDList:i}));s.push(c)}if(a.length>0){var u=this._getGroupProfileAdvance(n(n({},e),{},{groupIDList:a,relayFlag:i.length>0}));s.push(u)}return Promise.all(s).then((function(e){var t=[],n=[];return e.forEach((function(e){t.push.apply(t,y(e.successGroupList)),n.push.apply(n,y(e.failureGroupList))})),b_({successGroupList:t,failureGroupList:n})})).catch((function(e){return xl.error("".concat(t._className,"._getGroupProfileAdvance failed. error:"),e),R_(e)}))}},{key:"_getGroupProfileAdvance",value:function(e){var t=this,n=e.relayFlag,r=void 0!==n&&n,o=h(e,Iy);return this.request({protocolName:Qd,requestData:o}).then((function(e){xl.log("".concat(t._className,"._getGroupProfileAdvance ok."));var n=e.data.groups;return{successGroupList:n.filter((function(e){return Zl(e.errorCode)||0===e.errorCode})),failureGroupList:n.filter((function(e){return e.errorCode&&0!==e.errorCode})).map((function(e){return new O_({code:e.errorCode,message:e.errorInfo,data:{groupID:e.groupID}})}))}})).catch((function(t){return r&&Ef({groupID:e.groupIDList[0]})?{successGroupList:[],failureGroupList:[]}:R_(t)}))}},{key:"createGroup",value:function(e){var t=this,r="".concat(this._className,".createGroup"),o=e.type,i=e.groupID;if(!["Public","Private","ChatRoom","AVChatRoom","Community"].includes(o))return R_({code:eg.ILLEGAL_GROUP_TYPE,message:tg.ILLEGAL_GROUP_TYPE});if(!Ef({type:o})){if(!jf(i)&&Ef({groupID:i}))return R_({code:eg.ILLEGAL_GROUP_ID,message:tg.ILLEGAL_GROUP_ID});e.isSupportTopic=void 0}if(Mf(o)&&!Zl(e.memberList)&&e.memberList.length>0&&(xl.warn("".concat(r," 创建 AVChatRoom 时不能添加群成员，自动忽略该字段")),e.memberList=void 0),bf(o)||Zl(e.joinOption)||(xl.warn("".concat(r," 创建 Work/Meeting/AVChatRoom/Community 群时不能设置字段 joinOption，自动忽略该字段")),e.joinOption=void 0),Ef({type:o})){if(!jf(i)&&!Ef({groupID:i}))return R_({code:eg.ILLEGAL_GROUP_ID,message:tg.ILLEGAL_GROUP_ID});e.isSupportTopic=!0===e.isSupportTopic?1:0}var a=new vg(mg.CREATE_GROUP);xl.log("".concat(r," options:"),e);var s=[];return this.request({protocolName:Zd,requestData:n(n({},e),{},{ownerID:this.getMyUserID(),webPushFlag:1})}).then((function(o){var i=o.data,c=i.groupID,u=i.overLimitUserIDList,l=void 0===u?[]:u;if(s=l,a.setNetworkType(t.getNetworkType()).setMessage("groupType:".concat(e.type," groupID:").concat(c," overLimitUserIDList=").concat(l)).end(),xl.log("".concat(r," ok groupID:").concat(c," overLimitUserIDList:"),l),e.type===ho.GRP_AVCHATROOM)return t.getGroupProfile({groupID:c});if(e.type===ho.GRP_COMMUNITY&&1===e.isSupportTopic)return t.getGroupProfile({groupID:c});jf(e.memberList)||jf(l)||(e.memberList=e.memberList.filter((function(e){return-1===l.indexOf(e.userID)}))),t.updateGroupMap([n(n({},e),{},{groupID:c})]);var f=t.getModule(ed),p=f.createCustomMessage({to:c,conversationType:ho.CONV_GROUP,payload:{data:"group_create",extension:"".concat(t.getMyUserID(),"创建群组")}});return f.sendMessageInstance(p),t.emitGroupListUpdate(),t.getGroupProfile({groupID:c})})).then((function(e){var t=e.data.group,n=t.selfInfo,r=n.nameCard,o=n.joinTime;return t.updateSelfInfo({nameCard:r,joinTime:o,messageRemindType:ho.MSG_REMIND_ACPT_AND_NOTE,role:ho.GRP_MBR_ROLE_OWNER}),b_({group:t,overLimitUserIDList:s})})).catch((function(n){return a.setMessage("groupType:".concat(e.type)),t.probeNetwork().then((function(e){var t=_(e,2),r=t[0],o=t[1];a.setError(n,r,o).end()})),xl.error("".concat(r," failed. error:"),n),R_(n)}))}},{key:"dismissGroup",value:function(e){var t=this,n="".concat(this._className,".dismissGroup");if(this.hasLocalGroup(e)&&this.getLocalGroupProfile(e).type===ho.GRP_WORK)return R_(new O_({code:eg.CANNOT_DISMISS_WORK,message:tg.CANNOT_DISMISS_WORK}));var r=new vg(mg.DISMISS_GROUP);return r.setMessage("groupID:".concat(e)),xl.log("".concat(n," groupID:").concat(e)),this.request({protocolName:eh,requestData:{groupID:e}}).then((function(){return r.setNetworkType(t.getNetworkType()).end(),xl.log("".concat(n," ok")),t.deleteLocalGroupAndConversation(e),t.checkJoinedAVChatRoomByID(e)&&t._AVChatRoomHandler.reset(e),b_({groupID:e})})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),o=n[0],i=n[1];r.setError(e,o,i).end()})),xl.error("".concat(n," failed. error:"),e),R_(e)}))}},{key:"updateGroupProfile",value:function(e){var t=this,n="".concat(this._className,".updateGroupProfile");!this.hasLocalGroup(e.groupID)||bf(this.getLocalGroupProfile(e.groupID).type)||Zl(e.joinOption)||(xl.warn("".concat(n," Work/Meeting/AVChatRoom/Community 群不能设置字段 joinOption，自动忽略该字段")),e.joinOption=void 0),Zl(e.muteAllMembers)||(e.muteAllMembers?e.muteAllMembers="On":e.muteAllMembers="Off");var r=new vg(mg.UPDATE_GROUP_PROFILE);return r.setMessage(JSON.stringify(e)),xl.log("".concat(n," groupID:").concat(e.groupID)),this.request({protocolName:th,requestData:e}).then((function(){return r.setNetworkType(t.getNetworkType()).end(),xl.log("".concat(n," ok")),t.hasLocalGroup(e.groupID)&&(t.groupMap.get(e.groupID).updateGroup(e),t._setStorageGroupList()),b_({group:t.groupMap.get(e.groupID)})})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),o=n[0],i=n[1];r.setError(e,o,i).end()})),xl.log("".concat(n," failed. error:"),e),R_(e)}))}},{key:"joinGroup",value:function(e){var t=this,n=e.groupID,r=e.type,o="".concat(this._className,".joinGroup");if(r===ho.GRP_WORK){var i=new O_({code:eg.CANNOT_JOIN_WORK,message:tg.CANNOT_JOIN_WORK});return R_(i)}if(this.deleteUnjoinedAVChatRoom(n),this.hasLocalGroup(n)){if(!this.isLoggedIn())return w_({status:ho.JOIN_STATUS_ALREADY_IN_GROUP});var a=new vg(mg.APPLY_JOIN_GROUP);return this.getGroupProfile({groupID:n}).then((function(){return a.setNetworkType(t.getNetworkType()).setMessage("groupID:".concat(n," joinedStatus:").concat(ho.JOIN_STATUS_ALREADY_IN_GROUP)).end(),w_({status:ho.JOIN_STATUS_ALREADY_IN_GROUP})})).catch((function(r){return a.setNetworkType(t.getNetworkType()).setMessage("groupID:".concat(n," unjoined")).end(),xl.warn("".concat(o," ").concat(n," was unjoined, now join!")),t.groupMap.delete(n),t.applyJoinGroup(e)}))}return xl.log("".concat(o," groupID:").concat(n)),this.isLoggedIn()?this.applyJoinGroup(e):this._AVChatRoomHandler.joinWithoutAuth(e)}},{key:"applyJoinGroup",value:function(e){var t=this,r="".concat(this._className,".applyJoinGroup"),o=e.groupID,i=new vg(mg.APPLY_JOIN_GROUP),a=n({},e),s=this.canIUse(xu.AVCHATROOM_HISTORY_MSG);return s&&(a.historyMessageFlag=1),this.getModule(sd).removeConversationMessageCache("".concat(ho.CONV_GROUP).concat(o)),this.request({protocolName:nh,requestData:a}).then((function(e){var n=e.data,a=n.joinedStatus,c=n.longPollingKey,u=n.avChatRoomFlag,l=n.avChatRoomKey,f=n.messageList,p="groupID:".concat(o," joinedStatus:").concat(a," longPollingKey:").concat(c)+" avChatRoomFlag:".concat(u," canGetAVChatRoomHistoryMessage:").concat(s,",")+" history message count:".concat(jf(f)?0:f.length);switch(i.setNetworkType(t.getNetworkType()).setMessage("".concat(p)).end(),xl.log("".concat(r," ok. ").concat(p)),a){case Vl:return b_({status:Vl});case Bl:return t.getGroupProfile({groupID:o}).then((function(e){var n,r=e.data.group,i={status:Bl,group:r};return 1===u?(t.getModule(sd).setCompleted("".concat(ho.CONV_GROUP).concat(o)),t._groupAttributesHandler.initGroupAttributesCache({groupID:o,avChatRoomKey:l}),(n=Zl(c)?t._AVChatRoomHandler.handleJoinResult({group:r}):t._AVChatRoomHandler.startRunLoop({longPollingKey:c,group:r})).then((function(){t._onAVChatRoomHistoryMessage(f)})),n):(t.emitGroupListUpdate(!0,!1),b_(i))}));default:var d=new O_({code:eg.JOIN_GROUP_FAIL,message:tg.JOIN_GROUP_FAIL});return xl.error("".concat(r," error:"),d),R_(d)}})).catch((function(n){return i.setMessage("groupID:".concat(e.groupID)),t.probeNetwork().then((function(e){var t=_(e,2),r=t[0],o=t[1];i.setError(n,r,o).end()})),xl.error("".concat(r," error:"),n),R_(n)}))}},{key:"quitGroup",value:function(e){var t=this,n="".concat(this._className,".quitGroup");xl.log("".concat(n," groupID:").concat(e));var r=this.checkJoinedAVChatRoomByID(e);if(!r&&!this.hasLocalGroup(e)){var o=new O_({code:eg.MEMBER_NOT_IN_GROUP,message:tg.MEMBER_NOT_IN_GROUP});return R_(o)}if(r&&!this.isLoggedIn())return xl.log("".concat(n," anonymously ok. groupID:").concat(e)),this.deleteLocalGroupAndConversation(e),this._AVChatRoomHandler.reset(e),w_({groupID:e});var i=new vg(mg.QUIT_GROUP);return i.setMessage("groupID:".concat(e)),this.request({protocolName:oh,requestData:{groupID:e}}).then((function(){return i.setNetworkType(t.getNetworkType()).end(),xl.log("".concat(n," ok")),r&&t._AVChatRoomHandler.reset(e),t.deleteLocalGroupAndConversation(e),b_({groupID:e})})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];i.setError(e,r,o).end()})),xl.error("".concat(n," failed. error:"),e),R_(e)}))}},{key:"searchGroupByID",value:function(e){var t=this,n="".concat(this._className,".searchGroupByID"),r={groupIDList:[e]},o=new vg(mg.SEARCH_GROUP_BY_ID);return o.setMessage("groupID:".concat(e)),xl.log("".concat(n," groupID:").concat(e)),this.request({protocolName:ih,requestData:r}).then((function(e){var r=e.data.groupProfile;if(0!==r[0].errorCode)throw new O_({code:r[0].errorCode,message:r[0].errorInfo});return o.setNetworkType(t.getNetworkType()).end(),xl.log("".concat(n," ok")),b_({group:new sy(r[0])})})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],i=n[1];o.setError(e,r,i).end()})),xl.warn("".concat(n," failed. error:"),e),R_(e)}))}},{key:"changeGroupOwner",value:function(e){var t=this,n="".concat(this._className,".changeGroupOwner");if(this.hasLocalGroup(e.groupID)&&this.getLocalGroupProfile(e.groupID).type===ho.GRP_AVCHATROOM)return R_(new O_({code:eg.CANNOT_CHANGE_OWNER_IN_AVCHATROOM,message:tg.CANNOT_CHANGE_OWNER_IN_AVCHATROOM}));if(e.newOwnerID===this.getMyUserID())return R_(new O_({code:eg.CANNOT_CHANGE_OWNER_TO_SELF,message:tg.CANNOT_CHANGE_OWNER_TO_SELF}));var r=new vg(mg.CHANGE_GROUP_OWNER);return r.setMessage("groupID:".concat(e.groupID," newOwnerID:").concat(e.newOwnerID)),xl.log("".concat(n," groupID:").concat(e.groupID)),this.request({protocolName:ah,requestData:e}).then((function(){r.setNetworkType(t.getNetworkType()).end(),xl.log("".concat(n," ok"));var o=e.groupID,i=e.newOwnerID;t.groupMap.get(o).ownerID=i;var a=t.getModule(id).getLocalGroupMemberList(o);if(a instanceof Map){var s=a.get(t.getMyUserID());Zl(s)||(s.updateRole("Member"),t.groupMap.get(o).selfInfo.role="Member");var c=a.get(i);Zl(c)||c.updateRole("Owner")}return t.emitGroupListUpdate(!0,!1),b_({group:t.groupMap.get(o)})})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),o=n[0],i=n[1];r.setError(e,o,i).end()})),xl.error("".concat(n," failed. error:"),e),R_(e)}))}},{key:"handleGroupApplication",value:function(e){var t=this,r="".concat(this._className,".handleGroupApplication"),o=e.message.payload,i=o.groupProfile.groupID,a=o.authentication,s=o.messageKey,c=o.operatorID,u=new vg(mg.HANDLE_GROUP_APPLICATION);return u.setMessage("groupID:".concat(i)),xl.log("".concat(r," groupID:").concat(i)),this.request({protocolName:sh,requestData:n(n({},e),{},{applicant:c,groupID:i,authentication:a,messageKey:s})}).then((function(){return u.setNetworkType(t.getNetworkType()).end(),xl.log("".concat(r," ok")),t._groupSystemNoticeHandler.deleteGroupSystemNotice({messageList:[e.message]}),b_({group:t.getLocalGroupProfile(i)})})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];u.setError(e,r,o).end()})),xl.error("".concat(r," failed. error"),e),R_(e)}))}},{key:"handleGroupInvitation",value:function(e){var t=this,r="".concat(this._className,".handleGroupInvitation"),o=e.message.payload,i=o.groupProfile.groupID,a=o.authentication,s=o.messageKey,c=o.operatorID,u=e.handleAction,l=new vg(mg.HANDLE_GROUP_INVITATION);return l.setMessage("groupID:".concat(i," inviter:").concat(c," handleAction:").concat(u)),xl.log("".concat(r," groupID:").concat(i," inviter:").concat(c," handleAction:").concat(u)),this.request({protocolName:ch,requestData:n(n({},e),{},{inviter:c,groupID:i,authentication:a,messageKey:s})}).then((function(){return l.setNetworkType(t.getNetworkType()).end(),xl.log("".concat(r," ok")),t._groupSystemNoticeHandler.deleteGroupSystemNotice({messageList:[e.message]}),b_({group:t.getLocalGroupProfile(i)})})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];l.setError(e,r,o).end()})),xl.error("".concat(r," failed. error"),e),R_(e)}))}},{key:"getGroupOnlineMemberCount",value:function(e){return this._AVChatRoomHandler?this._AVChatRoomHandler.checkJoinedAVChatRoomByID(e)?this._AVChatRoomHandler.getGroupOnlineMemberCount(e):w_({memberCount:0}):R_({code:eg.CANNOT_FIND_MODULE,message:tg.CANNOT_FIND_MODULE})}},{key:"hasLocalGroup",value:function(e){return this.groupMap.has(e)}},{key:"deleteLocalGroupAndConversation",value:function(e){this._deleteLocalGroup(e),this.getModule(sd).deleteLocalConversation("GROUP".concat(e)),this.emitGroupListUpdate(!0,!1)}},{key:"_deleteLocalGroup",value:function(e){this.groupMap.delete(e),this.getModule(id).deleteGroupMemberList(e),this._setStorageGroupList()}},{key:"sendMessage",value:function(e,t){var n=this.createGroupMessagePack(e,t);return this.request(n)}},{key:"createGroupMessagePack",value:function(e,t){var n=null;t&&t.offlinePushInfo&&(n=t.offlinePushInfo);var r="";Yl(e.cloudCustomData)&&e.cloudCustomData.length>0&&(r=e.cloudCustomData);var o=[];if(Xl(t)&&Xl(t.messageControlInfo)){var i=t.messageControlInfo,a=i.excludedFromUnreadCount,s=i.excludedFromLastMessage;!0===a&&o.push("NoUnread"),!0===s&&o.push("NoLastMsg")}var c=e.getGroupAtInfoList(),u={fromAccount:this.getMyUserID(),groupID:e.to,msgBody:e.getElements(),cloudCustomData:r,random:e.random,priority:e.priority,clientSequence:e.clientSequence,groupAtInfo:e.type!==ho.MSG_TEXT||jf(c)?void 0:c,onlineOnlyFlag:this.isOnlineMessage(e,t)?1:0,clientTime:e.clientTime,offlinePushInfo:n?{pushFlag:!0===n.disablePush?1:0,title:n.title||"",desc:n.description||"",ext:n.extension||"",apnsInfo:{badgeMode:!0===n.ignoreIOSBadge?1:0},androidInfo:{OPPOChannelID:n.androidOPPOChannelID||""}}:void 0,messageControlInfo:o,needReadReceipt:!0!==e.needReadReceipt||this.isMessageFromOrToAVChatroom(e.to)?0:1};return If(e.to)&&(u.groupID=Gf(e.to),u.topicID=e.to),{protocolName:Nd,tjgID:this.generateTjgID(e),requestData:u}}},{key:"revokeMessage",value:function(e){var t={groupID:e.to,msgSeqList:[{msgSeq:e.sequence}]};return If(e.to)&&(t.groupID=Gf(e.to),t.topicID=e.to),this.request({protocolName:uh,requestData:t})}},{key:"deleteMessage",value:function(e){var t=e.to,n=e.keyList;xl.log("".concat(this._className,".deleteMessage groupID:").concat(t," count:").concat(n.length));var r={groupID:t,deleter:this.getMyUserID(),keyList:n};return If(t)&&(r.groupID=Gf(t),r.topicID=t),this.request({protocolName:Eh,requestData:r})}},{key:"modifyRemoteMessage",value:function(e){var t=e.to,n=e.sequence,r=e.payload,o=e.type,i=e.version,a=void 0===i?0:i,s=e.cloudCustomData,c=t,u=void 0;return If(t)&&(c=Gf(t),u=t),this.request({protocolName:Ih,requestData:{groupID:c,topicID:u,sequence:n,version:a,elements:[{type:o,content:r}],cloudCustomData:s}})}},{key:"getRoamingMessage",value:function(e){var t=this,n="".concat(this._className,".getRoamingMessage"),r=e.conversationID,o=e.groupID,i=e.sequence,a=new vg(mg.GET_GROUP_ROAMING_MESSAGES),s=0,c=void 0;return If(o)&&(o=Gf(c=o)),this._computeLastSequence({groupID:o,topicID:c,sequence:i}).then((function(e){return s=e,xl.log("".concat(n," groupID:").concat(o," startSequence:").concat(s)),t.request({protocolName:ph,requestData:{groupID:o,count:21,sequence:s,topicID:c}})})).then((function(e){var i=e.data,u=i.messageList,l=i.complete;Zl(u)?xl.log("".concat(n," ok. complete:").concat(l," but messageList is undefined!")):xl.log("".concat(n," ok. complete:").concat(l," count:").concat(u.length)),a.setNetworkType(t.getNetworkType()).setMessage("groupID:".concat(o," topicID:").concat(c," startSequence:").concat(s," complete:").concat(l," count:").concat(u?u.length:"undefined")).end();var f=t.getModule(sd);if(2===l||jf(u))return f.setCompleted(r),{nextReqID:"",storedMessageList:[]};var p=u[u.length-1].sequence-1;f.updateRoamingMessageSequence(r,p);var d=f.onRoamingMessage(u,r);return f.updateIsRead(r),f.patchConversationLastMessage(r),xl.log("".concat(n," nextReqID:").concat(p," stored message count:").concat(d.length)),{nextReqID:p+"",storedMessageList:d}})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],i=n[1];a.setError(e,r,i).setMessage("groupID:".concat(o," topicID:").concat(c," startSequence:").concat(s)).end()})),xl.warn("".concat(n," failed. error:"),e),R_(e)}))}},{key:"_getGroupIDOfMessage",value:function(e){return e.conversationID.replace(ho.CONV_GROUP,"")}},{key:"getReadReceiptList",value:function(e){var t=this,n="".concat(this._className,".getReadReceiptList"),r=this._getGroupIDOfMessage(e[0]),o=this.getMyUserID(),i=e.filter((function(e){return e.from===o&&!0===e.needReadReceipt})).map((function(e){return{sequence:e.sequence}}));if(xl.log("".concat(n," groupID:").concat(r," sequenceList:").concat(JSON.stringify(i))),0===i.length)return w_({messageList:e});var a=new vg(mg.GET_READ_RECEIPT);return a.setMessage("groupID:".concat(r)),this.request({protocolName:dh,requestData:{groupID:r,sequenceList:i}}).then((function(t){a.end(),xl.log("".concat(n," ok"));var r=t.data.readReceiptList;return Ql(r)&&r.forEach((function(t){e.forEach((function(e){0===t.code&&t.sequence===e.sequence&&(e.readReceiptInfo.readCount=t.readCount,e.readReceiptInfo.unreadCount=t.unreadCount)}))})),b_({messageList:e})})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];a.setError(e,r,o).end()})),xl.warn("".concat(n," failed. error:"),e),R_(e)}))}},{key:"sendReadReceipt",value:function(e){var t=this,n=this._getGroupIDOfMessage(e[0]),r=new vg(mg.SEND_READ_RECEIPT);r.setMessage("groupID:".concat(n));var o=this.getMyUserID(),i=e.filter((function(e){return e.from!==o&&!0===e.needReadReceipt})).map((function(e){return{sequence:e.sequence}}));if(0===i.length)return R_({code:eg.READ_RECEIPT_MESSAGE_LIST_EMPTY,message:tg.READ_RECEIPT_MESSAGE_LIST_EMPTY});var a="".concat(this._className,".sendReadReceipt");return xl.log("".concat(a,". sequenceList:").concat(JSON.stringify(i))),this.request({protocolName:hh,requestData:{groupID:n,sequenceList:i}}).then((function(e){return r.end(),xl.log("".concat(a," ok")),b_()})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),o=n[0],i=n[1];r.setError(e,o,i).end()})),xl.warn("".concat(a," failed. error:"),e),R_(e)}))}},{key:"getReadReceiptDetail",value:function(e){var t=this,n=e.message,r=e.filter,o=e.cursor,i=e.count,a=this._getGroupIDOfMessage(n),s=n.ID,c=n.sequence,u="".concat(this._className,".getReadReceiptDetail"),l=this._receiptDetailCompleteMap.get(s)||!1,f=0!==r&&1!==r?0:r,p=Yl(o)?o:"",d=!zl(i)||i<=0||i>=100?100:i,h="groupID:".concat(a," sequence:").concat(c," cursor:").concat(p," filter:").concat(f," completeFlag:").concat(l);xl.log("".concat(u," ").concat(h));var g={cursor:"",isCompleted:!1,messageID:s,unreadUserIDList:[],readUserIDList:[]},v=new vg(mg.GET_READ_RECEIPT_DETAIL);return v.setMessage(h),this.request({protocolName:vh,requestData:{groupID:a,sequence:c,flag:f,cursor:p,count:d}}).then((function(e){v.end();var n=e.data,r=n.cursor,o=n.isCompleted,i=n.unreadUserIDList,a=n.readUserIDList;return g.cursor=r,1===o&&(g.isCompleted=!0,t._receiptDetailCompleteMap.set(s,!0)),0===f?g.readUserIDList=a.map((function(e){return e.userID})):1===f&&(g.unreadUserIDList=i.map((function(e){return e.userID}))),xl.log("".concat(u," ok")),b_(g)})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];v.setError(e,r,o).end()})),xl.warn("".concat(u," failed. error:"),e),R_(e)}))}},{key:"getRoamingMessagesHopping",value:function(e){var t=this,n="".concat(this._className,".getRoamingMessagesHopping"),r=new vg(mg.GET_GROUP_ROAMING_MESSAGES_HOPPING),o=e.groupID,i=e.count,a=e.sequence,s=void 0;return If(o)&&(o=Gf(s=o)),this.request({protocolName:ph,requestData:{groupID:o,count:i,sequence:a,topicID:s}}).then((function(i){var c=i.data,u=c.messageList,l=c.complete,f="groupID:".concat(o," topicID:").concat(s," sequence:").concat(a," complete:").concat(l," count:").concat(u?u.length:0);if(xl.log("".concat(n," ok. ").concat(f)),r.setNetworkType(t.getNetworkType()).setMessage("".concat(f)).end(),2===l||jf(u))return[];var p="".concat(ho.CONV_GROUP).concat(e.groupID);return t.getModule(sd).onRoamingMessage(u,p,!1)})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),s=n[0],c=n[1];r.setError(e,s,c).setMessage("groupID:".concat(o," sequence:").concat(a," count:").concat(i)).end()})),xl.warn("".concat(n," failed. error:"),e),R_(e)}))}},{key:"setMessageRead",value:function(e){var t=this,n=e.conversationID,r=e.lastMessageSeq,o="".concat(this._className,".setMessageRead");xl.log("".concat(o," conversationID:").concat(n," lastMessageSeq:").concat(r)),zl(r)||xl.warn("".concat(o," 请勿修改 Conversation.lastMessage.lastSequence，否则可能会导致已读上报结果不准确"));var i=new vg(mg.SET_GROUP_MESSAGE_READ);i.setMessage("".concat(n,"-").concat(r));var a=n.replace(ho.CONV_GROUP,""),s=void 0;return If(a)&&(a=Gf(s=a)),this.request({protocolName:lh,requestData:{groupID:a,topicID:s,messageReadSeq:r}}).then((function(){i.setNetworkType(t.getNetworkType()).end(),xl.log("".concat(o," ok."));var e=t.getModule(sd);e.updateIsReadAfterReadReport({conversationID:n,lastMessageSeq:r});var c=!0;if(!Zl(s)){c=!1;var u=t.getModule(ad).getLocalTopic(a,s);u&&u.updateSelfInfo({readedSequence:r})}return e.updateUnreadCount(n,c),b_()})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];i.setError(e,r,o).end()})),xl.log("".concat(o," failed. error:"),e),R_(e)}))}},{key:"_computeLastSequence",value:function(e){var t=e.groupID,n=e.topicID,r=void 0===n?void 0:n,o=e.sequence;return o>0?Promise.resolve(o):Zl(r)||this.hasLocalGroup(t)?Zl(r)?this.getGroupLastSequence(t):this.getTopicLastSequence({groupID:t,topicID:r}):Promise.resolve(0)}},{key:"getGroupLastSequence",value:function(e){var t=this,n="".concat(this._className,".getGroupLastSequence"),r=new vg(mg.GET_GROUP_LAST_SEQUENCE),o=0,i="";if(this.hasLocalGroup(e)){var a=this.getLocalGroupProfile(e),s=a.lastMessage;if(s.lastSequence>0&&!1===s.onlineOnlyFlag)return o=s.lastSequence,i="got lastSequence:".concat(o," from local group profile[lastMessage.lastSequence]. groupID:").concat(e),xl.log("".concat(n," ").concat(i)),r.setNetworkType(this.getNetworkType()).setMessage("".concat(i)).end(),Promise.resolve(o);if(a.nextMessageSeq>1)return o=a.nextMessageSeq-1,i="got lastSequence:".concat(o," from local group profile[nextMessageSeq]. groupID:").concat(e),xl.log("".concat(n," ").concat(i)),r.setNetworkType(this.getNetworkType()).setMessage("".concat(i)).end(),Promise.resolve(o)}var c="GROUP".concat(e),u=this.getModule(sd).getLocalConversation(c);if(u&&u.lastMessage.lastSequence&&!1===u.lastMessage.onlineOnlyFlag)return o=u.lastMessage.lastSequence,i="got lastSequence:".concat(o," from local conversation profile[lastMessage.lastSequence]. groupID:").concat(e),xl.log("".concat(n," ").concat(i)),r.setNetworkType(this.getNetworkType()).setMessage("".concat(i)).end(),Promise.resolve(o);var l={groupIDList:[e],responseFilter:{groupBaseInfoFilter:["NextMsgSeq"]}};return this.getGroupProfileAdvance(l).then((function(a){var s=a.data.successGroupList;return jf(s)?xl.log("".concat(n," successGroupList is empty. groupID:").concat(e)):(o=s[0].nextMessageSeq-1,i="got lastSequence:".concat(o," from getGroupProfileAdvance. groupID:").concat(e),xl.log("".concat(n," ").concat(i))),r.setNetworkType(t.getNetworkType()).setMessage("".concat(i)).end(),o})).catch((function(o){return t.probeNetwork().then((function(t){var n=_(t,2),i=n[0],a=n[1];r.setError(o,i,a).setMessage("get lastSequence failed from getGroupProfileAdvance. groupID:".concat(e)).end()})),xl.warn("".concat(n," failed. error:"),o),R_(o)}))}},{key:"getTopicLastSequence",value:function(e){var t=this,n=e.groupID,r=e.topicID,o="".concat(this._className,".getTopicLastSequence"),i=new vg(mg.GET_TOPIC_LAST_SEQUENCE),a=0,s="",c=this.getModule(ad);return c.hasLocalTopic(n,r)?(a=c.getLocalTopic(n,r).nextMessageSeq-1,s="get lastSequence:".concat(a," from local topic info[nextMessageSeq]. topicID:").concat(r),xl.log("".concat(o," ").concat(s)),i.setNetworkType(this.getNetworkType()).setMessage("".concat(s)).end(),Promise.resolve(a)):c.getTopicList({groupID:n,topicIDList:[r]}).then((function(e){var n=e.data.successTopicList;return jf(n)?xl.log("".concat(o," successTopicList is empty. topicID:").concat(r)):(a=n[0].nextMessageSeq-1,s="get lastSequence:".concat(a," from getTopicList. topicID:").concat(r),xl.log("".concat(o," ").concat(s))),i.setNetworkType(t.getNetworkType()).setMessage("".concat(s)).end(),a})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),o=n[0],a=n[1];i.setError(e,o,a).setMessage("get lastSequence failed from getTopicList. topicID:".concat(r)).end()})),xl.warn("".concat(o," failed. error:"),e),R_(e)}))}},{key:"isMessageFromOrToAVChatroom",value:function(e){return!!this._AVChatRoomHandler&&this._AVChatRoomHandler.checkJoinedAVChatRoomByID(e)}},{key:"hasJoinedAVChatRoom",value:function(){return this._AVChatRoomHandler?this._AVChatRoomHandler.hasJoinedAVChatRoom():0}},{key:"getJoinedAVChatRoom",value:function(){return this._AVChatRoomHandler?this._AVChatRoomHandler.getJoinedAVChatRoom():[]}},{key:"isOnlineMessage",value:function(e,t){return!(!this._canIUseOnlineOnlyFlag(e)||!t||!0!==t.onlineUserOnly)}},{key:"_canIUseOnlineOnlyFlag",value:function(e){var t=this.getJoinedAVChatRoom();return!t||!t.includes(e.to)||e.conversationType!==ho.CONV_GROUP}},{key:"_onAVChatRoomHistoryMessage",value:function(e){if(!jf(e)){xl.log("".concat(this._className,"._onAVChatRoomHistoryMessage count:").concat(e.length));var t=[];e.forEach((function(e){t.push(n(n({},e),{},{isHistoryMessage:1}))})),this.onAVChatRoomMessage(t)}}},{key:"onAVChatRoomMessage",value:function(e){this._AVChatRoomHandler&&this._AVChatRoomHandler.onMessage(e)}},{key:"getGroupSimplifiedInfo",value:function(e){var t=this,n=new vg(mg.GET_GROUP_SIMPLIFIED_INFO),r={groupIDList:[e],responseFilter:{groupBaseInfoFilter:["Type","Name"]}};return this.getGroupProfileAdvance(r).then((function(r){var o=r.data.successGroupList;return n.setNetworkType(t.getNetworkType()).setMessage("groupID:".concat(e," type:").concat(o[0].type)).end(),o[0]})).catch((function(r){t.probeNetwork().then((function(t){var o=_(t,2),i=o[0],a=o[1];n.setError(r,i,a).setMessage("groupID:".concat(e)).end()}))}))}},{key:"setUnjoinedAVChatRoom",value:function(e){this._unjoinedAVChatRoomList.set(e,1)}},{key:"deleteUnjoinedAVChatRoom",value:function(e){this._unjoinedAVChatRoomList.has(e)&&this._unjoinedAVChatRoomList.delete(e)}},{key:"isUnjoinedAVChatRoom",value:function(e){return this._unjoinedAVChatRoomList.has(e)}},{key:"onGroupAttributesUpdated",value:function(e){this._groupAttributesHandler&&this._groupAttributesHandler.onGroupAttributesUpdated(e)}},{key:"updateLocalMainSequenceOnReconnected",value:function(){this._groupAttributesHandler&&this._groupAttributesHandler.updateLocalMainSequenceOnReconnected()}},{key:"initGroupAttributes",value:function(e){return this._groupAttributesHandler.initGroupAttributes(e)}},{key:"setGroupAttributes",value:function(e){return this._groupAttributesHandler.setGroupAttributes(e)}},{key:"deleteGroupAttributes",value:function(e){return this._groupAttributesHandler.deleteGroupAttributes(e)}},{key:"getGroupAttributes",value:function(e){return this._groupAttributesHandler.getGroupAttributes(e)}},{key:"reset",value:function(){this.groupMap.clear(),this._unjoinedAVChatRoomList.clear(),this._receiptDetailCompleteMap.clear(),this._commonGroupHandler.reset(),this._groupSystemNoticeHandler.reset(),this._groupTipsHandler.reset(),this._AVChatRoomHandler&&this._AVChatRoomHandler.reset()}}]),r}(Sd),Ty=function(){function e(t){o(this,e),this.userID="",this.avatar="",this.nick="",this.role="",this.joinTime="",this.lastSendMsgTime="",this.nameCard="",this.muteUntil=0,this.memberCustomField=[],this._initMember(t)}return a(e,[{key:"_initMember",value:function(e){this.updateMember(e)}},{key:"updateMember",value:function(e){var t=[null,void 0,"",0,NaN];e.memberCustomField&&yf(this.memberCustomField,e.memberCustomField),cf(this,e,["memberCustomField"],t)}},{key:"updateRole",value:function(e){["Owner","Admin","Member"].indexOf(e)<0||(this.role=e)}},{key:"updateMuteUntil",value:function(e){Zl(e)||(this.muteUntil=Math.floor((Date.now()+1e3*e)/1e3))}},{key:"updateNameCard",value:function(e){Zl(e)||(this.nameCard=e)}},{key:"updateMemberCustomField",value:function(e){e&&yf(this.memberCustomField,e)}}]),e}(),Oy=function(e){c(r,e);var t=m(r);function r(e){var n;return o(this,r),(n=t.call(this,e))._className="GroupMemberModule",n.groupMemberListMap=new Map,n.getInnerEmitterInstance().on(Y_,n._onProfileUpdated,g(n)),n}return a(r,[{key:"_onProfileUpdated",value:function(e){for(var t=this,n=e.data,r=function(e){var r=n[e];t.groupMemberListMap.forEach((function(e){e.has(r.userID)&&e.get(r.userID).updateMember({nick:r.nick,avatar:r.avatar})}))},o=0;o<n.length;o++)r(o)}},{key:"deleteGroupMemberList",value:function(e){this.groupMemberListMap.delete(e)}},{key:"getGroupMemberList",value:function(e){var t=this,n=e.groupID,r=e.offset,o=void 0===r?0:r,i=e.count,a=void 0===i?15:i,s="".concat(this._className,".getGroupMemberList"),c=new vg(mg.GET_GROUP_MEMBER_LIST);xl.log("".concat(s," groupID:").concat(n," offset:").concat(o," count:").concat(a));var u=0,l={groupID:n,limit:a>100?100:a};Ef({groupID:n})?l.next="".concat(o):(l.offset=o,u=o+1);var f=[];return this.request({protocolName:wh,requestData:l}).then((function(e){var r=e.data,o=r.members,i=r.memberNum,a=r.next,s=void 0===a?void 0:a;if(Zl(s)||(u=jf(s)?0:s),!Ql(o)||0===o.length)return u=0,Promise.resolve([]);var c=t.getModule(rd);return c.hasLocalGroup(n)&&(c.getLocalGroupProfile(n).memberNum=i),f=t._updateLocalGroupMemberMap(n,o),t.getModule(td).getUserProfile({userIDList:o.map((function(e){return e.userID})),tagList:[Ul.NICK,Ul.AVATAR]})})).then((function(e){var r=e.data;if(!Ql(r)||0===r.length)return w_({memberList:[],offset:u});var o=r.map((function(e){return{userID:e.userID,nick:e.nick,avatar:e.avatar}}));return t._updateLocalGroupMemberMap(n,o),c.setNetworkType(t.getNetworkType()).setMessage("groupID:".concat(n," offset:").concat(u," count:").concat(a)).end(),xl.log("".concat(s," ok.")),b_({memberList:f,offset:u})})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];c.setError(e,r,o).end()})),xl.error("".concat(s," failed. error:"),e),R_(e)}))}},{key:"getGroupMemberProfile",value:function(e){var t=this,r="".concat(this._className,".getGroupMemberProfile"),o=new vg(mg.GET_GROUP_MEMBER_PROFILE);o.setMessage(e.userIDList.length>5?"userIDList.length:".concat(e.userIDList.length):"userIDList:".concat(e.userIDList)),xl.log("".concat(r," groupID:").concat(e.groupID," userIDList:").concat(e.userIDList.join(","))),e.userIDList.length>50&&(e.userIDList=e.userIDList.slice(0,50));var i=e.groupID,a=e.userIDList;return this._getGroupMemberProfileAdvance(n(n({},e),{},{userIDList:a})).then((function(e){var n=e.data.members;return Ql(n)&&0!==n.length?(t._updateLocalGroupMemberMap(i,n),t.getModule(td).getUserProfile({userIDList:n.map((function(e){return e.userID})),tagList:[Ul.NICK,Ul.AVATAR]})):w_([])})).then((function(e){var n=e.data.map((function(e){return{userID:e.userID,nick:e.nick,avatar:e.avatar}}));t._updateLocalGroupMemberMap(i,n);var r=a.filter((function(e){return t.hasLocalGroupMember(i,e)})).map((function(e){return t.getLocalGroupMemberInfo(i,e)}));return o.setNetworkType(t.getNetworkType()).end(),b_({memberList:r})}))}},{key:"addGroupMember",value:function(e){var t=this,n="".concat(this._className,".addGroupMember"),r=e.groupID,o=this.getModule(rd).getLocalGroupProfile(r),i=o.type,a=new vg(mg.ADD_GROUP_MEMBER);if(a.setMessage("groupID:".concat(r," groupType:").concat(i)),Mf(i)){var s=new O_({code:eg.CANNOT_ADD_MEMBER_IN_AVCHATROOM,message:tg.CANNOT_ADD_MEMBER_IN_AVCHATROOM});return a.setCode(eg.CANNOT_ADD_MEMBER_IN_AVCHATROOM).setError(tg.CANNOT_ADD_MEMBER_IN_AVCHATROOM).setNetworkType(this.getNetworkType()).end(),R_(s)}return e.userIDList=e.userIDList.map((function(e){return{userID:e}})),xl.log("".concat(n," groupID:").concat(r)),this.request({protocolName:Dh,requestData:e}).then((function(r){var i=r.data.members;xl.log("".concat(n," ok"));var s=i.filter((function(e){return 1===e.result})).map((function(e){return e.userID})),c=i.filter((function(e){return 0===e.result})).map((function(e){return e.userID})),u=i.filter((function(e){return 2===e.result})).map((function(e){return e.userID})),l=i.filter((function(e){return 4===e.result})).map((function(e){return e.userID})),f="groupID:".concat(e.groupID,", ")+"successUserIDList:".concat(s,", ")+"failureUserIDList:".concat(c,", ")+"existedUserIDList:".concat(u,", ")+"overLimitUserIDList:".concat(l);return a.setNetworkType(t.getNetworkType()).setMoreMessage(f).end(),0===s.length?b_({successUserIDList:s,failureUserIDList:c,existedUserIDList:u,overLimitUserIDList:l}):(o.memberCount+=s.length,t._updateConversationGroupProfile(o),b_({successUserIDList:s,failureUserIDList:c,existedUserIDList:u,overLimitUserIDList:l,group:o}))})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];a.setError(e,r,o).end()})),xl.error("".concat(n," failed. error:"),e),R_(e)}))}},{key:"deleteGroupMember",value:function(e){var t=this,n="".concat(this._className,".deleteGroupMember"),r=e.groupID,o=e.userIDList,i=new vg(mg.DELETE_GROUP_MEMBER),a="groupID:".concat(r," ").concat(o.length>5?"userIDList.length:".concat(o.length):"userIDList:".concat(o));i.setMessage(a),xl.log("".concat(n," groupID:").concat(r," userIDList:"),o);var s=this.getModule(rd).getLocalGroupProfile(r);return Mf(s.type)?R_(new O_({code:eg.CANNOT_KICK_MEMBER_IN_AVCHATROOM,message:tg.CANNOT_KICK_MEMBER_IN_AVCHATROOM})):this.request({protocolName:Nh,requestData:e}).then((function(){return i.setNetworkType(t.getNetworkType()).end(),xl.log("".concat(n," ok")),s.memberCount-=1,t._updateConversationGroupProfile(s),t.deleteLocalGroupMembers(r,o),b_({group:s,userIDList:o})})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];i.setError(e,r,o).end()})),xl.error("".concat(n," failed. error:"),e),R_(e)}))}},{key:"_updateConversationGroupProfile",value:function(e){this.getModule(sd).updateConversationGroupProfile([e])}},{key:"setGroupMemberMuteTime",value:function(e){var t=this,n=e.groupID,r=e.userID,o=e.muteTime,i="".concat(this._className,".setGroupMemberMuteTime");if(r===this.getMyUserID())return R_(new O_({code:eg.CANNOT_MUTE_SELF,message:tg.CANNOT_MUTE_SELF}));xl.log("".concat(i," groupID:").concat(n," userID:").concat(r));var a=new vg(mg.SET_GROUP_MEMBER_MUTE_TIME);return a.setMessage("groupID:".concat(n," userID:").concat(r," muteTime:").concat(o)),this.modifyGroupMemberInfo({groupID:n,userID:r,muteTime:o}).then((function(e){a.setNetworkType(t.getNetworkType()).end(),xl.log("".concat(i," ok"));var r=t.getModule(rd);return b_({group:r.getLocalGroupProfile(n),member:e})})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];a.setError(e,r,o).end()})),xl.error("".concat(i," failed. error:"),e),R_(e)}))}},{key:"setGroupMemberRole",value:function(e){var t=this,n="".concat(this._className,".setGroupMemberRole"),r=e.groupID,o=e.userID,i=e.role,a=this.getModule(rd).getLocalGroupProfile(r);if(a.selfInfo.role!==ho.GRP_MBR_ROLE_OWNER)return R_({code:eg.NOT_OWNER,message:tg.NOT_OWNER});if([ho.GRP_WORK,ho.GRP_AVCHATROOM].includes(a.type))return R_({code:eg.CANNOT_SET_MEMBER_ROLE_IN_WORK_AND_AVCHATROOM,message:tg.CANNOT_SET_MEMBER_ROLE_IN_WORK_AND_AVCHATROOM});var s=[ho.GRP_MBR_ROLE_ADMIN,ho.GRP_MBR_ROLE_MEMBER];if(Ef({groupID:r})&&s.push(ho.GRP_MBR_ROLE_CUSTOM),s.indexOf(i)<0)return R_({code:eg.INVALID_MEMBER_ROLE,message:tg.INVALID_MEMBER_ROLE});if(o===this.getMyUserID())return R_({code:eg.CANNOT_SET_SELF_MEMBER_ROLE,message:tg.CANNOT_SET_SELF_MEMBER_ROLE});var c=new vg(mg.SET_GROUP_MEMBER_ROLE);return c.setMessage("groupID:".concat(r," userID:").concat(o," role:").concat(i)),xl.log("".concat(n," groupID:").concat(r," userID:").concat(o)),this.modifyGroupMemberInfo({groupID:r,userID:o,role:i}).then((function(e){return c.setNetworkType(t.getNetworkType()).end(),xl.log("".concat(n," ok")),b_({group:a,member:e})})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];c.setError(e,r,o).end()})),xl.error("".concat(n," failed. error:"),e),R_(e)}))}},{key:"setGroupMemberNameCard",value:function(e){var t=this,n="".concat(this._className,".setGroupMemberNameCard"),r=e.groupID,o=e.userID,i=void 0===o?this.getMyUserID():o,a=e.nameCard;xl.log("".concat(n," groupID:").concat(r," userID:").concat(i));var s=new vg(mg.SET_GROUP_MEMBER_NAME_CARD);return s.setMessage("groupID:".concat(r," userID:").concat(i," nameCard:").concat(a)),this.modifyGroupMemberInfo({groupID:r,userID:i,nameCard:a}).then((function(e){xl.log("".concat(n," ok")),s.setNetworkType(t.getNetworkType()).end();var o=t.getModule(rd).getLocalGroupProfile(r);return i===t.getMyUserID()&&o&&o.setSelfNameCard(a),b_({group:o,member:e})})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];s.setError(e,r,o).end()})),xl.error("".concat(n," failed. error:"),e),R_(e)}))}},{key:"setGroupMemberCustomField",value:function(e){var t=this,n="".concat(this._className,".setGroupMemberCustomField"),r=e.groupID,o=e.userID,i=void 0===o?this.getMyUserID():o,a=e.memberCustomField;xl.log("".concat(n," groupID:").concat(r," userID:").concat(i));var s=new vg(mg.SET_GROUP_MEMBER_CUSTOM_FIELD);return s.setMessage("groupID:".concat(r," userID:").concat(i," memberCustomField:").concat(JSON.stringify(a))),this.modifyGroupMemberInfo({groupID:r,userID:i,memberCustomField:a}).then((function(e){s.setNetworkType(t.getNetworkType()).end(),xl.log("".concat(n," ok"));var o=t.getModule(rd).getLocalGroupProfile(r);return b_({group:o,member:e})})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];s.setError(e,r,o).end()})),xl.error("".concat(n," failed. error:"),e),R_(e)}))}},{key:"modifyGroupMemberInfo",value:function(e){var t=this,r=e.groupID,o=e.userID,i=void 0;return If(r)&&(r=Gf(i=r)),this.request({protocolName:kh,requestData:n(n({},e),{},{groupID:r,topicID:i})}).then((function(){if(t.hasLocalGroupMember(r,o)){var n=t.getLocalGroupMemberInfo(r,o);return Zl(e.muteTime)||n.updateMuteUntil(e.muteTime),Zl(e.role)||n.updateRole(e.role),Zl(e.nameCard)||n.updateNameCard(e.nameCard),Zl(e.memberCustomField)||n.updateMemberCustomField(e.memberCustomField),n}return t.getGroupMemberProfile({groupID:r,userIDList:[o]}).then((function(e){return _(e.data.memberList,1)[0]}))}))}},{key:"_getGroupMemberProfileAdvance",value:function(e){return this.request({protocolName:Rh,requestData:n(n({},e),{},{memberInfoFilter:e.memberInfoFilter?e.memberInfoFilter:["Role","JoinTime","NameCard","ShutUpUntil"]})})}},{key:"_updateLocalGroupMemberMap",value:function(e,t){var n=this;return Ql(t)&&0!==t.length?t.map((function(t){return n.hasLocalGroupMember(e,t.userID)?n.getLocalGroupMemberInfo(e,t.userID).updateMember(t):n.setLocalGroupMember(e,new Ty(t)),n.getLocalGroupMemberInfo(e,t.userID)})):[]}},{key:"deleteLocalGroupMembers",value:function(e,t){var n=this.groupMemberListMap.get(e);n&&t.forEach((function(e){n.delete(e)}))}},{key:"getLocalGroupMemberInfo",value:function(e,t){return this.groupMemberListMap.has(e)?this.groupMemberListMap.get(e).get(t):null}},{key:"setLocalGroupMember",value:function(e,t){if(this.groupMemberListMap.has(e))this.groupMemberListMap.get(e).set(t.userID,t);else{var n=(new Map).set(t.userID,t);this.groupMemberListMap.set(e,n)}}},{key:"getLocalGroupMemberList",value:function(e){return this.groupMemberListMap.get(e)}},{key:"hasLocalGroupMember",value:function(e,t){return this.groupMemberListMap.has(e)&&this.groupMemberListMap.get(e).has(t)}},{key:"hasLocalGroupMemberMap",value:function(e){return this.groupMemberListMap.has(e)}},{key:"reset",value:function(){this.groupMemberListMap.clear()}}]),r}(Sd),Cy=["topicID","topicName","avatar","introduction","notification","unreadCount","muteAllMembers","customData","groupAtInfoList","nextMessageSeq","selfInfo"],Ay=function(e){return Zl(e)?{lastTime:0,lastSequence:0,fromAccount:"",payload:null,type:"",onlineOnlyFlag:!1}:e?{lastTime:e.time||0,lastSequence:e.sequence||0,fromAccount:e.from||"",payload:e.payload||null,type:e.type||"",onlineOnlyFlag:e._onlineOnlyFlag||!1}:void 0},wy=function(){function e(t){o(this,e),this.topicID="",this.topicName="",this.avatar="",this.introduction="",this.notification="",this.unreadCount=0,this.muteAllMembers=!1,this.customData="",this.groupAtInfoList=[],this.nextMessageSeq=0,this.lastMessage=Ay(t.lastMessage),this.selfInfo={muteTime:0,readedSequence:0,messageRemindType:""},this._initGroupTopic(t)}return a(e,[{key:"_initGroupTopic",value:function(e){for(var t in e)Cy.indexOf(t)<0||("selfInfo"===t?this.updateSelfInfo(e[t]):this[t]="muteAllMembers"===t?1===e[t]:e[t])}},{key:"updateUnreadCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.unreadCount=e}},{key:"updateNextMessageSeq",value:function(e){this.nextMessageSeq=e}},{key:"updateLastMessage",value:function(e){this.lastMessage=Ay(e)}},{key:"updateGroupAtInfoList",value:function(e){this.groupAtInfoList=JSON.parse(JSON.stringify(e))}},{key:"updateTopic",value:function(e){Zl(e.selfInfo)||this.updateSelfInfo(e.selfInfo),Zl(e.muteAllMembers)||(this.muteAllMembers=1===e.muteAllMembers),cf(this,e,["groupID","lastMessageTime","selfInfo","muteAllMembers"])}},{key:"updateSelfInfo",value:function(e){cf(this.selfInfo,e,[],[""])}}]),e}(),Ry=function(e){c(r,e);var t=m(r);function r(e){var n;return o(this,r),(n=t.call(this,e))._className="TopicModule",n._topicMap=new Map,n._getTopicTimeMap=new Map,n.TOPIC_CACHE_TIME=300,n.TOPIC_LAST_ACTIVE_TIME=3600,n.getInnerEmitterInstance().on(z_,n._onCloudConfigUpdated,g(n)),n}return a(r,[{key:"_onCloudConfigUpdated",value:function(){var e=this.getCloudConfig("topic_cache_time"),t=this.getCloudConfig("topic_last_active_time");Zl(e)||(this.TOPIC_CACHE_TIME=Number(e)),Zl(t)||(this.TOPIC_LAST_ACTIVE_TIME=Number(t))}},{key:"onTopicCreated",value:function(e){var t=e.groupID;this.resetGetTopicTime(t),this.emitOuterEvent(po.TOPIC_CREATED,e)}},{key:"onTopicDeleted",value:function(e){var t=this,n=e.groupID,r=e.topicIDList;(void 0===r?[]:r).forEach((function(e){t._deleteLocalTopic(n,e)})),this.emitOuterEvent(po.TOPIC_DELETED,e)}},{key:"onTopicProfileUpdated",value:function(e){var t=e.groupID,n=e.topicID,r=this.getLocalTopic(t,n);r&&(r.updateTopic(e),this.emitOuterEvent(po.TOPIC_UPDATED,{groupID:t,topic:r}))}},{key:"onConversationProxy",value:function(e){var t=e.topicID,n=e.unreadCount,r=e.groupAtInfoList,o=Gf(t),i=this.getLocalTopic(o,t),a=!1;i&&(Zl(n)||i.unreadCount===n||(i.updateUnreadCount(n),a=!0),Zl(r)||(i.updateGroupAtInfoList(r),a=!0)),a&&this.emitOuterEvent(po.TOPIC_UPDATED,{groupID:o,topic:i})}},{key:"onMessageSent",value:function(e){var t=e.groupID,n=e.topicID,r=e.lastMessage,o=this.getLocalTopic(t,n);o&&(o.nextMessageSeq+=1,o.updateLastMessage(r),this.emitOuterEvent(po.TOPIC_UPDATED,{groupID:t,topic:o}))}},{key:"onMessageModified",value:function(e){var t=e.to,n=e.time,r=e.sequence,o=e.elements,i=e.cloudCustomData,a=e.messageVersion,s=Gf(t),c=this.getLocalTopic(s,t);if(c){var u=c.lastMessage;xl.debug("".concat(this._className,".onMessageModified topicID:").concat(t," lastMessage:"),JSON.stringify(u),"options:",JSON.stringify(e)),u&&(null===u.payload||u.lastTime===n&&u.lastSequence===r&&u.version!==a)&&(u.type=o[0].type,u.payload=o[0].content,u.messageForShow=Uf(u.type,u.payload),u.cloudCustomData=i,u.version=a,u.lastSequence=r,u.lastTime=n,this.emitOuterEvent(po.TOPIC_UPDATED,{groupID:s,topic:c}))}}},{key:"getJoinedCommunityList",value:function(){return this.getModule(rd).getGroupList({isGroupWithTopicOnly:!0}).then((function(e){var t=e.data.groupList;return b_({groupList:void 0===t?[]:t})})).catch((function(e){return R_(e)}))}},{key:"createTopicInCommunity",value:function(e){var t=this,r="".concat(this._className,".createTopicInCommunity"),o=e.topicID;if(!Zl(o)&&!If(o))return R_({code:eg.ILLEGAL_TOPIC_ID,message:tg.ILLEGAL_TOPIC_ID});var i=new vg(mg.CREATE_TOPIC);return this.request({protocolName:Jh,requestData:n({},e)}).then((function(o){var a=o.data.topicID;return i.setMessage("topicID:".concat(a)).setNetworkType(t.getNetworkType()).end(),xl.log("".concat(r," ok")),t._updateTopicMap([n(n({},e),{},{topicID:a})]),b_({topicID:a})})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];i.setError(e,r,o).end()})),xl.error("".concat(r," failed. error:"),e),R_(e)}))}},{key:"deleteTopicFromCommunity",value:function(e){var t=this,n="".concat(this._className,".deleteTopicFromCommunity"),r=e.groupID,o=e.topicIDList,i=void 0===o?[]:o,a=new vg(mg.DELETE_TOPIC);return a.setMessage("groupID:".concat(r," topicIDList:").concat(i)),this.request({protocolName:Xh,requestData:{groupID:r,topicIDList:i}}).then((function(e){var n=e.data.resultList,o=void 0===n?[]:n,i=o.filter((function(e){return 0===e.code})).map((function(e){return{topicID:e.topicID}})),s=o.filter((function(e){return 0!==e.code})),c="success count:".concat(i.length,", fail count:").concat(s.length);return a.setMoreMessage("".concat(c)).setNetworkType(t.getNetworkType()).end(),xl.log("".concat(c)),i.forEach((function(e){t._deleteLocalTopic(r,e.topicID)})),b_({successTopicList:i,failureTopicList:s})})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];a.setError(e,r,o).end()})),xl.error("".concat(n," failed. error:"),e),R_(e)}))}},{key:"updateTopicProfile",value:function(e){var t=this,r="".concat(this._className,".updateTopicProfile"),o=new vg(mg.UPDATE_TOPIC_PROFILE);return o.setMessage("groupID:".concat(e.groupID," topicID:").concat(e.topicID)),xl.log("".concat(r," options:"),e),Zl(e.muteAllMembers)||(e.muteAllMembers=!0===e.muteAllMembers?"On":"Off"),this.request({protocolName:Qh,requestData:n({},e)}).then((function(){return o.setNetworkType(t.getNetworkType()).end(),xl.log("".concat(r," ok")),t._updateTopicMap([e]),b_({topic:t.getLocalTopic(e.groupID,e.topicID)})})).catch((function(e){return t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],i=n[1];o.setError(e,r,i).end()})),xl.error("".concat(r," failed. error:"),e),R_(e)}))}},{key:"getTopicList",value:function(e){var t=this,r="".concat(this._className,".getTopicList"),o=e.groupID,i=e.topicIDList,a=void 0===i?[]:i,s=new vg(mg.GET_TOPIC_LIST);if(s.setMessage("groupID:".concat(o)),this._getTopicTimeMap.has(o)){var c=this._getTopicTimeMap.get(o);if(Date.now()-c<1e3*this.TOPIC_CACHE_TIME){var u=this._getLocalTopicList(o,a);return s.setNetworkType(this.getNetworkType()).setMoreMessage("from cache. topicList:".concat(u.length)).end(),xl.log("".concat(r," groupID:").concat(o," from cache. topicList:").concat(u.length)),w_({successTopicList:u,failureTopicList:[]})}}return this.request({protocolName:Zh,requestData:{groupID:o,topicIDList:a}}).then((function(e){var i=e.data.topicInfoList,c=[],u=[],l=[];(void 0===i?[]:i).forEach((function(e){var t=e.topic,r=e.selfInfo,o=e.code,i=e.message,a=t.topicID;0===o?(c.push(n(n({},t),{},{selfInfo:r})),u.push(a)):l.push({topicID:a,code:o,message:i})})),t._updateTopicMap(c);var f="successTopicList:".concat(u.length," failureTopicList:").concat(l.length);s.setNetworkType(t.getNetworkType()).setMoreMessage("".concat(f)).end(),xl.log("".concat(r," groupID:").concat(o," from remote. ").concat(f)),jf(a)&&!jf(u)&&t._getTopicTimeMap.set(o,Date.now());var p=[];return jf(u)||(p=t._getLocalTopicList(o,u)),b_({successTopicList:p,failureTopicList:l})})).catch((function(e){return t.probeNetwork(e).then((function(t){var n=_(t,2),r=n[0],o=n[1];s.setError(e,r,o).end()})),xl.error("".concat(r," failed. error:"),e),R_(e)}))}},{key:"hasLocalTopic",value:function(e,t){return!!this._topicMap.has(e)&&!!this._topicMap.get(e).has(t)}},{key:"getLocalTopic",value:function(e,t){var n=null;return this._topicMap.has(e)&&(n=this._topicMap.get(e).get(t)),n}},{key:"_getLocalTopicList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this._topicMap.get(e),r=[];return n&&(r=y(n.values())),0===t.length?r:r.filter((function(e){return t.includes(e.topicID)}))}},{key:"_deleteLocalTopic",value:function(e,t){this._topicMap.has(e)&&this._topicMap.get(e).delete(t)}},{key:"_updateTopicMap",value:function(e){var t=this,n=[];e.forEach((function(e){var r=e.groupID,o=e.topicID,i=null;t._topicMap.has(r)||t._topicMap.set(r,new Map),t._topicMap.get(r).has(o)?(i=t._topicMap.get(r).get(o)).updateTopic(e):(i=new wy(e),t._topicMap.get(r).set(o,i));var a=i.nextMessageSeq-i.selfInfo.readedSequence-1;n.push({conversationID:"".concat(ho.CONV_GROUP).concat(o),type:ho.CONV_TOPIC,unreadCount:a>0?a:0})})),n.length>0&&this.getModule(sd).updateTopicConversation(n)}},{key:"resetGetTopicTime",value:function(e){var t=this;Zl(e)?y(this._getTopicTimeMap.keys()).forEach((function(e){t._getTopicTimeMap.set(e,0)})):this._getTopicTimeMap.set(e,0)}},{key:"getTopicListOnReconnected",value:function(){var e=this,t=y(this._topicMap.keys()),n=[];t.forEach((function(t){var r=[];e._getLocalTopicList(t).forEach((function(t){var n=t.lastMessage.lastTime,o=void 0===n?0:n;Date.now()-1e3*o<1e3*e.TOPIC_LAST_ACTIVE_TIME&&r.push(t.topicID)})),r.length>0&&n.push({groupID:t,topicIDList:r})})),xl.log("".concat(this._className,".getTopicListOnReconnected. active community count:").concat(n.length)),this._relayGetTopicList(n)}},{key:"_relayGetTopicList",value:function(e){var t=this;if(0!==e.length){var n=e.shift(),r=n.topicIDList.length>5?"topicIDList.length:".concat(n.topicIDList.length):"topicIDList:".concat(n.topicIDList),o=new vg(mg.RELAY_GET_TOPIC_LIST);o.setMessage(r),xl.log("".concat(this._className,"._relayGetTopicList. ").concat(r)),this.getTopicList(n).then((function(){o.setNetworkType(t.getNetworkType()).end(),t._relayGetTopicList(e)})).catch((function(n){t.probeNetwork().then((function(e){var t=_(e,2),r=t[0],i=t[1];o.setError(n,r,i).end()})),t._relayGetTopicList(e)}))}}},{key:"reset",value:function(){xl.log("".concat(this._className,".reset")),this._topicMap.clear(),this._getTopicTimeMap.clear(),this.TOPIC_CACHE_TIME=300,this.TOPIC_LAST_ACTIVE_TIME=3600}}]),r}(Sd),Dy=function(){function e(t){o(this,e),this._userModule=t,this._className="ProfileHandler",this.TAG="profile",this.accountProfileMap=new Map,this.expirationTime=864e5}return a(e,[{key:"setExpirationTime",value:function(e){this.expirationTime=e}},{key:"getUserProfile",value:function(e){var t=this,n=e.userIDList;e.fromAccount=this._userModule.getMyAccount(),n.length>100&&(xl.warn("".concat(this._className,".getUserProfile 获取用户资料人数不能超过100人")),n.length=100);for(var r,o=[],i=[],a=0,s=n.length;a<s;a++)r=n[a],this._userModule.isMyFriend(r)&&this._containsAccount(r)?i.push(this._getProfileFromMap(r)):o.push(r);if(0===o.length)return w_(i);e.toAccount=o;var c=e.bFromGetMyProfile||!1,u=[];e.toAccount.forEach((function(e){u.push({toAccount:e,standardSequence:0,customSequence:0})})),e.userItem=u;var l=new vg(mg.GET_USER_PROFILE);return l.setMessage(n.length>5?"userIDList.length:".concat(n.length):"userIDList:".concat(n)),this._userModule.request({protocolName:kd,requestData:e}).then((function(e){l.setNetworkType(t._userModule.getNetworkType()).end(),xl.info("".concat(t._className,".getUserProfile ok"));var n=t._handleResponse(e).concat(i);return b_(c?n[0]:n)})).catch((function(e){return t._userModule.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];l.setError(e,r,o).end()})),xl.error("".concat(t._className,".getUserProfile failed. error:"),e),R_(e)}))}},{key:"getMyProfile",value:function(){var e=this._userModule.getMyAccount();if(xl.log("".concat(this._className,".getMyProfile myAccount:").concat(e)),this._fillMap(),this._containsAccount(e)){var t=this._getProfileFromMap(e);return xl.debug("".concat(this._className,".getMyProfile from cache, myProfile:")+JSON.stringify(t)),w_(t)}return this.getUserProfile({fromAccount:e,userIDList:[e],bFromGetMyProfile:!0})}},{key:"_handleResponse",value:function(e){for(var t,n,r=sf.now(),o=e.data.userProfileItem,i=[],a=0,s=o.length;a<s;a++)"@TLS#NOT_FOUND"!==o[a].to&&""!==o[a].to&&(t=o[a].to,n=this._updateMap(t,this._getLatestProfileFromResponse(t,o[a].profileItem)),i.push(n));return xl.log("".concat(this._className,"._handleResponse cost ").concat(sf.now()-r," ms")),i}},{key:"_getLatestProfileFromResponse",value:function(e,t){var n={};if(n.userID=e,n.profileCustomField=[],!jf(t))for(var r=0,o=t.length;r<o;r++)if(t[r].tag.indexOf("Tag_Profile_Custom")>-1)n.profileCustomField.push({key:t[r].tag,value:t[r].value});else switch(t[r].tag){case Ul.NICK:n.nick=t[r].value;break;case Ul.GENDER:n.gender=t[r].value;break;case Ul.BIRTHDAY:n.birthday=t[r].value;break;case Ul.LOCATION:n.location=t[r].value;break;case Ul.SELFSIGNATURE:n.selfSignature=t[r].value;break;case Ul.ALLOWTYPE:n.allowType=t[r].value;break;case Ul.LANGUAGE:n.language=t[r].value;break;case Ul.AVATAR:n.avatar=t[r].value;break;case Ul.MESSAGESETTINGS:n.messageSettings=t[r].value;break;case Ul.ADMINFORBIDTYPE:n.adminForbidType=t[r].value;break;case Ul.LEVEL:n.level=t[r].value;break;case Ul.ROLE:n.role=t[r].value;break;default:xl.warn("".concat(this._className,"._handleResponse unknown tag:"),t[r].tag,t[r].value)}return n}},{key:"updateMyProfile",value:function(e){var t=this,n="".concat(this._className,".updateMyProfile"),r=new vg(mg.UPDATE_MY_PROFILE);r.setMessage(JSON.stringify(e));var o=(new ry).validate(e);if(!o.valid)return r.setCode(eg.UPDATE_PROFILE_INVALID_PARAM).setMoreMessage("".concat(n," info:").concat(o.tips)).setNetworkType(this._userModule.getNetworkType()).end(),xl.error("".concat(n," info:").concat(o.tips,"，请参考 https://web.sdk.qcloud.com/im/doc/zh-cn/SDK.html#updateMyProfile")),R_({code:eg.UPDATE_PROFILE_INVALID_PARAM,message:tg.UPDATE_PROFILE_INVALID_PARAM});var i=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&("profileCustomField"===a?e.profileCustomField.forEach((function(e){i.push({tag:e.key,value:e.value})})):i.push({tag:Ul[a.toUpperCase()],value:e[a]}));return 0===i.length?(r.setCode(eg.UPDATE_PROFILE_NO_KEY).setMoreMessage(tg.UPDATE_PROFILE_NO_KEY).setNetworkType(this._userModule.getNetworkType()).end(),xl.error("".concat(n," info:").concat(tg.UPDATE_PROFILE_NO_KEY,"，请参考 https://web.sdk.qcloud.com/im/doc/zh-cn/SDK.html#updateMyProfile")),R_({code:eg.UPDATE_PROFILE_NO_KEY,message:tg.UPDATE_PROFILE_NO_KEY})):this._userModule.request({protocolName:Ld,requestData:{fromAccount:this._userModule.getMyAccount(),profileItem:i}}).then((function(o){r.setNetworkType(t._userModule.getNetworkType()).end(),xl.info("".concat(n," ok"));var i=t._updateMap(t._userModule.getMyAccount(),e);return t._userModule.emitOuterEvent(po.PROFILE_UPDATED,[i]),w_(i)})).catch((function(e){return t._userModule.probeNetwork().then((function(t){var n=_(t,2),o=n[0],i=n[1];r.setError(e,o,i).end()})),xl.error("".concat(n," failed. error:"),e),R_(e)}))}},{key:"onProfileModified",value:function(e){var t=e.dataList;if(!jf(t)){var n,r,o=t.length;xl.debug("".concat(this._className,".onProfileModified count:").concat(o," dataList:"),e.dataList);for(var i=[],a=0;a<o;a++)n=t[a].userID,r=this._updateMap(n,this._getLatestProfileFromResponse(n,t[a].profileList)),i.push(r);i.length>0&&(this._userModule.emitInnerEvent(Y_,i),this._userModule.emitOuterEvent(po.PROFILE_UPDATED,i))}}},{key:"_fillMap",value:function(){if(0===this.accountProfileMap.size){for(var e=this._getCachedProfiles(),t=Date.now(),n=0,r=e.length;n<r;n++)t-e[n].lastUpdatedTime<this.expirationTime&&this.accountProfileMap.set(e[n].userID,e[n]);xl.log("".concat(this._className,"._fillMap from cache, map.size:").concat(this.accountProfileMap.size))}}},{key:"_updateMap",value:function(e,t){var n,r=Date.now();return this._containsAccount(e)?(n=this._getProfileFromMap(e),t.profileCustomField&&yf(n.profileCustomField,t.profileCustomField),cf(n,t,["profileCustomField"]),n.lastUpdatedTime=r):(n=new ry(t),(this._userModule.isMyFriend(e)||e===this._userModule.getMyAccount())&&(n.lastUpdatedTime=r,this.accountProfileMap.set(e,n))),this._flushMap(e===this._userModule.getMyAccount()),n}},{key:"_flushMap",value:function(e){var t=y(this.accountProfileMap.values()),n=this._userModule.getStorageModule();xl.debug("".concat(this._className,"._flushMap length:").concat(t.length," flushAtOnce:").concat(e)),n.setItem(this.TAG,t,e)}},{key:"_containsAccount",value:function(e){return this.accountProfileMap.has(e)}},{key:"_getProfileFromMap",value:function(e){return this.accountProfileMap.get(e)}},{key:"_getCachedProfiles",value:function(){var e=this._userModule.getStorageModule().getItem(this.TAG);return jf(e)?[]:e}},{key:"onConversationsProfileUpdated",value:function(e){for(var t,n,r,o=[],i=0,a=e.length;i<a;i++)n=(t=e[i]).userID,this._userModule.isMyFriend(n)||(this._containsAccount(n)?(r=this._getProfileFromMap(n),cf(r,t)>0&&o.push(n)):o.push(t.userID));0!==o.length&&(xl.info("".concat(this._className,".onConversationsProfileUpdated toAccountList:").concat(o)),this.getUserProfile({userIDList:o}))}},{key:"getNickAndAvatarByUserID",value:function(e){if(this._containsAccount(e)){var t=this._getProfileFromMap(e);return{nick:t.nick,avatar:t.avatar}}return{nick:"",avatar:""}}},{key:"reset",value:function(){this._flushMap(!0),this.accountProfileMap.clear()}}]),e}(),Ny=a((function e(t){o(this,e),jf||(this.userID=t.userID||"",this.timeStamp=t.timeStamp||0)})),ky=function(){function e(t){o(this,e),this._userModule=t,this._className="BlacklistHandler",this._blacklistMap=new Map,this.startIndex=0,this.maxLimited=100,this.currentSequence=0}return a(e,[{key:"getLocalBlacklist",value:function(){return y(this._blacklistMap.keys())}},{key:"getBlacklist",value:function(){var e=this,t="".concat(this._className,".getBlacklist"),n={fromAccount:this._userModule.getMyAccount(),maxLimited:this.maxLimited,startIndex:0,lastSequence:this.currentSequence},r=new vg(mg.GET_BLACKLIST);return this._userModule.request({protocolName:Pd,requestData:n}).then((function(n){var o=n.data,i=o.blackListItem,a=o.currentSequence,s=jf(i)?0:i.length;r.setNetworkType(e._userModule.getNetworkType()).setMessage("blackList count:".concat(s)).end(),xl.info("".concat(t," ok")),e.currentSequence=a,e._handleResponse(i,!0),e._userModule.emitOuterEvent(po.BLACKLIST_UPDATED,y(e._blacklistMap.keys()))})).catch((function(n){return e._userModule.probeNetwork().then((function(e){var t=_(e,2),o=t[0],i=t[1];r.setError(n,o,i).end()})),xl.error("".concat(t," failed. error:"),n),R_(n)}))}},{key:"addBlacklist",value:function(e){var t=this,n="".concat(this._className,".addBlacklist"),r=new vg(mg.ADD_TO_BLACKLIST);if(!Ql(e.userIDList))return r.setCode(eg.ADD_BLACKLIST_INVALID_PARAM).setMessage(tg.ADD_BLACKLIST_INVALID_PARAM).setNetworkType(this._userModule.getNetworkType()).end(),xl.error("".concat(n," options.userIDList 必需是数组")),R_({code:eg.ADD_BLACKLIST_INVALID_PARAM,message:tg.ADD_BLACKLIST_INVALID_PARAM});var o=this._userModule.getMyAccount();return 1===e.userIDList.length&&e.userIDList[0]===o?(r.setCode(eg.CANNOT_ADD_SELF_TO_BLACKLIST).setMessage(tg.CANNOT_ADD_SELF_TO_BLACKLIST).setNetworkType(this._userModule.getNetworkType()).end(),xl.error("".concat(n," 不能把自己拉黑")),R_({code:eg.CANNOT_ADD_SELF_TO_BLACKLIST,message:tg.CANNOT_ADD_SELF_TO_BLACKLIST})):(e.userIDList.includes(o)&&(e.userIDList=e.userIDList.filter((function(e){return e!==o})),xl.warn("".concat(n," 不能把自己拉黑，已过滤"))),e.fromAccount=this._userModule.getMyAccount(),e.toAccount=e.userIDList,this._userModule.request({protocolName:xd,requestData:e}).then((function(o){return r.setNetworkType(t._userModule.getNetworkType()).setMessage(e.userIDList.length>5?"userIDList.length:".concat(e.userIDList.length):"userIDList:".concat(e.userIDList)).end(),xl.info("".concat(n," ok")),t._handleResponse(o.resultItem,!0),b_(y(t._blacklistMap.keys()))})).catch((function(e){return t._userModule.probeNetwork().then((function(t){var n=_(t,2),o=n[0],i=n[1];r.setError(e,o,i).end()})),xl.error("".concat(n," failed. error:"),e),R_(e)})))}},{key:"_handleResponse",value:function(e,t){if(!jf(e))for(var n,r,o,i=0,a=e.length;i<a;i++)r=e[i].to,o=e[i].resultCode,(Zl(o)||0===o)&&(t?((n=this._blacklistMap.has(r)?this._blacklistMap.get(r):new Ny).userID=r,!jf(e[i].addBlackTimeStamp)&&(n.timeStamp=e[i].addBlackTimeStamp),this._blacklistMap.set(r,n)):this._blacklistMap.has(r)&&(n=this._blacklistMap.get(r),this._blacklistMap.delete(r)));xl.log("".concat(this._className,"._handleResponse total:").concat(this._blacklistMap.size," bAdd:").concat(t))}},{key:"deleteBlacklist",value:function(e){var t=this,n="".concat(this._className,".deleteBlacklist"),r=new vg(mg.REMOVE_FROM_BLACKLIST);return Ql(e.userIDList)?(e.fromAccount=this._userModule.getMyAccount(),e.toAccount=e.userIDList,this._userModule.request({protocolName:Gd,requestData:e}).then((function(o){return r.setNetworkType(t._userModule.getNetworkType()).setMessage(e.userIDList.length>5?"userIDList.length:".concat(e.userIDList.length):"userIDList:".concat(e.userIDList)).end(),xl.info("".concat(n," ok")),t._handleResponse(o.data.resultItem,!1),b_(y(t._blacklistMap.keys()))})).catch((function(e){return t._userModule.probeNetwork().then((function(t){var n=_(t,2),o=n[0],i=n[1];r.setError(e,o,i).end()})),xl.error("".concat(n," failed. error:"),e),R_(e)}))):(r.setCode(eg.DEL_BLACKLIST_INVALID_PARAM).setMessage(tg.DEL_BLACKLIST_INVALID_PARAM).setNetworkType(this._userModule.getNetworkType()).end(),xl.error("".concat(n," options.userIDList 必需是数组")),R_({code:eg.DEL_BLACKLIST_INVALID_PARAM,message:tg.DEL_BLACKLIST_INVALID_PARAM}))}},{key:"onAccountDeleted",value:function(e){for(var t,n=[],r=0,o=e.length;r<o;r++)t=e[r],this._blacklistMap.has(t)&&(this._blacklistMap.delete(t),n.push(t));n.length>0&&(xl.log("".concat(this._className,".onAccountDeleted count:").concat(n.length," userIDList:"),n),this._userModule.emitOuterEvent(po.BLACKLIST_UPDATED,y(this._blacklistMap.keys())))}},{key:"onAccountAdded",value:function(e){for(var t,n=[],r=0,o=e.length;r<o;r++)t=e[r],this._blacklistMap.has(t)||(this._blacklistMap.set(t,new Ny({userID:t})),n.push(t));n.length>0&&(xl.log("".concat(this._className,".onAccountAdded count:").concat(n.length," userIDList:"),n),this._userModule.emitOuterEvent(po.BLACKLIST_UPDATED,y(this._blacklistMap.keys())))}},{key:"reset",value:function(){this._blacklistMap.clear(),this.startIndex=0,this.maxLimited=100,this.currentSequence=0}}]),e}(),Ly=function(e){c(n,e);var t=m(n);function n(e){var r;return o(this,n),(r=t.call(this,e))._className="UserModule",r._profileHandler=new Dy(g(r)),r._blacklistHandler=new ky(g(r)),r.getInnerEmitterInstance().on(W_,r.onContextUpdated,g(r)),r}return a(n,[{key:"onContextUpdated",value:function(e){this._profileHandler.getMyProfile(),this._blacklistHandler.getBlacklist()}},{key:"onProfileModified",value:function(e){this._profileHandler.onProfileModified(e)}},{key:"onRelationChainModified",value:function(e){var t=e.dataList;if(!jf(t)){var n=[];t.forEach((function(e){e.blackListDelAccount&&n.push.apply(n,y(e.blackListDelAccount))})),n.length>0&&this._blacklistHandler.onAccountDeleted(n);var r=[];t.forEach((function(e){e.blackListAddAccount&&r.push.apply(r,y(e.blackListAddAccount))})),r.length>0&&this._blacklistHandler.onAccountAdded(r)}}},{key:"onConversationsProfileUpdated",value:function(e){this._profileHandler.onConversationsProfileUpdated(e)}},{key:"getMyAccount",value:function(){return this.getMyUserID()}},{key:"getMyProfile",value:function(){return this._profileHandler.getMyProfile()}},{key:"getStorageModule",value:function(){return this.getModule(ud)}},{key:"isMyFriend",value:function(e){var t=this.getModule(od);return!!t&&t.isMyFriend(e)}},{key:"getUserProfile",value:function(e){return this._profileHandler.getUserProfile(e)}},{key:"updateMyProfile",value:function(e){return this._profileHandler.updateMyProfile(e)}},{key:"getNickAndAvatarByUserID",value:function(e){return this._profileHandler.getNickAndAvatarByUserID(e)}},{key:"getLocalBlacklist",value:function(){var e=this._blacklistHandler.getLocalBlacklist();return w_(e)}},{key:"addBlacklist",value:function(e){return this._blacklistHandler.addBlacklist(e)}},{key:"deleteBlacklist",value:function(e){return this._blacklistHandler.deleteBlacklist(e)}},{key:"reset",value:function(){xl.log("".concat(this._className,".reset")),this._profileHandler.reset(),this._blacklistHandler.reset()}}]),n}(Sd),Py=function(){function e(t,n){o(this,e),this._moduleManager=t,this._isLoggedIn=!1,this._SDKAppID=n.SDKAppID,this._userID=n.userID||"",this._userSig=n.userSig||"",this._version="2.20.0",this._a2Key="",this._tinyID="",this._contentType="json",this._unlimitedAVChatRoom=n.unlimitedAVChatRoom,this._scene=n.scene||"",this._oversea=n.oversea,this._instanceID=n.instanceID,this._statusInstanceID=0,this._isDevMode=n.devMode,this._proxyServer=n.proxyServer}return a(e,[{key:"isLoggedIn",value:function(){return this._isLoggedIn}},{key:"isOversea",value:function(){return this._oversea}},{key:"isDevMode",value:function(){return this._isDevMode}},{key:"isSingaporeSite",value:function(){return this._SDKAppID>=2e7&&this._SDKAppID<3e7}},{key:"isKoreaSite",value:function(){return this._SDKAppID>=3e7&&this._SDKAppID<4e7}},{key:"isGermanySite",value:function(){return this._SDKAppID>=4e7&&this._SDKAppID<5e7}},{key:"isIndiaSite",value:function(){return this._SDKAppID>=5e7&&this._SDKAppID<6e7}},{key:"isUnlimitedAVChatRoom",value:function(){return this._unlimitedAVChatRoom}},{key:"getUserID",value:function(){return this._userID}},{key:"setUserID",value:function(e){this._userID=e}},{key:"setUserSig",value:function(e){this._userSig=e}},{key:"getUserSig",value:function(){return this._userSig}},{key:"getSDKAppID",value:function(){return this._SDKAppID}},{key:"getTinyID",value:function(){return this._tinyID}},{key:"setTinyID",value:function(e){this._tinyID=e,this._isLoggedIn=!0}},{key:"getScene",value:function(){return this._isTUIKit()?"tuikit":this._scene}},{key:"getInstanceID",value:function(){return this._instanceID}},{key:"getStatusInstanceID",value:function(){return this._statusInstanceID}},{key:"setStatusInstanceID",value:function(e){this._statusInstanceID=e}},{key:"getVersion",value:function(){return this._version}},{key:"getA2Key",value:function(){return this._a2Key}},{key:"setA2Key",value:function(e){this._a2Key=e}},{key:"getContentType",value:function(){return this._contentType}},{key:"getProxyServer",value:function(){return this._proxyServer}},{key:"_isTUIKit",value:function(){var e=!1,t=!1,n=!1,r=!1,o=[];Hu&&(o=Object.keys(Wu)),Ku&&(o=$u?Object.keys(uni):Object.keys(window));for(var i=0,a=o.length;i<a;i++)if(o[i].toLowerCase().includes("uikit")){e=!0;break}if(o=null,Hu&&tf(getApp)){var s=getApp().globalData;Xl(s)&&!0===s.isTUIKit&&(t=!0)}!0===this._moduleManager.getModule(ud).getStorageSync("TIM_".concat(this._SDKAppID,"_isTUIKit"))&&(n=!0);var c=null;if(Uu&&"undefined"==typeof uni&&__wxConfig&&(c=__wxConfig.pages),Fu&&"undefined"==typeof uni&&__qqConfig&&(c=__qqConfig.pages),Ql(c)&&c.length>0){for(var u=0,l=c.length;u<l;u++)if(c[u].toLowerCase().includes("tui")){r=!0;break}c=null}return e||t||n||r}},{key:"reset",value:function(){this._isLoggedIn=!1,this._userSig="",this._a2Key="",this._tinyID="",this._statusInstanceID=0}}]),e}(),xy=function(e){c(n,e);var t=m(n);function n(e){var r;return o(this,n),(r=t.call(this,e))._className="SignModule",r._helloInterval=120,r._lastLoginTs=0,r._lastWsHelloTs=0,J_.mixin(g(r)),r}return a(n,[{key:"onCheckTimer",value:function(e){this.isLoggedIn()&&e%this._helloInterval==0&&this._hello()}},{key:"login",value:function(e){if(this.isLoggedIn()){var t="您已经登录账号".concat(e.userID,"！如需切换账号登录，请先调用 logout 接口登出，再调用 login 接口登录。");return xl.warn(t),w_({actionStatus:"OK",errorCode:0,errorInfo:t,repeatLogin:!0})}if(Date.now()-this._lastLoginTs<=15e3)return xl.warn("您正在尝试登录账号".concat(e.userID,"！请勿重复登录。")),R_({code:eg.REPEAT_LOGIN,message:tg.REPEAT_LOGIN});xl.log("".concat(this._className,".login userID:").concat(e.userID));var n=this._checkLoginInfo(e);if(0!==n.code)return R_(n);var r=this.getModule(cd),o=e.userID,i=e.userSig;return r.setUserID(o),r.setUserSig(i),this.getModule(vd).updateProtocolConfig(),this._login()}},{key:"_login",value:function(){var e=this,t=this.getModule(cd),n=t.getScene(),r=new vg(mg.LOGIN);return r.setMessage("".concat(n)).setMoreMessage("identifier:".concat(this.getMyUserID())),$u?"tuikit"===n?r.setUIPlatform(4):r.setUIPlatform(3):Hu?"tuikit"===n?r.setUIPlatform(12):r.setUIPlatform(11):Ku&&(pl?"tuikit"===n?r.setUIPlatform(17):r.setUIPlatform(16):"tuikit"===n?r.setUIPlatform(14):r.setUIPlatform(13)),this._lastLoginTs=Date.now(),this.request({protocolName:Td}).then((function(o){e._lastLoginTs=0;var i=Date.now(),a=null,s=o.data,c=s.a2Key,u=s.tinyID,l=s.helloInterval,f=s.instanceID,p=s.timeStamp;xl.log("".concat(e._className,".login ok. scene:").concat(n," helloInterval:").concat(l," instanceID:").concat(f," timeStamp:").concat(p));var d=1e3*p,h=i-r.getStartTs(),g=d+parseInt(h/2)-i,v=r.getStartTs()+g;if(r.start(v),function(e,t){wl=t;var n=new Date;n.setTime(e),xl.info("baseTime from server: ".concat(n," offset: ").concat(wl))}(d,g),!u)throw a=new O_({code:eg.NO_TINYID,message:tg.NO_TINYID}),r.setError(a,!0,e.getNetworkType()).end(),a;if(!c)throw a=new O_({code:eg.NO_A2KEY,message:tg.NO_A2KEY}),r.setError(a,!0,e.getNetworkType()).end(),a;return r.setNetworkType(e.getNetworkType()).setMoreMessage("helloInterval:".concat(l," instanceID:").concat(f," offset:").concat(g)).end(),t.setA2Key(c),t.setTinyID(u),t.setStatusInstanceID(f),e.getModule(vd).updateProtocolConfig(),e.emitInnerEvent(W_),e._helloInterval=l,e.triggerReady(),e._fetchCloudControlConfig(),o})).catch((function(t){return e.probeNetwork().then((function(e){var n=_(e,2),o=n[0],i=n[1];r.setError(t,o,i).end(!0)})),e._moduleManager.setNotReadyReason(eg.LOGIN_FAILED),xl.error("".concat(e._className,".login failed. error:"),t),e._lastLoginTs=0,e._moduleManager.onLoginFailed(),R_(t)}))}},{key:"logout",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!this.isLoggedIn())return R_({code:eg.USER_NOT_LOGGED_IN,message:tg.USER_NOT_LOGGED_IN});var n=new vg(mg.LOGOUT);return n.setNetworkType(this.getNetworkType()).setMessage("identifier:".concat(this.getMyUserID())).end(!0),xl.info("".concat(this._className,".logout type:").concat(t)),0===t&&this._moduleManager.setNotReadyReason(eg.LOGGED_OUT),this.request({protocolName:Od,requestData:{type:t}}).then((function(){return e.resetReady(),w_({})})).catch((function(t){return xl.error("".concat(e._className,"._logout error:"),t),e.resetReady(),w_({})}))}},{key:"_fetchCloudControlConfig",value:function(){this.getModule(yd).fetchConfig()}},{key:"_hello",value:function(){var e=this;this._lastWsHelloTs=Date.now(),this.request({protocolName:Cd}).catch((function(t){xl.warn("".concat(e._className,"._hello error:"),t)}))}},{key:"getLastWsHelloTs",value:function(){return this._lastWsHelloTs}},{key:"_checkLoginInfo",value:function(e){var t=0,n="";return jf(this.getModule(cd).getSDKAppID())?(t=eg.NO_SDKAPPID,n=tg.NO_SDKAPPID):jf(e.userID)?(t=eg.NO_IDENTIFIER,n=tg.NO_IDENTIFIER):jf(e.userSig)&&(t=eg.NO_USERSIG,n=tg.NO_USERSIG),{code:t,message:n}}},{key:"onMultipleAccountKickedOut",value:function(e){var t=this;new vg(mg.KICKED_OUT).setNetworkType(this.getNetworkType()).setMessage("type:".concat(ho.KICKED_OUT_MULT_ACCOUNT," newInstanceInfo:").concat(JSON.stringify(e))).end(!0),xl.warn("".concat(this._className,".onMultipleAccountKickedOut userID:").concat(this.getMyUserID()," newInstanceInfo:"),e),this.logout(1).then((function(){t.emitOuterEvent(po.KICKED_OUT,{type:ho.KICKED_OUT_MULT_ACCOUNT}),t._moduleManager.setNotReadyReason(eg.KICKED_OUT_MULT_ACCOUNT),t._moduleManager.reset()}))}},{key:"onMultipleDeviceKickedOut",value:function(e){var t=this;new vg(mg.KICKED_OUT).setNetworkType(this.getNetworkType()).setMessage("type:".concat(ho.KICKED_OUT_MULT_DEVICE," newInstanceInfo:").concat(JSON.stringify(e))).end(!0),xl.warn("".concat(this._className,".onMultipleDeviceKickedOut userID:").concat(this.getMyUserID()," newInstanceInfo:"),e),this.logout(1).then((function(){t.emitOuterEvent(po.KICKED_OUT,{type:ho.KICKED_OUT_MULT_DEVICE}),t._moduleManager.setNotReadyReason(eg.KICKED_OUT_MULT_DEVICE),t._moduleManager.reset()}))}},{key:"onUserSigExpired",value:function(){new vg(mg.KICKED_OUT).setNetworkType(this.getNetworkType()).setMessage(ho.KICKED_OUT_USERSIG_EXPIRED).end(!0),xl.warn("".concat(this._className,".onUserSigExpired: userSig 签名过期被踢下线")),0!==this.getModule(cd).getStatusInstanceID()&&(this.emitOuterEvent(po.KICKED_OUT,{type:ho.KICKED_OUT_USERSIG_EXPIRED}),this._moduleManager.setNotReadyReason(eg.KICKED_OUT_USERSIG_EXPIRED),this._moduleManager.reset())}},{key:"onRestApiKickedOut",value:function(e){new vg(mg.KICKED_OUT).setNetworkType(this.getNetworkType()).setMessage("type:".concat(ho.KICKED_OUT_REST_API," newInstanceInfo:").concat(JSON.stringify(e))).end(!0),xl.warn("".concat(this._className,".onRestApiKickedOut userID:").concat(this.getMyUserID()," newInstanceInfo:"),e),0!==this.getModule(cd).getStatusInstanceID()&&(this.emitOuterEvent(po.KICKED_OUT,{type:ho.KICKED_OUT_REST_API}),this._moduleManager.setNotReadyReason(eg.KICKED_OUT_REST_API),this._moduleManager.reset(),this.getModule(md).onRestApiKickedOut())}},{key:"reset",value:function(){xl.log("".concat(this._className,".reset")),this.resetReady(),this._helloInterval=120,this._lastLoginTs=0,this._lastWsHelloTs=0}}]),n}(Sd),Gy=rt.f;function Uy(){return null}rn({target:"Object",stat:!0,forced:Object.defineProperty!==Gy,sham:!k},{defineProperty:Gy});var Fy,jy=function(){function e(t){o(this,e),this._moduleManager=t,this._className="StorageModule",this._storageQueue=new Map,this._errorTolerantHandle()}return a(e,[{key:"_errorTolerantHandle",value:function(){Hu||!Zl(window)&&!Zl(window.localStorage)||(this.getItem=Uy,this.setItem=Uy,this.removeItem=Uy,this.clear=Uy)}},{key:"onCheckTimer",value:function(e){if(e%20==0){if(0===this._storageQueue.size)return;this._doFlush()}}},{key:"_doFlush",value:function(){try{var e,t=T(this._storageQueue);try{for(t.s();!(e=t.n()).done;){var n=_(e.value,2),r=n[0],o=n[1];this._setStorageSync(this._getKey(r),o)}}catch(a){t.e(a)}finally{t.f()}this._storageQueue.clear()}catch(oS){xl.warn("".concat(this._className,"._doFlush error:"),oS)}}},{key:"_getPrefix",value:function(){var e=this._moduleManager.getModule(cd);return"TIM_".concat(e.getSDKAppID(),"_").concat(e.getUserID(),"_")}},{key:"_getKey",value:function(e){return"".concat(this._getPrefix()).concat(e)}},{key:"getItem",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{var n=t?this._getKey(e):e;return this.getStorageSync(n)}catch(oS){return xl.warn("".concat(this._className,".getItem error:"),oS),{}}}},{key:"setItem",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(n){var o=r?this._getKey(e):e;this._setStorageSync(o,t)}else this._storageQueue.set(e,t)}},{key:"clear",value:function(){try{Hu?Wu.clearStorageSync():localStorage&&localStorage.clear()}catch(oS){xl.warn("".concat(this._className,".clear error:"),oS)}}},{key:"removeItem",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{var n=t?this._getKey(e):e;this._removeStorageSync(n)}catch(oS){xl.warn("".concat(this._className,".removeItem error:"),oS)}}},{key:"getSize",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"b";try{var r={size:0,limitSize:5242880,unit:n};if(Object.defineProperty(r,"leftSize",{enumerable:!0,get:function(){return r.limitSize-r.size}}),Hu&&(r.limitSize=1024*Wu.getStorageInfoSync().limitSize),e)r.size=JSON.stringify(this.getItem(e)).length+this._getKey(e).length;else if(Hu){var o=Wu.getStorageInfoSync(),i=o.keys;i.forEach((function(e){r.size+=JSON.stringify(t.getStorageSync(e)).length+t._getKey(e).length}))}else if(localStorage)for(var a in localStorage)localStorage.hasOwnProperty(a)&&(r.size+=localStorage.getItem(a).length+a.length);return this._convertUnit(r)}catch(oS){xl.warn("".concat(this._className," error:"),oS)}}},{key:"_convertUnit",value:function(e){var t={},n=e.unit;for(var r in t.unit=n,e)"number"==typeof e[r]&&("kb"===n.toLowerCase()?t[r]=Math.round(e[r]/1024):"mb"===n.toLowerCase()?t[r]=Math.round(e[r]/1024/1024):t[r]=e[r]);return t}},{key:"_setStorageSync",value:function(e,t){Hu?Bu?my.setStorageSync({key:e,data:t}):Wu.setStorageSync(e,t):localStorage&&localStorage.setItem(e,JSON.stringify(t))}},{key:"getStorageSync",value:function(e){return Hu?Bu?my.getStorageSync({key:e}).data:Wu.getStorageSync(e):localStorage?JSON.parse(localStorage.getItem(e)):{}}},{key:"_removeStorageSync",value:function(e){Hu?Bu?my.removeStorageSync({key:e}):Wu.removeStorageSync(e):localStorage&&localStorage.removeItem(e)}},{key:"reset",value:function(){xl.log("".concat(this._className,".reset")),this._doFlush()}}]),e}(),qy=function(){function e(t){o(this,e),this._className="SSOLogBody",this._report=[]}return a(e,[{key:"pushIn",value:function(e){xl.debug("".concat(this._className,".pushIn"),this._report.length,e),this._report.push(e)}},{key:"backfill",value:function(e){var t;Ql(e)&&0!==e.length&&(xl.debug("".concat(this._className,".backfill"),this._report.length,e.length),(t=this._report).unshift.apply(t,y(e)))}},{key:"getLogsNumInMemory",value:function(){return this._report.length}},{key:"isEmpty",value:function(){return 0===this._report.length}},{key:"_reset",value:function(){this._report.length=0,this._report=[]}},{key:"getLogsInMemory",value:function(){var e=this._report.slice();return this._reset(),e}}]),e}(),By=function(e){var t=e.getModule(cd);return{SDKType:10,SDKAppID:t.getSDKAppID(),SDKVersion:t.getVersion(),tinyID:Number(t.getTinyID()),userID:t.getUserID(),platform:e.getPlatform(),instanceID:t.getInstanceID(),traceID:Rl()}},Vy=function(e){c(r,e);var t=m(r);function r(e){var n;o(this,r),(n=t.call(this,e))._className="EventStatModule",n.TAG="im-ssolog-event",n._reportBody=new qy,n.MIN_THRESHOLD=20,n.MAX_THRESHOLD=100,n.WAITING_TIME=6e4,n.REPORT_LEVEL=[4,5,6],n.REPORT_SDKAPPID_BLACKLIST=[],n.REPORT_TINYID_WHITELIST=[],n._lastReportTime=Date.now();var i=n.getInnerEmitterInstance();return i.on(W_,n._onLoginSuccess,g(n)),i.on(z_,n._onCloudConfigUpdated,g(n)),n}return a(r,[{key:"reportAtOnce",value:function(){xl.debug("".concat(this._className,".reportAtOnce")),this._report()}},{key:"_onLoginSuccess",value:function(){var e=this,t=this.getModule(ud),n=t.getItem(this.TAG,!1);!jf(n)&&tf(n.forEach)&&(xl.log("".concat(this._className,"._onLoginSuccess get ssolog in storage, count:").concat(n.length)),n.forEach((function(t){e._reportBody.pushIn(t)})),t.removeItem(this.TAG,!1))}},{key:"_onCloudConfigUpdated",value:function(){var e=this.getCloudConfig("evt_rpt_threshold"),t=this.getCloudConfig("evt_rpt_waiting"),n=this.getCloudConfig("evt_rpt_level"),r=this.getCloudConfig("evt_rpt_sdkappid_bl"),o=this.getCloudConfig("evt_rpt_tinyid_wl");Zl(e)||(this.MIN_THRESHOLD=Number(e)),Zl(t)||(this.WAITING_TIME=Number(t)),Zl(n)||(this.REPORT_LEVEL=n.split(",").map((function(e){return Number(e)}))),Zl(r)||(this.REPORT_SDKAPPID_BLACKLIST=r.split(",").map((function(e){return Number(e)}))),Zl(o)||(this.REPORT_TINYID_WHITELIST=o.split(","))}},{key:"pushIn",value:function(e){e instanceof vg&&(e.updateTimeStamp(),this._reportBody.pushIn(e),this._reportBody.getLogsNumInMemory()>=this.MIN_THRESHOLD&&this._report())}},{key:"onCheckTimer",value:function(){Date.now()<this._lastReportTime+this.WAITING_TIME||this._reportBody.isEmpty()||this._report()}},{key:"_filterLogs",value:function(e){var t=this,n=this.getModule(cd),r=n.getSDKAppID(),o=n.getTinyID();return Pf(this.REPORT_SDKAPPID_BLACKLIST,r)&&!xf(this.REPORT_TINYID_WHITELIST,o)?[]:e.filter((function(e){return t.REPORT_LEVEL.includes(e.level)}))}},{key:"_report",value:function(){var e=this;if(!this._reportBody.isEmpty()){var t=this._reportBody.getLogsInMemory(),r=this._filterLogs(t);if(0!==r.length){var o={header:By(this),event:r};this.request({protocolName:Gh,requestData:n({},o)}).then((function(){e._lastReportTime=Date.now()})).catch((function(n){xl.warn("".concat(e._className,".report failed. networkType:").concat(e.getNetworkType()," error:"),n),e._reportBody.backfill(t),e._reportBody.getLogsNumInMemory()>e.MAX_THRESHOLD&&e._flushAtOnce()}))}else this._lastReportTime=Date.now()}}},{key:"_flushAtOnce",value:function(){var e=this.getModule(ud),t=e.getItem(this.TAG,!1),n=this._reportBody.getLogsInMemory();if(jf(t))xl.log("".concat(this._className,"._flushAtOnce count:").concat(n.length)),e.setItem(this.TAG,n,!0,!1);else{var r=n.concat(t);r.length>this.MAX_THRESHOLD&&(r=r.slice(0,this.MAX_THRESHOLD)),xl.log("".concat(this._className,"._flushAtOnce count:").concat(r.length)),e.setItem(this.TAG,r,!0,!1)}}},{key:"reset",value:function(){xl.log("".concat(this._className,".reset")),this._lastReportTime=0,this._report(),this.REPORT_SDKAPPID_BLACKLIST=[],this.REPORT_TINYID_WHITELIST=[]}}]),r}(Sd),$y="none",Hy="online",Ky=[eg.OVER_FREQUENCY_LIMIT,eg.OPEN_SERVICE_OVERLOAD_ERROR],Wy=function(){function e(t){o(this,e),this._moduleManager=t,this._networkType="",this._className="NetMonitorModule",this.MAX_WAIT_TIME=3e3,this._mpNetworkStatusCallback=null,this._webOnlineCallback=null,this._webOfflineCallback=null}return a(e,[{key:"start",value:function(){var e=this;Hu?(Wu.getNetworkType({success:function(t){e._networkType=t.networkType,t.networkType===$y?xl.warn("".concat(e._className,".start no network, please check!")):xl.info("".concat(e._className,".start networkType:").concat(t.networkType))}}),this._mpNetworkStatusCallback=this._onNetworkStatusChange.bind(this),Wu.onNetworkStatusChange(this._mpNetworkStatusCallback)):(this._networkType=Hy,this._webOnlineCallback=this._onWebOnline.bind(this),this._webOfflineCallback=this._onWebOffline.bind(this),window&&(window.addEventListener("online",this._webOnlineCallback),window.addEventListener("offline",this._webOfflineCallback)))}},{key:"_onWebOnline",value:function(){this._onNetworkStatusChange({isConnected:!0,networkType:Hy})}},{key:"_onWebOffline",value:function(){this._onNetworkStatusChange({isConnected:!1,networkType:$y})}},{key:"_onNetworkStatusChange",value:function(e){var t=e.isConnected,n=e.networkType,r=!1;t?(xl.info("".concat(this._className,"._onNetworkStatusChange previousNetworkType:").concat(this._networkType," currentNetworkType:").concat(n)),this._networkType!==n&&(r=!0,this._moduleManager.getModule(md).reConnect(!0))):this._networkType!==n&&(r=!0,xl.warn("".concat(this._className,"._onNetworkStatusChange no network, please check!")),this._moduleManager.getModule(md).offline()),r&&(new vg(mg.NETWORK_CHANGE).setMessage("isConnected:".concat(t," previousNetworkType:").concat(this._networkType," networkType:").concat(n)).end(),this._networkType=n)}},{key:"probe",value:function(e){var t=this;return!Zl(e)&&Ky.includes(e.code)?Promise.resolve([!0,this._networkType]):new Promise((function(e,n){if(Hu)Wu.getNetworkType({success:function(n){t._networkType=n.networkType,n.networkType===$y?(xl.warn("".concat(t._className,".probe no network, please check!")),e([!1,n.networkType])):(xl.info("".concat(t._className,".probe networkType:").concat(n.networkType)),e([!0,n.networkType]))}});else if(window&&window.fetch)fetch("".concat(vf(),"//web.sdk.qcloud.com/im/assets/speed.xml?random=").concat(Math.random())).then((function(t){t.ok?e([!0,Hy]):e([!1,$y])})).catch((function(t){e([!1,$y])}));else{var r=new XMLHttpRequest,o=setTimeout((function(){xl.warn("".concat(t._className,".probe fetch timeout. Probably no network, please check!")),r.abort(),t._networkType=$y,e([!1,$y])}),t.MAX_WAIT_TIME);r.onreadystatechange=function(){4===r.readyState&&(clearTimeout(o),200===r.status||304===r.status||514===r.status?(this._networkType=Hy,e([!0,Hy])):(xl.warn("".concat(this.className,".probe fetch status:").concat(r.status,". Probably no network, please check!")),this._networkType=$y,e([!1,$y])))},r.open("GET","".concat(vf(),"//web.sdk.qcloud.com/im/assets/speed.xml?random=").concat(Math.random())),r.send()}}))}},{key:"getNetworkType",value:function(){return this._networkType}},{key:"reset",value:function(){xl.log("".concat(this._className,".reset")),Hu?null!==this._mpNetworkStatusCallback&&(Wu.offNetworkStatusChange&&(Vu||ju?Wu.offNetworkStatusChange(this._mpNetworkStatusCallback):Wu.offNetworkStatusChange()),this._mpNetworkStatusCallback=null):window&&(null!==this._webOnlineCallback&&(window.removeEventListener("online",this._webOnlineCallback),this._webOnlineCallback=null),null!==this._onWebOffline&&(window.removeEventListener("offline",this._webOfflineCallback),this._webOfflineCallback=null))}}]),e}(),zy=C((function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new o(r,i||e,a),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,a=new Array(i);o<i;o++)a[o]=r[o].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,o,i,a){var s=n?n+e:e;if(!this._events[s])return!1;var c,u,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,o),!0;case 5:return l.fn.call(l.context,t,r,o,i),!0;case 6:return l.fn.call(l.context,t,r,o,i,a),!0}for(u=1,c=new Array(f-1);u<f;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var p,d=l.length;for(u=0;u<d;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),f){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,r);break;case 4:l[u].fn.call(l[u].context,t,r,o);break;default:if(!c)for(p=1,c=new Array(f-1);p<f;p++)c[p-1]=arguments[p];l[u].fn.apply(l[u].context,c)}}return!0},s.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,o){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||o&&!s.once||r&&s.context!==r||a(this,i);else{for(var c=0,u=[],l=s.length;c<l;c++)(s[c].fn!==t||o&&!s[c].once||r&&s[c].context!==r)&&u.push(s[c]);u.length?this._events[i]=1===u.length?u[0]:u:a(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})),Yy=function(e){c(n,e);var t=m(n);function n(e){var r;return o(this,n),(r=t.call(this,e))._className="BigDataChannelModule",r.FILETYPE={SOUND:2106,FILE:2107,VIDEO:2113},r._bdh_download_server="grouptalk.c2c.qq.com",r._BDHBizID=10001,r._authKey="",r._expireTime=0,r.getInnerEmitterInstance().on(W_,r._getAuthKey,g(r)),r}return a(n,[{key:"_getAuthKey",value:function(){var e=this;this.request({protocolName:Rd}).then((function(t){t.data.authKey&&(e._authKey=t.data.authKey,e._expireTime=parseInt(t.data.expireTime))}))}},{key:"_isFromOlderVersion",value:function(e){return!(!e.content||2===e.content.downloadFlag)}},{key:"parseElements",value:function(e,t){if(!Ql(e)||!t)return[];for(var n=[],r=null,o=0;o<e.length;o++)r=e[o],this._needParse(r)?n.push(this._parseElement(r,t)):n.push(e[o]);return n}},{key:"_needParse",value:function(e){return!e.cloudCustomData&&!(!this._isFromOlderVersion(e)||e.type!==ho.MSG_AUDIO&&e.type!==ho.MSG_FILE&&e.type!==ho.MSG_VIDEO)}},{key:"_parseElement",value:function(e,t){switch(e.type){case ho.MSG_AUDIO:return this._parseAudioElement(e,t);case ho.MSG_FILE:return this._parseFileElement(e,t);case ho.MSG_VIDEO:return this._parseVideoElement(e,t)}}},{key:"_parseAudioElement",value:function(e,t){return e.content.url=this._genAudioUrl(e.content.uuid,t),e}},{key:"_parseFileElement",value:function(e,t){return e.content.url=this._genFileUrl(e.content.uuid,t,e.content.fileName),e}},{key:"_parseVideoElement",value:function(e,t){return e.content.url=this._genVideoUrl(e.content.uuid,t),e}},{key:"_genAudioUrl",value:function(e,t){if(""===this._authKey)return xl.warn("".concat(this._className,"._genAudioUrl no authKey!")),"";var n=this.getModule(cd).getSDKAppID();return"https://".concat(this._bdh_download_server,"/asn.com/stddownload_common_file?authkey=").concat(this._authKey,"&bid=").concat(this._BDHBizID,"&subbid=").concat(n,"&fileid=").concat(e,"&filetype=").concat(this.FILETYPE.SOUND,"&openid=").concat(t,"&ver=0")}},{key:"_genFileUrl",value:function(e,t,n){if(""===this._authKey)return xl.warn("".concat(this._className,"._genFileUrl no authKey!")),"";n||(n="".concat(Math.floor(1e5*Math.random()),"-").concat(Date.now()));var r=this.getModule(cd).getSDKAppID();return"https://".concat(this._bdh_download_server,"/asn.com/stddownload_common_file?authkey=").concat(this._authKey,"&bid=").concat(this._BDHBizID,"&subbid=").concat(r,"&fileid=").concat(e,"&filetype=").concat(this.FILETYPE.FILE,"&openid=").concat(t,"&ver=0&filename=").concat(encodeURIComponent(n))}},{key:"_genVideoUrl",value:function(e,t){if(""===this._authKey)return xl.warn("".concat(this._className,"._genVideoUrl no authKey!")),"";var n=this.getModule(cd).getSDKAppID();return"https://".concat(this._bdh_download_server,"/asn.com/stddownload_common_file?authkey=").concat(this._authKey,"&bid=").concat(this._BDHBizID,"&subbid=").concat(n,"&fileid=").concat(e,"&filetype=").concat(this.FILETYPE.VIDEO,"&openid=").concat(t,"&ver=0")}},{key:"reset",value:function(){xl.log("".concat(this._className,".reset")),this._authKey="",this.expireTime=0}}]),n}(Sd),Jy=["requestSnapshotUrl"],Xy=function(e){c(r,e);var t=m(r);function r(e){var n;return o(this,r),(n=t.call(this,e))._className="UploadModule",n.TIMUploadPlugin=null,n.timUploadPlugin=null,n.COSSDK=null,n._cosUploadMethod=null,n.expiredTimeLimit=600,n.appid=0,n.bucketName="",n.ciUrl="",n.directory="",n.downloadUrl="",n.uploadUrl="",n.region="ap-shanghai",n.cos=null,n.cosOptions={secretId:"",secretKey:"",sessionToken:"",expiredTime:0},n.uploadFileType="",n.duration=900,n.tryCount=0,n.getInnerEmitterInstance().on(W_,n._init,g(n)),n}return a(r,[{key:"_init",value:function(){var e="".concat(this._className,"._init"),t=this.getModule(hd);if(this.TIMUploadPlugin=t.getPlugin("tim-upload-plugin"),this.TIMUploadPlugin)this._initUploaderMethod();else{var n=Hu?"cos-wx-sdk":"cos-js-sdk";this.COSSDK=t.getPlugin(n),this.COSSDK?(this._getAuthorizationKey(),xl.warn("".concat(e," v2.9.2起推荐使用 tim-upload-plugin 代替 ").concat(n,"，上传更快更安全。详细请参考 https://web.sdk.qcloud.com/im/doc/zh-cn/SDK.html#registerPlugin"))):xl.warn("".concat(e," 没有检测到上传插件，将无法发送图片、音频、视频、文件等类型的消息。详细请参考 https://web.sdk.qcloud.com/im/doc/zh-cn/SDK.html#registerPlugin"))}}},{key:"_getAuthorizationKey",value:function(){var e=this,t=new vg(mg.GET_COS_AUTH_KEY),n=Math.ceil(Date.now()/1e3);this.request({protocolName:Lh,requestData:{duration:this.expiredTimeLimit}}).then((function(r){var o=r.data;xl.log("".concat(e._className,"._getAuthorizationKey ok. data:"),o);var i=o.expiredTime-n;t.setMessage("requestId:".concat(o.requestId," requestTime:").concat(n," expiredTime:").concat(o.expiredTime," diff:").concat(i,"s")).setNetworkType(e.getNetworkType()).end(),!Hu&&o.region&&(e.region=o.region),e.appid=o.appid,e.bucketName=o.bucketName,e.ciUrl=o.ciUrl,e.directory=o.directory,e.downloadUrl=o.downloadUrl,e.uploadUrl=o.uploadUrl,e.cosOptions={secretId:o.secretId,secretKey:o.secretKey,sessionToken:o.sessionToken,expiredTime:o.expiredTime},xl.log("".concat(e._className,"._getAuthorizationKey ok. region:").concat(e.region," bucketName:").concat(e.bucketName)),e._initUploaderMethod()})).catch((function(n){e.probeNetwork().then((function(e){var r=_(e,2),o=r[0],i=r[1];t.setError(n,o,i).end()})),xl.warn("".concat(e._className,"._getAuthorizationKey failed. error:"),n)}))}},{key:"_getCosPreSigUrl",value:function(e){var t=this,n="".concat(this._className,"._getCosPreSigUrl"),r=Math.ceil(Date.now()/1e3),o=new vg(mg.GET_COS_PRE_SIG_URL);return this.request({protocolName:Ph,requestData:{fileType:e.fileType,fileName:e.fileName,uploadMethod:e.uploadMethod,duration:e.duration}}).then((function(e){t.tryCount=0;var i=e.data||{},a=i.expiredTime-r;return xl.log("".concat(n," ok. data:"),i),o.setMessage("requestId:".concat(i.requestId," expiredTime:").concat(i.expiredTime," diff:").concat(a,"s")).setNetworkType(t.getNetworkType()).end(),i})).catch((function(r){return-1===r.code&&(r.code=eg.COS_GET_SIG_FAIL),t.probeNetwork().then((function(e){var t=_(e,2),n=t[0],i=t[1];o.setError(r,n,i).end()})),xl.warn("".concat(n," failed. error:"),r),t.tryCount<1?(t.tryCount++,t._getCosPreSigUrl(e)):(t.tryCount=0,R_({code:eg.COS_GET_SIG_FAIL,message:tg.COS_GET_SIG_FAIL}))}))}},{key:"_initUploaderMethod",value:function(){var e=this;if(this.TIMUploadPlugin)return this.timUploadPlugin=new this.TIMUploadPlugin,void(this._cosUploadMethod=function(t,n){e.timUploadPlugin.uploadFile(t,n)});this.appid&&(this.cos=Hu?new this.COSSDK({ForcePathStyle:!0,getAuthorization:this._getAuthorization.bind(this)}):new this.COSSDK({getAuthorization:this._getAuthorization.bind(this)}),this._cosUploadMethod=Hu?function(t,n){e.cos.postObject(t,n)}:function(t,n){e.cos.uploadFiles(t,n)})}},{key:"onCheckTimer",value:function(e){this.COSSDK&&(this.TIMUploadPlugin||this.isLoggedIn()&&e%60==0&&Math.ceil(Date.now()/1e3)>=this.cosOptions.expiredTime-120&&this._getAuthorizationKey())}},{key:"_getAuthorization",value:function(e,t){t({TmpSecretId:this.cosOptions.secretId,TmpSecretKey:this.cosOptions.secretKey,XCosSecurityToken:this.cosOptions.sessionToken,ExpiredTime:this.cosOptions.expiredTime})}},{key:"upload",value:function(e){if(!0===e.getRelayFlag())return Promise.resolve();var t=this.getModule(Ed);switch(e.type){case ho.MSG_IMAGE:return t.addTotalCount(cg),this._uploadImage(e);case ho.MSG_FILE:return t.addTotalCount(cg),this._uploadFile(e);case ho.MSG_AUDIO:return t.addTotalCount(cg),this._uploadAudio(e);case ho.MSG_VIDEO:return t.addTotalCount(cg),this._uploadVideo(e);default:return Promise.resolve()}}},{key:"_uploadImage",value:function(e){var t=this.getModule(ed),r=e.getElements()[0],o=t.getMessageOption(e.clientSequence);return this.doUploadImage({file:o.payload.file,to:o.to,onProgress:function(e){if(r.updatePercent(e),tf(o.onProgress))try{o.onProgress(e)}catch(n){return R_({code:eg.MESSAGE_ONPROGRESS_FUNCTION_ERROR,message:tg.MESSAGE_ONPROGRESS_FUNCTION_ERROR})}}}).then((function(t){var o=t.location,i=t.fileType,a=t.fileSize,s=t.width,c=t.height,u=mf(o);r.updateImageFormat(i);var l=Df({originUrl:u,originWidth:s,originHeight:c,min:198}),f=Df({originUrl:u,originWidth:s,originHeight:c,min:720});return r.updateImageInfoArray([{size:a,url:u,width:s,height:c},n({},f),n({},l)]),e}))}},{key:"_uploadFile",value:function(e){var t=this.getModule(ed),n=e.getElements()[0],r=t.getMessageOption(e.clientSequence);return this.doUploadFile({file:r.payload.file,to:r.to,onProgress:function(e){if(n.updatePercent(e),tf(r.onProgress))try{r.onProgress(e)}catch(t){return R_({code:eg.MESSAGE_ONPROGRESS_FUNCTION_ERROR,message:tg.MESSAGE_ONPROGRESS_FUNCTION_ERROR})}}}).then((function(t){var r=t.location,o=mf(r);return n.updateFileUrl(o),e}))}},{key:"_uploadAudio",value:function(e){var t=this.getModule(ed),n=e.getElements()[0],r=t.getMessageOption(e.clientSequence);return this.doUploadAudio({file:r.payload.file,to:r.to,onProgress:function(e){if(n.updatePercent(e),tf(r.onProgress))try{r.onProgress(e)}catch(t){return R_({code:eg.MESSAGE_ONPROGRESS_FUNCTION_ERROR,message:tg.MESSAGE_ONPROGRESS_FUNCTION_ERROR})}}}).then((function(t){var r=t.location,o=mf(r);return n.updateAudioUrl(o),e}))}},{key:"_uploadVideo",value:function(e){var t=this.getModule(ed),n=e.getElements()[0],r=t.getMessageOption(e.clientSequence);return this.doUploadVideo({file:r.payload.file,to:r.to,onProgress:function(e){if(n.updatePercent(e),tf(r.onProgress))try{r.onProgress(e)}catch(t){return R_({code:eg.MESSAGE_ONPROGRESS_FUNCTION_ERROR,message:tg.MESSAGE_ONPROGRESS_FUNCTION_ERROR})}}}).then((function(t){var r=t.location,o=t.snapshotInfo,i=mf(r);return n.updateVideoUrl(i),jf(o)||n.updateSnapshotInfo(o),e}))}},{key:"doUploadImage",value:function(e){if(!e.file)return R_({code:eg.MESSAGE_IMAGE_SELECT_FILE_FIRST,message:tg.MESSAGE_IMAGE_SELECT_FILE_FIRST});var t=this._checkImageType(e.file);if(!0!==t)return t;var n=this._checkImageSize(e.file);if(!0!==n)return n;var r=null;return this._setUploadFileType(Z_),this.uploadByCOS(e).then((function(e){return r=e,Af("https://".concat(e.location))})).then((function(e){return r.width=e.width,r.height=e.height,Promise.resolve(r)}))}},{key:"_checkImageType",value:function(e){var t="";return t=Hu?e.url.slice(e.url.lastIndexOf(".")+1):e.files[0].name.slice(e.files[0].name.lastIndexOf(".")+1),X_.indexOf(t.toLowerCase())>=0||R_({code:eg.MESSAGE_IMAGE_TYPES_LIMIT,message:tg.MESSAGE_IMAGE_TYPES_LIMIT})}},{key:"_checkImageSize",value:function(e){var t=0;return 0===(t=Hu?e.size:e.files[0].size)?R_({code:eg.MESSAGE_FILE_IS_EMPTY,message:"".concat(tg.MESSAGE_FILE_IS_EMPTY)}):t<20971520||R_({code:eg.MESSAGE_IMAGE_SIZE_LIMIT,message:"".concat(tg.MESSAGE_IMAGE_SIZE_LIMIT)})}},{key:"doUploadFile",value:function(e){var t=null;return e.file?e.file.files[0].size>104857600?R_(t={code:eg.MESSAGE_FILE_SIZE_LIMIT,message:tg.MESSAGE_FILE_SIZE_LIMIT}):0===e.file.files[0].size?(t={code:eg.MESSAGE_FILE_IS_EMPTY,message:"".concat(tg.MESSAGE_FILE_IS_EMPTY)},R_(t)):(this._setUploadFileType(ny),this.uploadByCOS(e)):R_(t={code:eg.MESSAGE_FILE_SELECT_FILE_FIRST,message:tg.MESSAGE_FILE_SELECT_FILE_FIRST})}},{key:"doUploadVideo",value:function(e){return e.file.videoFile.size>104857600?R_({code:eg.MESSAGE_VIDEO_SIZE_LIMIT,message:"".concat(tg.MESSAGE_VIDEO_SIZE_LIMIT)}):0===e.file.videoFile.size?R_({code:eg.MESSAGE_FILE_IS_EMPTY,message:"".concat(tg.MESSAGE_FILE_IS_EMPTY)}):-1===Q_.indexOf(e.file.videoFile.type)?R_({code:eg.MESSAGE_VIDEO_TYPES_LIMIT,message:"".concat(tg.MESSAGE_VIDEO_TYPES_LIMIT)}):(this._setUploadFileType(ey),Hu?this.handleVideoUpload({file:e.file.videoFile,onProgress:e.onProgress}):Ku?this.handleVideoUpload(e):void 0)}},{key:"handleVideoUpload",value:function(e){var t=this;return new Promise((function(n,r){t.uploadByCOS(e).then((function(e){n(e)})).catch((function(){t.uploadByCOS(e).then((function(e){n(e)})).catch((function(){r(new O_({code:eg.MESSAGE_VIDEO_UPLOAD_FAIL,message:tg.MESSAGE_VIDEO_UPLOAD_FAIL}))}))}))}))}},{key:"doUploadAudio",value:function(e){return e.file?e.file.size>20971520?R_(new O_({code:eg.MESSAGE_AUDIO_SIZE_LIMIT,message:"".concat(tg.MESSAGE_AUDIO_SIZE_LIMIT)})):0===e.file.size?R_(new O_({code:eg.MESSAGE_FILE_IS_EMPTY,message:"".concat(tg.MESSAGE_FILE_IS_EMPTY)})):(this._setUploadFileType(ty),this.uploadByCOS(e)):R_(new O_({code:eg.MESSAGE_AUDIO_UPLOAD_FAIL,message:tg.MESSAGE_AUDIO_UPLOAD_FAIL}))}},{key:"uploadByCOS",value:function(e){var t=this,n="".concat(this._className,".uploadByCOS");if(!tf(this._cosUploadMethod))return xl.warn("".concat(n," 没有检测到上传插件，将无法发送图片、音频、视频、文件等类型的消息。详细请参考 https://web.sdk.qcloud.com/im/doc/zh-cn/SDK.html#registerPlugin")),R_({code:eg.COS_UNDETECTED,message:tg.COS_UNDETECTED});if(this.timUploadPlugin)return this._uploadWithPreSigUrl(e);var r=new vg(mg.UPLOAD),o=Date.now(),i=this._getFile(e);return new Promise((function(a,s){var c=Hu?t._createCosOptionsWXMiniApp(e):t._createCosOptionsWeb(e),u=t;t._cosUploadMethod(c,(function(e,c){var l=Object.create(null);if(c){if(e||Ql(c.files)&&c.files[0].error){var f=new O_({code:eg.MESSAGE_FILE_UPLOAD_FAIL,message:tg.MESSAGE_FILE_UPLOAD_FAIL});return r.setError(f,!0,t.getNetworkType()).end(),xl.log("".concat(n," failed. error:"),c.files[0].error),403===c.files[0].error.statusCode&&(xl.warn("".concat(n," failed. cos AccessKeyId was invalid, regain auth key!")),t._getAuthorizationKey()),void s(f)}l.fileName=i.name,l.fileSize=i.size,l.fileType=i.type.slice(i.type.indexOf("/")+1).toLowerCase(),l.location=Hu?c.Location:c.files[0].data.Location;var p=Date.now()-o,d=u._formatFileSize(i.size),h=u._formatSpeed(1e3*i.size/p),g="size:".concat(d," time:").concat(p,"ms speed:").concat(h);xl.log("".concat(n," success. name:").concat(i.name," ").concat(g)),a(l);var v=t.getModule(Ed);return v.addCost(cg,p),v.addFileSize(cg,i.size),void r.setNetworkType(t.getNetworkType()).setMessage(g).end()}var m=new O_({code:eg.MESSAGE_FILE_UPLOAD_FAIL,message:tg.MESSAGE_FILE_UPLOAD_FAIL});r.setError(m,!0,u.getNetworkType()).end(),xl.warn("".concat(n," failed. error:"),e),403===e.statusCode&&(xl.warn("".concat(n," failed. cos AccessKeyId was invalid, regain auth key!")),t._getAuthorizationKey()),s(m)}))}))}},{key:"_uploadWithPreSigUrl",value:function(e){var t=this,n="".concat(this._className,"._uploadWithPreSigUrl"),r=this._getFile(e);return this._createCosOptionsPreSigUrl(e).then((function(e){return new Promise((function(o,i){var a=new vg(mg.UPLOAD),s=e.requestSnapshotUrl,c=void 0===s?void 0:s,u=h(e,Jy),l=Date.now();t._cosUploadMethod(u,(function(e,s){var u=Object.create(null);if(e||403===s.statusCode){var f=new O_({code:eg.MESSAGE_FILE_UPLOAD_FAIL,message:tg.MESSAGE_FILE_UPLOAD_FAIL});return a.setError(f,!0,t.getNetworkType()).end(),xl.log("".concat(n," failed, error:"),e),void i(f)}var p=s.data.location||"";0!==p.indexOf("https://")&&0!==p.indexOf("http://")||(p=p.split("//")[1]),u.fileName=r.name,u.fileSize=r.size,u.fileType=r.type.slice(r.type.indexOf("/")+1).toLowerCase(),u.location=p;var d=Date.now()-l,h=t._formatFileSize(r.size),g=t._formatSpeed(1e3*r.size/d),v="size:".concat(h,",time:").concat(d,"ms,speed:").concat(g," res:").concat(JSON.stringify(s.data));xl.log("".concat(n," success name:").concat(r.name,",").concat(v)),a.setNetworkType(t.getNetworkType()).setMessage(v).end();var m=t.getModule(Ed);if(m.addCost(cg,d),m.addFileSize(cg,r.size),!jf(c))return t._getSnapshotInfoByUrl(c).then((function(e){u.snapshotInfo=e,o(u)}));o(u)}))}))}))}},{key:"_getFile",value:function(e){var t=null;return Hu?t=Vu&&Ql(e.file.files)?e.file.files[0]:e.file:Ku&&(t=e.file.files[0]),t}},{key:"_formatFileSize",value:function(e){return e<1024?e+"B":e<1048576?Math.floor(e/1024)+"KB":Math.floor(e/1048576)+"MB"}},{key:"_formatSpeed",value:function(e){return e<=1048576?Lf(e/1024,1)+"KB/s":Lf(e/1048576,1)+"MB/s"}},{key:"_createCosOptionsWeb",value:function(e){var t=e.file.files[0].name,n=t.slice(t.lastIndexOf(".")),r=this._genFileName("".concat(ff(999999)).concat(n));return{files:[{Bucket:"".concat(this.bucketName,"-").concat(this.appid),Region:this.region,Key:"".concat(this.directory,"/").concat(r),Body:e.file.files[0]}],SliceSize:1048576,onProgress:function(t){if("function"==typeof e.onProgress)try{e.onProgress(t.percent)}catch(n){xl.warn("onProgress callback error:",n)}},onFileFinish:function(e,t,n){}}}},{key:"_createCosOptionsWXMiniApp",value:function(e){var t=this._getFile(e),n=this._genFileName(t.name),r=t.url;return{Bucket:"".concat(this.bucketName,"-").concat(this.appid),Region:this.region,Key:"".concat(this.directory,"/").concat(n),FilePath:r,onProgress:function(t){if(xl.log(JSON.stringify(t)),"function"==typeof e.onProgress)try{e.onProgress(t.percent)}catch(n){xl.warn("onProgress callback error:",n)}}}}},{key:"_createCosOptionsPreSigUrl",value:function(e){var t=this,n="",r="",o=0;if(Hu){var i=this._getFile(e);n=this._genFileName(i.name),r=i.url,o=1}else{var a=e.file.files[0].name,s=a.slice(a.lastIndexOf("."));n=this._genFileName("".concat(ff(999999)).concat(s)),r=e.file.files[0],o=0}return this._getCosPreSigUrl({fileType:this.uploadFileType,fileName:n,uploadMethod:o,duration:this.duration}).then((function(o){var i=o.uploadUrl,a=o.downloadUrl,s=o.requestSnapshotUrl,c=void 0===s?void 0:s;return{url:i,fileType:t.uploadFileType,fileName:n,resources:r,downloadUrl:a,requestSnapshotUrl:c,onProgress:function(t){if("function"==typeof e.onProgress)try{e.onProgress(t.percent)}catch(n){xl.warn("onProgress callback error:",n),xl.error(n)}}}}))}},{key:"_genFileName",value:function(e){return"".concat(wf(),"-").concat(e)}},{key:"_setUploadFileType",value:function(e){this.uploadFileType=e}},{key:"_getSnapshotInfoByUrl",value:function(e){var t=this,n=new vg(mg.GET_SNAPSHOT_INFO);return this.request({protocolName:xh,requestData:{platform:this.getPlatform(),coverName:this._genFileName(ff(99999)),requestSnapshotUrl:e}}).then((function(e){var t=(e.data||{}).snapshotUrl;return n.setMessage("snapshotUrl:".concat(t)).end(),jf(t)?{}:Af(t).then((function(e){return{snapshotUrl:t,snapshotWidth:e.width,snapshotHeight:e.height}}))})).catch((function(e){return xl.warn("".concat(t._className,"._getSnapshotInfoByUrl failed. error:"),e),n.setCode(e.errorCode).setMessage(e.errorInfo).end(),{}}))}},{key:"reset",value:function(){xl.log("".concat(this._className,".reset"))}}]),r}(Sd),Qy=["downloadKey","pbDownloadKey","messageList"],Zy=function(){function e(t){o(this,e),this._className="MergerMessageHandler",this._messageModule=t}return a(e,[{key:"uploadMergerMessage",value:function(e,t){var n=this;xl.debug("".concat(this._className,".uploadMergerMessage message:"),e,"messageBytes:".concat(t));var r=e.payload.messageList,o=r.length,i=new vg(mg.UPLOAD_MERGER_MESSAGE);return this._messageModule.request({protocolName:Vh,requestData:{messageList:r}}).then((function(e){xl.debug("".concat(n._className,".uploadMergerMessage ok. response:"),e.data);var r=e.data,a=r.pbDownloadKey,s=r.downloadKey,c={pbDownloadKey:a,downloadKey:s,messageNumber:o};return i.setNetworkType(n._messageModule.getNetworkType()).setMessage("".concat(o,"-").concat(t,"-").concat(s)).end(),c})).catch((function(e){throw xl.warn("".concat(n._className,".uploadMergerMessage failed. error:"),e),n._messageModule.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];i.setError(e,r,o).end()})),e}))}},{key:"downloadMergerMessage",value:function(e){var t=this;xl.debug("".concat(this._className,".downloadMergerMessage message:"),e);var r=e.payload.downloadKey,o=new vg(mg.DOWNLOAD_MERGER_MESSAGE);return o.setMessage("downloadKey:".concat(r)),this._messageModule.request({protocolName:$h,requestData:{downloadKey:r}}).then((function(r){if(xl.debug("".concat(t._className,".downloadMergerMessage ok. response:"),r.data),tf(e.clearElement)){var i=e.payload,a=(i.downloadKey,i.pbDownloadKey,i.messageList,h(i,Qy));e.clearElement(),e.setElement({type:e.type,content:n({messageList:r.data.messageList},a)})}else{var s=[];r.data.messageList.forEach((function(e){if(!jf(e)){var t=new v_(e);s.push(t)}})),e.payload.messageList=s,e.payload.downloadKey="",e.payload.pbDownloadKey=""}return o.setNetworkType(t._messageModule.getNetworkType()).end(),e})).catch((function(e){throw xl.warn("".concat(t._className,".downloadMergerMessage failed. key:").concat(r," error:"),e),t._messageModule.probeNetwork().then((function(t){var n=_(t,2),r=n[0],i=n[1];o.setError(e,r,i).end()})),e}))}},{key:"createMergerMessagePack",value:function(e,t,n){return e.conversationType===ho.CONV_C2C?this._createC2CMergerMessagePack(e,t,n):this._createGroupMergerMessagePack(e,t,n)}},{key:"_createC2CMergerMessagePack",value:function(e,t,n){var r=null;t&&(t.offlinePushInfo&&(r=t.offlinePushInfo),!0===t.onlineUserOnly&&(r?r.disablePush=!0:r={disablePush:!0}));var o="";Yl(e.cloudCustomData)&&e.cloudCustomData.length>0&&(o=e.cloudCustomData);var i=n.pbDownloadKey,a=n.downloadKey,s=n.messageNumber,c=e.payload,u=c.title,l=c.abstractList,f=c.compatibleText,p=this._messageModule.getModule(nd);return{protocolName:Dd,tjgID:this._messageModule.generateTjgID(e),requestData:{fromAccount:this._messageModule.getMyUserID(),toAccount:e.to,msgBody:[{msgType:e.type,msgContent:{pbDownloadKey:i,downloadKey:a,title:u,abstractList:l,compatibleText:f,messageNumber:s}}],cloudCustomData:o,msgSeq:e.sequence,msgRandom:e.random,msgLifeTime:p&&p.isOnlineMessage(e,t)?0:void 0,offlinePushInfo:r?{pushFlag:!0===r.disablePush?1:0,title:r.title||"",desc:r.description||"",ext:r.extension||"",apnsInfo:{badgeMode:!0===r.ignoreIOSBadge?1:0},androidInfo:{OPPOChannelID:r.androidOPPOChannelID||""}}:void 0}}}},{key:"_createGroupMergerMessagePack",value:function(e,t,n){var r=null;t&&t.offlinePushInfo&&(r=t.offlinePushInfo);var o="";Yl(e.cloudCustomData)&&e.cloudCustomData.length>0&&(o=e.cloudCustomData);var i=n.pbDownloadKey,a=n.downloadKey,s=n.messageNumber,c=e.payload,u=c.title,l=c.abstractList,f=c.compatibleText,p=this._messageModule.getModule(rd);return{protocolName:Nd,tjgID:this._messageModule.generateTjgID(e),requestData:{fromAccount:this._messageModule.getMyUserID(),groupID:e.to,msgBody:[{msgType:e.type,msgContent:{pbDownloadKey:i,downloadKey:a,title:u,abstractList:l,compatibleText:f,messageNumber:s}}],random:e.random,priority:e.priority,clientSequence:e.clientSequence,groupAtInfo:void 0,cloudCustomData:o,onlineOnlyFlag:p&&p.isOnlineMessage(e,t)?1:0,offlinePushInfo:r?{pushFlag:!0===r.disablePush?1:0,title:r.title||"",desc:r.description||"",ext:r.extension||"",apnsInfo:{badgeMode:!0===r.ignoreIOSBadge?1:0},androidInfo:{OPPOChannelID:r.androidOPPOChannelID||""}}:void 0,clientTime:e.clientTime,needReadReceipt:!0!==e.needReadReceipt||p.isMessageFromOrToAVChatroom(e.to)?0:1}}}}]),e}(),eb={ERR_SVR_COMM_SENSITIVE_TEXT:80001,ERR_SVR_COMM_BODY_SIZE_LIMIT:80002,OPEN_SERVICE_OVERLOAD_ERROR:60022,ERR_SVR_MSG_PKG_PARSE_FAILED:20001,ERR_SVR_MSG_INTERNAL_AUTH_FAILED:20002,ERR_SVR_MSG_INVALID_ID:20003,ERR_SVR_MSG_PUSH_DENY:20006,ERR_SVR_MSG_IN_PEER_BLACKLIST:20007,ERR_SVR_MSG_BOTH_NOT_FRIEND:20009,ERR_SVR_MSG_NOT_PEER_FRIEND:20010,ERR_SVR_MSG_NOT_SELF_FRIEND:20011,ERR_SVR_MSG_SHUTUP_DENY:20012,ERR_SVR_GROUP_INVALID_PARAMETERS:10004,ERR_SVR_GROUP_PERMISSION_DENY:10007,ERR_SVR_GROUP_NOT_FOUND:10010,ERR_SVR_GROUP_INVALID_GROUPID:10015,ERR_SVR_GROUP_REJECT_FROM_THIRDPARTY:10016,ERR_SVR_GROUP_SHUTUP_DENY:10017,MESSAGE_SEND_FAIL:2100,OVER_FREQUENCY_LIMIT:2996},tb=[eg.MESSAGE_ONPROGRESS_FUNCTION_ERROR,eg.MESSAGE_IMAGE_SELECT_FILE_FIRST,eg.MESSAGE_IMAGE_TYPES_LIMIT,eg.MESSAGE_FILE_IS_EMPTY,eg.MESSAGE_IMAGE_SIZE_LIMIT,eg.MESSAGE_FILE_SELECT_FILE_FIRST,eg.MESSAGE_FILE_SIZE_LIMIT,eg.MESSAGE_VIDEO_SIZE_LIMIT,eg.MESSAGE_VIDEO_TYPES_LIMIT,eg.MESSAGE_AUDIO_UPLOAD_FAIL,eg.MESSAGE_AUDIO_SIZE_LIMIT,eg.COS_UNDETECTED],nb=function(e){c(n,e);var t=m(n);function n(e){var r;return o(this,n),(r=t.call(this,e))._className="MessageModule",r._messageOptionsMap=new Map,r._mergerMessageHandler=new Zy(g(r)),r}return a(n,[{key:"createTextMessage",value:function(e){var t=e.to,n=e.payload.atUserList,r=void 0===n?[]:n;if((Ef({groupID:t})||If(t))&&r.includes(ho.MSG_AT_ALL))return R_({code:eg.MESSAGE_AT_TYPE_INVALID,message:tg.MESSAGE_AT_TYPE_INVALID});var o=this.getMyUserID();e.currentUser=o,e.senderTinyID=this.getMyTinyID();var i=new y_(e),a="string"==typeof e.payload?e.payload:e.payload.text,s=new Ig({text:a}),c=this._getNickAndAvatarByUserID(o);return i.setElement(s),i.setNickAndAvatar(c),i.setNameCard(this._getNameCardByGroupID(i)),i}},{key:"createImageMessage",value:function(e){var t=this.getMyUserID();e.currentUser=t,e.senderTinyID=this.getMyTinyID();var n=new y_(e);if(Hu){var r=e.payload.file;if(Wl(r))return void xl.warn("小程序环境下调用 createImageMessage 接口时，payload.file 不支持传入 File 对象");var o=r.tempFilePaths[0],i={url:o,name:o.slice(o.lastIndexOf("/")+1),size:r.tempFiles&&r.tempFiles[0].size||1,type:o.slice(o.lastIndexOf(".")+1).toLowerCase()};e.payload.file=i}else if(Ku)if(Wl(e.payload.file)){var a=e.payload.file;e.payload.file={files:[a]}}else if(Xl(e.payload.file)&&"undefined"!=typeof uni){var s=e.payload.file.tempFiles[0];e.payload.file={files:[s]}}var c=new e_({imageFormat:Gl.UNKNOWN,uuid:this._generateUUID(),file:e.payload.file}),u=this._getNickAndAvatarByUserID(t);return n.setElement(c),n.setNickAndAvatar(u),n.setNameCard(this._getNameCardByGroupID(n)),this._messageOptionsMap.set(n.clientSequence,e),n}},{key:"createAudioMessage",value:function(e){if(Hu){var t=e.payload.file;if(Hu){var n={url:t.tempFilePath,name:t.tempFilePath.slice(t.tempFilePath.lastIndexOf("/")+1),size:t.fileSize,second:parseInt(t.duration)/1e3,type:t.tempFilePath.slice(t.tempFilePath.lastIndexOf(".")+1).toLowerCase()};e.payload.file=n}var r=this.getMyUserID();e.currentUser=r,e.senderTinyID=this.getMyTinyID();var o=new y_(e),i=new n_({second:Math.floor(t.duration/1e3),size:t.fileSize,url:t.tempFilePath,uuid:this._generateUUID()}),a=this._getNickAndAvatarByUserID(r);return o.setElement(i),o.setNickAndAvatar(a),o.setNameCard(this._getNameCardByGroupID(o)),this._messageOptionsMap.set(o.clientSequence,e),o}xl.warn("createAudioMessage 目前只支持小程序环境下发语音消息")}},{key:"createVideoMessage",value:function(e){var t=this.getMyUserID();e.currentUser=t,e.senderTinyID=this.getMyTinyID(),e.payload.file.thumbUrl="https://web.sdk.qcloud.com/im/assets/images/transparent.png",e.payload.file.thumbSize=1668;var n={};if(Hu){if(Bu)return void xl.warn("createVideoMessage 不支持在支付宝小程序环境下使用");if(Wl(e.payload.file))return void xl.warn("小程序环境下调用 createVideoMessage 接口时，payload.file 不支持传入 File 对象");var r=e.payload.file;n.url=r.tempFilePath,n.name=r.tempFilePath.slice(r.tempFilePath.lastIndexOf("/")+1),n.size=r.size,n.second=r.duration,n.type=r.tempFilePath.slice(r.tempFilePath.lastIndexOf(".")+1).toLowerCase()}else if(Ku){if(Wl(e.payload.file)){var o=e.payload.file;e.payload.file.files=[o]}else if(Xl(e.payload.file)&&"undefined"!=typeof uni){var i=e.payload.file.tempFile;e.payload.file.files=[i]}var a=e.payload.file;n.url=window.URL.createObjectURL(a.files[0]),n.name=a.files[0].name,n.size=a.files[0].size,n.second=a.files[0].duration||0,n.type=a.files[0].type.split("/")[1]}e.payload.file.videoFile=n;var s=new y_(e),c=new h_({videoFormat:n.type,videoSecond:Lf(n.second,0),videoSize:n.size,remoteVideoUrl:"",videoUrl:n.url,videoUUID:this._generateUUID(),thumbUUID:this._generateUUID(),thumbWidth:e.payload.file.width||200,thumbHeight:e.payload.file.height||200,thumbUrl:e.payload.file.thumbUrl,thumbSize:e.payload.file.thumbSize,thumbFormat:e.payload.file.thumbUrl.slice(e.payload.file.thumbUrl.lastIndexOf(".")+1).toLowerCase()}),u=this._getNickAndAvatarByUserID(t);return s.setElement(c),s.setNickAndAvatar(u),s.setNameCard(this._getNameCardByGroupID(s)),this._messageOptionsMap.set(s.clientSequence,e),s}},{key:"createCustomMessage",value:function(e){var t=this.getMyUserID();e.currentUser=t,e.senderTinyID=this.getMyTinyID();var n=new y_(e),r=new d_({data:e.payload.data,description:e.payload.description,extension:e.payload.extension}),o=this._getNickAndAvatarByUserID(t);return n.setElement(r),n.setNickAndAvatar(o),n.setNameCard(this._getNameCardByGroupID(n)),n}},{key:"createFaceMessage",value:function(e){var t=this.getMyUserID();e.currentUser=t,e.senderTinyID=this.getMyTinyID();var n=new y_(e),r=new t_(e.payload),o=this._getNickAndAvatarByUserID(t);return n.setElement(r),n.setNickAndAvatar(o),n.setNameCard(this._getNameCardByGroupID(n)),n}},{key:"createMergerMessage",value:function(e){var t=this.getMyUserID();e.currentUser=t,e.senderTinyID=this.getMyTinyID();var n=this._getNickAndAvatarByUserID(t),r=new y_(e),o=new m_(e.payload);return r.setElement(o),r.setNickAndAvatar(n),r.setNameCard(this._getNameCardByGroupID(r)),r.setRelayFlag(!0),r}},{key:"createForwardMessage",value:function(e){var t=e.to,n=e.conversationType,r=e.priority,o=e.payload,i=e.needReadReceipt,a=this.getMyUserID(),s=this._getNickAndAvatarByUserID(a);if(o.type===ho.MSG_GRP_TIP)return R_(new O_({code:eg.MESSAGE_FORWARD_TYPE_INVALID,message:tg.MESSAGE_FORWARD_TYPE_INVALID}));var c={to:t,conversationType:n,conversationID:"".concat(n).concat(t),priority:r,isPlaceMessage:0,status:Pp.UNSEND,currentUser:a,senderTinyID:this.getMyTinyID(),cloudCustomData:e.cloudCustomData||o.cloudCustomData||"",needReadReceipt:i},u=new y_(c);return u.setElement(o.getElements()[0]),u.setNickAndAvatar(s),u.setNameCard(this._getNameCardByGroupID(o)),u.setRelayFlag(!0),u}},{key:"downloadMergerMessage",value:function(e){return this._mergerMessageHandler.downloadMergerMessage(e)}},{key:"createFileMessage",value:function(e){if(!Hu||Vu){if(Ku||Vu)if(Wl(e.payload.file)){var t=e.payload.file;e.payload.file={files:[t]}}else if(Xl(e.payload.file)&&"undefined"!=typeof uni){var n=e.payload.file,r=n.tempFiles,o=n.files,i=null;Ql(r)?i=r[0]:Ql(o)&&(i=o[0]),e.payload.file={files:[i]}}var a=this.getMyUserID();e.currentUser=a,e.senderTinyID=this.getMyTinyID();var s=new y_(e),c=new p_({uuid:this._generateUUID(),file:e.payload.file}),u=this._getNickAndAvatarByUserID(a);return s.setElement(c),s.setNickAndAvatar(u),s.setNameCard(this._getNameCardByGroupID(s)),this._messageOptionsMap.set(s.clientSequence,e),s}xl.warn("小程序目前不支持选择文件， createFileMessage 接口不可用！")}},{key:"createLocationMessage",value:function(e){var t=this.getMyUserID();e.currentUser=t,e.senderTinyID=this.getMyTinyID();var n=new y_(e),r=new g_(e.payload),o=this._getNickAndAvatarByUserID(t);return n.setElement(r),n.setNickAndAvatar(o),n.setNameCard(this._getNameCardByGroupID(n)),n}},{key:"_onCannotFindModule",value:function(){return R_({code:eg.CANNOT_FIND_MODULE,message:tg.CANNOT_FIND_MODULE})}},{key:"sendMessageInstance",value:function(e,t){var n,r=this,o=null;switch(e.conversationType){case ho.CONV_C2C:if(!(o=this.getModule(nd)))return this._onCannotFindModule();break;case ho.CONV_GROUP:if(!(o=this.getModule(rd)))return this._onCannotFindModule();if(Ef({groupID:e.to})){var i=o.getLocalGroupProfile(e.to);if(i&&i.isSupportTopic)return R_({code:eg.MESSAGE_SEND_GROUP_WITH_TOPIC_FAIL,message:tg.MESSAGE_SEND_GROUP_WITH_TOPIC_FAIL});if(!Zl(t)&&!Zl(t.messageControlInfo))return R_({code:eg.MESSAGE_CONTROL_INFO_FAIL,message:tg.MESSAGE_CONTROL_INFO_FAIL})}break;default:return R_({code:eg.MESSAGE_SEND_INVALID_CONVERSATION_TYPE,message:tg.MESSAGE_SEND_INVALID_CONVERSATION_TYPE})}var a=this.getModule(dd),s=this.getModule(rd);return a.upload(e).then((function(){return r._getSendMessageSpecifiedKey(e)===sg&&r.getModule(Ed).addSuccessCount(cg),s.guardForAVChatRoom(e).then((function(){if(!e.isSendable())return R_({code:eg.MESSAGE_FILE_URL_IS_EMPTY,message:tg.MESSAGE_FILE_URL_IS_EMPTY});r._addSendMessageTotalCount(e),n=Date.now();var i=function(e){var t="utf-8";Ku&&document&&(t=document.charset.toLowerCase());var n,r,o=0;if(r=e.length,"utf-8"===t||"utf8"===t)for(var i=0;i<r;i++)(n=e.codePointAt(i))<=127?o+=1:n<=2047?o+=2:n<=65535?o+=3:(o+=4,i++);else if("utf-16"===t||"utf16"===t)for(var a=0;a<r;a++)(n=e.codePointAt(a))<=65535?o+=2:(o+=4,a++);else o=e.replace(/[^\x00-\xff]/g,"aa").length;return o}(JSON.stringify(e));return e.type===ho.MSG_MERGER&&i>7e3?r._mergerMessageHandler.uploadMergerMessage(e,i).then((function(n){var o=r._mergerMessageHandler.createMergerMessagePack(e,t,n);return r.request(o)})):(r.getModule(sd).setMessageRandom(e),e.conversationType===ho.CONV_C2C||e.conversationType===ho.CONV_GROUP?o.sendMessage(e,t):void 0)})).then((function(i){var a=i.data,s=a.time,c=a.sequence,u=a.readReceiptCode;zl(u)&&0!==u&&(new vg(mg.SEND_MESSAGE_WITH_RECEIPT).setMessage("from:".concat(e.from," to:").concat(e.to," sequence:").concat(c," readReceiptCode:").concat(u)).end(),xl.warn("".concat(r._className,".sendMessageInstance readReceiptCode:").concat(u," message:").concat(T_[u]))),r._addSendMessageSuccessCount(e,n),r._messageOptionsMap.delete(e.clientSequence);var l=r.getModule(sd);e.status=Pp.SUCCESS,e.time=s;var f=!1;if(e.conversationType===ho.CONV_GROUP)e.sequence=c;else if(e.conversationType===ho.CONV_C2C){var p=l.getLatestMessageSentByMe(e.conversationID);if(p){var d=p.nick,h=p.avatar;d===e.nick&&h===e.avatar||(f=!0)}}if(l.appendToMessageList(e),f&&l.modifyMessageSentByMe({conversationID:e.conversationID,latestNick:e.nick,latestAvatar:e.avatar}),o.isOnlineMessage(e,t))e._onlineOnlyFlag=!0;else{var g=e;Xl(t)&&Xl(t.messageControlInfo)&&(!0===t.messageControlInfo.excludedFromLastMessage&&(e._isExcludedFromLastMessage=!0,g=""),!0===t.messageControlInfo.excludedFromUnreadCount&&(e._isExcludedFromUnreadCount=!0));var v=e.conversationType;If(e.to)&&(v=ho.CONV_TOPIC,r.getModule(ad).onMessageSent({groupID:Gf(e.to),topicID:e.to,lastMessage:g})),l.onMessageSent({conversationOptionsList:[{conversationID:e.conversationID,unreadCount:0,type:v,subType:e.conversationSubType,lastMessage:g}]})}return e.getRelayFlag()||"TIMImageElem"!==e.type||Nf(e.payload.imageInfoArray),b_({message:e})}))})).catch((function(t){return r._onSendMessageFailed(e,t)}))}},{key:"_onSendMessageFailed",value:function(e,t){e.status=Pp.FAIL,this.getModule(sd).deleteMessageRandom(e),this._addSendMessageFailCountOnUser(e,t);var n=new vg(mg.SEND_MESSAGE);return n.setMessage("tjg_id:".concat(this.generateTjgID(e)," type:").concat(e.type," from:").concat(e.from," to:").concat(e.to)),this.probeNetwork().then((function(e){var r=_(e,2),o=r[0],i=r[1];n.setError(t,o,i).end()})),xl.error("".concat(this._className,"._onSendMessageFailed error:"),t),R_(new O_({code:t&&t.code?t.code:eg.MESSAGE_SEND_FAIL,message:t&&t.message?t.message:tg.MESSAGE_SEND_FAIL,data:{message:e}}))}},{key:"_getSendMessageSpecifiedKey",value:function(e){if([ho.MSG_IMAGE,ho.MSG_AUDIO,ho.MSG_VIDEO,ho.MSG_FILE].includes(e.type))return sg;if(e.conversationType===ho.CONV_C2C)return og;if(e.conversationType===ho.CONV_GROUP){var t=this.getModule(rd).getLocalGroupProfile(e.to);if(!t)return;var n=t.type;return Mf(n)?ag:ig}}},{key:"_addSendMessageTotalCount",value:function(e){var t=this._getSendMessageSpecifiedKey(e);t&&this.getModule(Ed).addTotalCount(t)}},{key:"_addSendMessageSuccessCount",value:function(e,t){var n=Math.abs(Date.now()-t),r=this._getSendMessageSpecifiedKey(e);if(r){var o=this.getModule(Ed);o.addSuccessCount(r),o.addCost(r,n)}}},{key:"_addSendMessageFailCountOnUser",value:function(e,t){var n,r,o=t.code,i=void 0===o?-1:o,a=this.getModule(Ed),s=this._getSendMessageSpecifiedKey(e);s===sg&&(n=i,r=!1,tb.includes(n)&&(r=!0),r)?a.addFailedCountOfUserSide(cg):function(e){var t=!1;return Object.values(eb).includes(e)&&(t=!0),(e>=120001&&e<=13e4||e>=10100&&e<=10200)&&(t=!0),t}(i)&&s&&a.addFailedCountOfUserSide(s)}},{key:"resendMessage",value:function(e){return e.isResend=!0,e.status=Pp.UNSEND,e.random=ff(),e.clientTime=Nl(),e.generateMessageID(),this.sendMessageInstance(e)}},{key:"revokeMessage",value:function(e){var t=this,n=null;if(e.conversationType===ho.CONV_C2C){if(!(n=this.getModule(nd)))return this._onCannotFindModule()}else if(e.conversationType===ho.CONV_GROUP&&!(n=this.getModule(rd)))return this._onCannotFindModule();var r=new vg(mg.REVOKE_MESSAGE);return r.setMessage("tjg_id:".concat(this.generateTjgID(e)," type:").concat(e.type," from:").concat(e.from," to:").concat(e.to)),n.revokeMessage(e).then((function(n){var o=n.data.recallRetList;if(!jf(o)&&0!==o[0].retCode){var i=new O_({code:o[0].retCode,message:T_[o[0].retCode]||tg.MESSAGE_REVOKE_FAIL,data:{message:e}});return r.setCode(i.code).setMoreMessage(i.message).end(),R_(i)}return xl.info("".concat(t._className,".revokeMessage ok. ID:").concat(e.ID)),e.isRevoked=!0,r.end(),t.getModule(sd).onMessageRevoked([e]),b_({message:e})})).catch((function(n){t.probeNetwork().then((function(e){var t=_(e,2),o=t[0],i=t[1];r.setError(n,o,i).end()}));var o=new O_({code:n&&n.code?n.code:eg.MESSAGE_REVOKE_FAIL,message:n&&n.message?n.message:tg.MESSAGE_REVOKE_FAIL,data:{message:e}});return xl.warn("".concat(t._className,".revokeMessage failed. error:"),n),R_(o)}))}},{key:"deleteMessage",value:function(e){var t=this,n=null,r=e[0],o=r.conversationID,i="",a=[],s=[];if(r.conversationType===ho.CONV_C2C?(n=this.getModule(nd),i=o.replace(ho.CONV_C2C,""),e.forEach((function(e){e&&e.status===Pp.SUCCESS&&e.conversationID===o&&(e._onlineOnlyFlag||a.push("".concat(e.sequence,"_").concat(e.random,"_").concat(e.time)),s.push(e))}))):r.conversationType===ho.CONV_GROUP&&(n=this.getModule(rd),i=o.replace(ho.CONV_GROUP,""),e.forEach((function(e){e&&e.status===Pp.SUCCESS&&e.conversationID===o&&(e._onlineOnlyFlag||a.push("".concat(e.sequence)),s.push(e))}))),!n)return this._onCannotFindModule();if(0===a.length)return this._onMessageDeleted(s);a.length>30&&(a=a.slice(0,30),s=s.slice(0,30));var c=new vg(mg.DELETE_MESSAGE);return c.setMessage("to:".concat(i," count:").concat(a.length)),n.deleteMessage({to:i,keyList:a}).then((function(e){return c.end(),xl.info("".concat(t._className,".deleteMessage ok")),t._onMessageDeleted(s)})).catch((function(e){t.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];c.setError(e,r,o).end()})),xl.warn("".concat(t._className,".deleteMessage failed. error:"),e);var n=new O_({code:e&&e.code?e.code:eg.MESSAGE_DELETE_FAIL,message:e&&e.message?e.message:tg.MESSAGE_DELETE_FAIL});return R_(n)}))}},{key:"_onMessageDeleted",value:function(e){return this.getModule(sd).onMessageDeleted(e),w_({messageList:e})}},{key:"modifyRemoteMessage",value:function(e){var t=this,n=null,r=e.conversationType,o=e.to;if(this.getModule(rd).isMessageFromOrToAVChatroom(o))return R_({code:eg.MESSAGE_MODIFY_DISABLED_IN_AVCHATROOM,message:tg.MESSAGE_MODIFY_DISABLED_IN_AVCHATROOM,data:{message:e}});r===ho.CONV_C2C?n=this.getModule(nd):r===ho.CONV_GROUP&&(n=this.getModule(rd));var i=new vg(mg.MODIFY_MESSAGE);return i.setMessage("to:".concat(o)),n.modifyRemoteMessage(e).then((function(n){i.end(),xl.info("".concat(t._className,".modifyRemoteMessage ok"));var r=t._onModifyRemoteMessageResp(e,n.data);return b_({message:r})})).catch((function(n){if(i.setCode(n.code).setMoreMessage(n.message).end(),xl.warn("".concat(t._className,".modifyRemoteMessage failed. error:"),n),20027===n.code){var r=t._onModifyRemoteMessageResp(e,n.data);return R_({code:eg.MESSAGE_MODIFY_CONFLICT,message:tg.MESSAGE_MODIFY_CONFLICT,data:{message:r}})}return R_({code:n.code,message:n.message,data:{message:e}})}))}},{key:"_onModifyRemoteMessageResp",value:function(e,t){xl.debug("".concat(this._className,"._onModifyRemoteMessageResp options:"),t);var n=e.conversationType,r=e.from,o=e.to,i=e.random,a=e.sequence,s=e.time,c=t.elements,u=t.messageVersion,l=t.cloudCustomData,f=void 0===l?"":l;return this.getModule(sd).onMessageModified({conversationType:n,from:r,to:o,time:s,random:i,sequence:a,elements:c,cloudCustomData:f,messageVersion:u})}},{key:"_generateUUID",value:function(){var e=this.getModule(cd);return"".concat(e.getSDKAppID(),"-").concat(e.getUserID(),"-").concat(function(){for(var e="",t=32;t>0;--t)e+=pf[Math.floor(Math.random()*df)];return e}())}},{key:"getMessageOption",value:function(e){return this._messageOptionsMap.get(e)}},{key:"_getNickAndAvatarByUserID",value:function(e){return this.getModule(td).getNickAndAvatarByUserID(e)}},{key:"_getNameCardByGroupID",value:function(e){if(e.conversationType===ho.CONV_GROUP){var t=this.getModule(rd);if(t)return t.getMyNameCardByGroupID(e.to)}return""}},{key:"reset",value:function(){xl.log("".concat(this._className,".reset")),this._messageOptionsMap.clear()}}]),n}(Sd),rb=function(e){c(n,e);var t=m(n);function n(e){var r;return o(this,n),(r=t.call(this,e))._className="PluginModule",r.plugins={},r}return a(n,[{key:"registerPlugin",value:function(e){var t=this;Object.keys(e).forEach((function(n){t.plugins[n]=e[n]})),new vg(mg.REGISTER_PLUGIN).setMessage("key=".concat(Object.keys(e))).end()}},{key:"getPlugin",value:function(e){return this.plugins[e]}},{key:"reset",value:function(){xl.log("".concat(this._className,".reset"))}}]),n}(Sd),ob=function(e){c(n,e);var t=m(n);function n(e){var r;return o(this,n),(r=t.call(this,e))._className="SyncUnreadMessageModule",r._cookie="",r._onlineSyncFlag=!1,r.getInnerEmitterInstance().on(W_,r._onLoginSuccess,g(r)),r}return a(n,[{key:"_onLoginSuccess",value:function(e){this._startSync({cookie:this._cookie,syncFlag:0,isOnlineSync:0})}},{key:"_startSync",value:function(e){var t=this,n=e.cookie,r=e.syncFlag,o=e.isOnlineSync;xl.log("".concat(this._className,"._startSync cookie:").concat(n," syncFlag:").concat(r," isOnlineSync:").concat(o)),this.request({protocolName:wd,requestData:{cookie:n,syncFlag:r,isOnlineSync:o}}).then((function(e){var n=e.data,r=n.cookie,o=n.syncFlag,i=n.eventArray,a=n.messageList,s=n.C2CRemainingUnreadList,c=n.C2CPairUnreadList;t._cookie=r,jf(r)||(0===o||1===o?(i&&t.getModule(vd).onMessage({head:{},body:{eventArray:i,isInstantMessage:t._onlineSyncFlag,isSyncingEnded:!1}}),t.getModule(nd).onNewC2CMessage({dataList:a,isInstantMessage:!1,C2CRemainingUnreadList:s,C2CPairUnreadList:c}),t._startSync({cookie:r,syncFlag:o,isOnlineSync:0})):2===o&&(i&&t.getModule(vd).onMessage({head:{},body:{eventArray:i,isInstantMessage:t._onlineSyncFlag,isSyncingEnded:!0}}),t.getModule(nd).onNewC2CMessage({dataList:a,isInstantMessage:t._onlineSyncFlag,C2CRemainingUnreadList:s,C2CPairUnreadList:c})))})).catch((function(e){xl.error("".concat(t._className,"._startSync failed. error:"),e)}))}},{key:"startOnlineSync",value:function(){xl.log("".concat(this._className,".startOnlineSync")),this._onlineSyncFlag=!0,this._startSync({cookie:this._cookie,syncFlag:0,isOnlineSync:1})}},{key:"startSyncOnReconnected",value:function(){xl.log("".concat(this._className,".startSyncOnReconnected.")),this._onlineSyncFlag=!0,this._startSync({cookie:this._cookie,syncFlag:0,isOnlineSync:0})}},{key:"reset",value:function(){xl.log("".concat(this._className,".reset")),this._onlineSyncFlag=!1,this._cookie=""}}]),n}(Sd),ib={request:{toAccount:"To_Account",fromAccount:"From_Account",to:"To_Account",from:"From_Account",groupID:"GroupId",groupAtUserID:"GroupAt_Account",extension:"Ext",data:"Data",description:"Desc",elements:"MsgBody",sizeType:"Type",downloadFlag:"Download_Flag",thumbUUID:"ThumbUUID",videoUUID:"VideoUUID",remoteAudioUrl:"Url",remoteVideoUrl:"VideoUrl",videoUrl:"",imageUrl:"URL",fileUrl:"Url",uuid:"UUID",priority:"MsgPriority",receiverUserID:"To_Account",receiverGroupID:"GroupId",messageSender:"SenderId",messageReceiver:"ReceiverId",nick:"From_AccountNick",avatar:"From_AccountHeadurl",messageNumber:"MsgNum",pbDownloadKey:"PbMsgKey",downloadKey:"JsonMsgKey",applicationType:"PendencyType",userIDList:"To_Account",groupNameList:"GroupName",userID:"To_Account",groupAttributeList:"GroupAttr",mainSequence:"AttrMainSeq",avChatRoomKey:"BytesKey",attributeControl:"AttrControl",sequence:"seq",messageControlInfo:"SendMsgControl",updateSequence:"UpdateSeq",clientTime:"MsgClientTime",sequenceList:"MsgSeqList",topicID:"TopicId",customData:"CustomString",isSupportTopic:"SupportTopic"},response:{MsgPriority:"priority",ThumbUUID:"thumbUUID",VideoUUID:"videoUUID",Download_Flag:"downloadFlag",GroupId:"groupID",Member_Account:"userID",MsgList:"messageList",SyncFlag:"syncFlag",To_Account:"to",From_Account:"from",MsgSeq:"sequence",MsgRandom:"random",MsgTime:"time",MsgTimeStamp:"time",MsgContent:"content",MsgBody:"elements",From_AccountNick:"nick",From_AccountHeadurl:"avatar",GroupWithdrawInfoArray:"revokedInfos",GroupReadInfoArray:"groupMessageReadNotice",LastReadMsgSeq:"lastMessageSeq",WithdrawC2cMsgNotify:"c2cMessageRevokedNotify",C2cWithdrawInfoArray:"revokedInfos",C2cReadedReceipt:"c2cMessageReadReceipt",ReadC2cMsgNotify:"c2cMessageReadNotice",LastReadTime:"peerReadTime",MsgRand:"random",MsgType:"type",MsgShow:"messageShow",NextMsgSeq:"nextMessageSeq",FaceUrl:"avatar",ProfileDataMod:"profileModify",Profile_Account:"userID",ValueBytes:"value",ValueNum:"value",NoticeSeq:"noticeSequence",NotifySeq:"notifySequence",MsgFrom_AccountExtraInfo:"messageFromAccountExtraInformation",Operator_Account:"operatorID",OpType:"operationType",ReportType:"operationType",UserId:"userID",User_Account:"userID",List_Account:"userIDList",MsgOperatorMemberExtraInfo:"operatorInfo",MsgMemberExtraInfo:"memberInfoList",ImageUrl:"avatar",NickName:"nick",MsgGroupNewInfo:"newGroupProfile",MsgAppDefinedData:"groupCustomField",Owner_Account:"ownerID",GroupFaceUrl:"avatar",GroupIntroduction:"introduction",GroupNotification:"notification",GroupApplyJoinOption:"joinOption",MsgKey:"messageKey",GroupInfo:"groupProfile",ShutupTime:"muteTime",Desc:"description",Ext:"extension",GroupAt_Account:"groupAtUserID",MsgNum:"messageNumber",PbMsgKey:"pbDownloadKey",JsonMsgKey:"downloadKey",MsgModifiedFlag:"isModified",PendencyItem:"applicationItem",PendencyType:"applicationType",AddTime:"time",AddSource:"source",AddWording:"wording",ProfileImImage:"avatar",PendencyAdd:"friendApplicationAdded",FrienPencydDel_Account:"friendApplicationDeletedUserIDList",Peer_Account:"userID",GroupAttr:"groupAttributeList",GroupAttrAry:"groupAttributeList",AttrMainSeq:"mainSequence",seq:"sequence",GroupAttrOption:"groupAttributeOption",BytesChangedKeys:"changedKeyList",GroupAttrInfo:"groupAttributeList",GroupAttrSeq:"mainSequence",PushChangedAttrValFlag:"hasChangedAttributeInfo",SubKeySeq:"sequence",Val:"value",MsgGroupFromCardName:"senderNameCard",MsgGroupFromNickName:"senderNick",C2cNick:"peerNick",C2cImage:"peerAvatar",SendMsgControl:"messageControlInfo",NoLastMsg:"excludedFromLastMessage",NoUnread:"excludedFromUnreadCount",UpdateSeq:"updateSequence",MuteNotifications:"muteFlag",MsgClientTime:"clientTime",TinyId:"tinyID",GroupMsgReceiptList:"readReceiptList",ReadNum:"readCount",UnreadNum:"unreadCount",TopicId:"topicID",MillionGroupFlag:"communityType",SupportTopic:"isSupportTopic",MsgTopicNewInfo:"newTopicInfo",ShutupAll:"muteAllMembers",CustomString:"customData",TopicFaceUrl:"avatar",TopicIntroduction:"introduction",TopicNotification:"notification",TopicIdArray:"topicIDList",MsgVersion:"messageVersion",C2cMsgModNotifys:"c2cMessageModified",GroupMsgModNotifys:"groupMessageModified"},ignoreKeyWord:["C2C","ID","USP"]},ab=Ot.PROPER,sb=yn.trim;function cb(e,t){if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");var n;return t=Object.assign({pascalCase:!1},t),0===(e=Array.isArray(e)?e.map((function(e){return e.trim()})).filter((function(e){return e.length})).join("-"):e.trim()).length?"":1===e.length?t.pascalCase?e.toUpperCase():e.toLowerCase():(e!==e.toLowerCase()&&(e=ub(e)),e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(function(e,t){return t.toUpperCase()})).replace(/\d+(\w|$)/g,(function(e){return e.toUpperCase()})),n=e,t.pascalCase?n.charAt(0).toUpperCase()+n.slice(1):n)}rn({target:"String",proto:!0,forced:(Fy="trim",N((function(){return!!dn[Fy]()||"​᠎"!=="​᠎"[Fy]()||ab&&dn[Fy].name!==Fy})))},{trim:function(){return sb(this)}});var ub=function(e){for(var t=!1,n=!1,r=!1,o=0;o<e.length;o++){var i=e[o];t&&/[a-zA-Z]/.test(i)&&i.toUpperCase()===i?(e=e.slice(0,o)+"-"+e.slice(o),t=!1,r=n,n=!0,o++):n&&r&&/[a-zA-Z]/.test(i)&&i.toLowerCase()===i?(e=e.slice(0,o-1)+"-"+e.slice(o-1),r=n,n=!1,t=!0):(t=i.toLowerCase()===i&&i.toUpperCase()!==i,r=n,n=i.toUpperCase()===i&&i.toLowerCase()!==i)}return e};function lb(e,t){var n=0;return function e(t,r){if(++n>100)return n--,t;if(Ql(t)){var o=t.map((function(t){return Jl(t)?e(t,r):t}));return n--,o}if(Jl(t)){var i=(a=t,s=function(e,t){if(!of(t))return!1;if((o=t)!==cb(o))for(var n=0;n<ib.ignoreKeyWord.length&&!t.includes(ib.ignoreKeyWord[n]);n++);var o;return Zl(r[t])?function(e){return"OPPOChannelID"===e?e:e[0].toUpperCase()+cb(e).slice(1)}(t):r[t]},c=Object.create(null),Object.keys(a).forEach((function(e){var t=s(a[e],e);t&&(c[t]=a[e])})),c);return i=Cf(i,(function(t,n){return Ql(t)||Jl(t)?e(t,r):t})),n--,i}var a,s,c}(e,t)}function fb(e,t){if(Ql(e))return e.map((function(e){return Jl(e)?fb(e,t):e}));if(Jl(e)){var n=(r=e,o=function(e,n){return Zl(t[n])?cb(n):t[n]},i={},Object.keys(r).forEach((function(e){i[o(r[e],e)]=r[e]})),i);return Cf(n,(function(e){return Ql(e)||Jl(e)?fb(e,t):e}))}var r,o,i}var pb="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,db=D.RangeError,hb=function(e){if(void 0===e)return 0;var t=Rt(e),n=Pt(t);if(t!==n)throw db("Wrong length or index");return n},gb=D.Array,vb=Math.abs,mb=Math.pow,_b=Math.floor,yb=Math.log,bb=Math.LN2,Mb=function(e,t,n){var r,o,i,a=gb(n),s=8*n-t-1,c=(1<<s)-1,u=c>>1,l=23===t?mb(2,-24)-mb(2,-77):0,f=e<0||0===e&&1/e<0?1:0,p=0;for((e=vb(e))!=e||1/0===e?(o=e!=e?1:0,r=c):(r=_b(yb(e)/bb),e*(i=mb(2,-r))<1&&(r--,i*=2),(e+=r+u>=1?l/i:l*mb(2,1-u))*i>=2&&(r++,i/=2),r+u>=c?(o=0,r=c):r+u>=1?(o=(e*i-1)*mb(2,t),r+=u):(o=e*mb(2,u-1)*mb(2,t),r=0));t>=8;)a[p++]=255&o,o/=256,t-=8;for(r=r<<t|o,s+=t;s>0;)a[p++]=255&r,r/=256,s-=8;return a[--p]|=128*f,a},Eb=function(e,t){var n,r=e.length,o=8*r-t-1,i=(1<<o)-1,a=i>>1,s=o-7,c=r-1,u=e[c--],l=127&u;for(u>>=7;s>0;)l=256*l+e[c--],s-=8;for(n=l&(1<<-s)-1,l>>=-s,s+=t;s>0;)n=256*n+e[c--],s-=8;if(0===l)l=1-a;else{if(l===i)return n?NaN:u?-1/0:1/0;n+=mb(2,t),l-=a}return(u?-1:1)*n*mb(2,l-t)},Ib=function(e){for(var t=Ce(this),n=xt(t),r=arguments.length,o=kt(r>1?arguments[1]:void 0,n),i=r>2?arguments[2]:void 0,a=void 0===i?n:kt(i,n);a>o;)t[o++]=e;return t},Sb=$t.f,Tb=rt.f,Ob=Ot.PROPER,Cb=Ot.CONFIGURABLE,Ab=Et.get,wb=Et.set,Rb=D.ArrayBuffer,Db=Rb,Nb=Db&&Db.prototype,kb=D.DataView,Lb=kb&&kb.prototype,Pb=Object.prototype,xb=D.Array,Gb=D.RangeError,Ub=H(Ib),Fb=H([].reverse),jb=Mb,qb=Eb,Bb=function(e){return[255&e]},Vb=function(e){return[255&e,e>>8&255]},$b=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},Hb=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Kb=function(e){return jb(e,23,4)},Wb=function(e){return jb(e,52,8)},zb=function(e,t){Tb(e.prototype,t,{get:function(){return Ab(this)[t]}})},Yb=function(e,t,n,r){var o=hb(n),i=Ab(e);if(o+t>i.byteLength)throw Gb("Wrong index");var a=Ab(i.buffer).bytes,s=o+i.byteOffset,c=us(a,s,s+t);return r?c:Fb(c)},Jb=function(e,t,n,r,o,i){var a=hb(n),s=Ab(e);if(a+t>s.byteLength)throw Gb("Wrong index");for(var c=Ab(s.buffer).bytes,u=a+s.byteOffset,l=r(+o),f=0;f<t;f++)c[u+f]=l[i?f:t-f-1]};if(pb){var Xb=Ob&&"ArrayBuffer"!==Rb.name;if(N((function(){Rb(1)}))&&N((function(){new Rb(-1)}))&&!N((function(){return new Rb,new Rb(1.5),new Rb(NaN),Xb&&!Cb})))Xb&&Cb&&ot(Rb,"name","ArrayBuffer");else{(Db=function(e){return ks(this,Nb),new Rb(hb(e))}).prototype=Nb;for(var Qb,Zb=Sb(Rb),eM=0;Zb.length>eM;)(Qb=Zb[eM++])in Db||ot(Db,Qb,Rb[Qb]);Nb.constructor=Db}to&&Vr(Lb)!==Pb&&to(Lb,Pb);var tM=new kb(new Db(2)),nM=H(Lb.setInt8);tM.setInt8(0,2147483648),tM.setInt8(1,2147483649),!tM.getInt8(0)&&tM.getInt8(1)||ws(Lb,{setInt8:function(e,t){nM(this,e,t<<24>>24)},setUint8:function(e,t){nM(this,e,t<<24>>24)}},{unsafe:!0})}else Nb=(Db=function(e){ks(this,Nb);var t=hb(e);wb(this,{bytes:Ub(xb(t),0),byteLength:t}),k||(this.byteLength=t)}).prototype,Lb=(kb=function(e,t,n){ks(this,Lb),ks(e,Nb);var r=Ab(e).byteLength,o=Rt(t);if(o<0||o>r)throw Gb("Wrong offset");if(o+(n=void 0===n?r-o:Pt(n))>r)throw Gb("Wrong length");wb(this,{buffer:e,byteLength:n,byteOffset:o}),k||(this.buffer=e,this.byteLength=n,this.byteOffset=o)}).prototype,k&&(zb(Db,"byteLength"),zb(kb,"buffer"),zb(kb,"byteLength"),zb(kb,"byteOffset")),ws(Lb,{getInt8:function(e){return Yb(this,1,e)[0]<<24>>24},getUint8:function(e){return Yb(this,1,e)[0]},getInt16:function(e){var t=Yb(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Yb(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return Hb(Yb(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return Hb(Yb(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return qb(Yb(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return qb(Yb(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Jb(this,1,e,Bb,t)},setUint8:function(e,t){Jb(this,1,e,Bb,t)},setInt16:function(e,t){Jb(this,2,e,Vb,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Jb(this,2,e,Vb,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Jb(this,4,e,$b,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Jb(this,4,e,$b,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Jb(this,4,e,Kb,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Jb(this,8,e,Wb,t,arguments.length>2?arguments[2]:void 0)}});Yr(Db,"ArrayBuffer"),Yr(kb,"DataView");var rM={ArrayBuffer:Db,DataView:kb},oM=rM.ArrayBuffer,iM=rM.DataView,aM=iM.prototype,sM=H(oM.prototype.slice),cM=H(aM.getUint8),uM=H(aM.setUint8),lM=N((function(){return!new oM(2).slice(1,void 0).byteLength}));rn({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:lM},{slice:function(e,t){if(sM&&void 0===t)return sM(Qe(this),e);for(var n=Qe(this).byteLength,r=kt(e,n),o=kt(void 0===t?n:t,n),i=new(qs(this,oM))(Pt(o-r)),a=new iM(this),s=new iM(i),c=0;r<o;)uM(s,c++,cM(a,r++));return i}});var fM,pM,dM,hM=rt.f,gM=D.Int8Array,vM=gM&&gM.prototype,mM=D.Uint8ClampedArray,_M=mM&&mM.prototype,yM=gM&&Vr(gM),bM=vM&&Vr(vM),MM=Object.prototype,EM=D.TypeError,IM=Ue("toStringTag"),SM=ke("TYPED_ARRAY_TAG"),TM=ke("TYPED_ARRAY_CONSTRUCTOR"),OM=pb&&!!to&&"Opera"!==ln(D.opera),CM=!1,AM={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},wM={BigInt64Array:8,BigUint64Array:8},RM=function(e){if(!ne(e))return!1;var t=ln(e);return we(AM,t)||we(wM,t)};for(fM in AM)(dM=(pM=D[fM])&&pM.prototype)?ot(dM,TM,pM):OM=!1;for(fM in wM)(dM=(pM=D[fM])&&pM.prototype)&&ot(dM,TM,pM);if((!OM||!te(yM)||yM===Function.prototype)&&(yM=function(){throw EM("Incorrect invocation")},OM))for(fM in AM)D[fM]&&to(D[fM],yM);if((!OM||!bM||bM===MM)&&(bM=yM.prototype,OM))for(fM in AM)D[fM]&&to(D[fM].prototype,bM);if(OM&&Vr(_M)!==bM&&to(_M,bM),k&&!we(bM,IM))for(fM in CM=!0,hM(bM,IM,{get:function(){return ne(this)?this[SM]:void 0}}),AM)D[fM]&&ot(D[fM],SM,fM);var DM={NATIVE_ARRAY_BUFFER_VIEWS:OM,TYPED_ARRAY_CONSTRUCTOR:TM,TYPED_ARRAY_TAG:CM&&SM,aTypedArray:function(e){if(RM(e))return e;throw EM("Target is not a typed array")},aTypedArrayConstructor:function(e){if(te(e)&&(!to||ie(yM,e)))return e;throw EM(me(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(k){if(n)for(var o in AM){var i=D[o];if(i&&we(i.prototype,e))try{delete i.prototype[e]}catch(oS){try{i.prototype[e]=t}catch(s){}}}bM[e]&&!n||Ct(bM,e,n?t:OM&&vM[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,o;if(k){if(to){if(n)for(r in AM)if((o=D[r])&&we(o,e))try{delete o[e]}catch(oS){}if(yM[e]&&!n)return;try{return Ct(yM,e,n?t:OM&&yM[e]||t)}catch(oS){}}for(r in AM)!(o=D[r])||o[e]&&!n||Ct(o,e,t)}},isView:function(e){if(!ne(e))return!1;var t=ln(e);return"DataView"===t||we(AM,t)||we(wM,t)},isTypedArray:RM,TypedArray:yM,TypedArrayPrototype:bM},NM=DM.NATIVE_ARRAY_BUFFER_VIEWS,kM=D.ArrayBuffer,LM=D.Int8Array,PM=!NM||!N((function(){LM(1)}))||!N((function(){new LM(-1)}))||!wr((function(e){new LM,new LM(null),new LM(1.5),new LM(e)}),!0)||N((function(){return 1!==new LM(new kM(2),1,void 0).length})),xM=Math.floor,GM=Number.isInteger||function(e){return!ne(e)&&isFinite(e)&&xM(e)===e},UM=D.RangeError,FM=D.RangeError,jM=function(e,t){var n=function(e){var t=Rt(e);if(t<0)throw UM("The argument can't be less than 0");return t}(e);if(n%t)throw FM("Wrong offset");return n},qM=DM.aTypedArrayConstructor,BM=function(e){var t,n,r,o,i,a,s=Fs(this),c=Ce(e),u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,p=br(c);if(p&&!mr(p))for(a=(i=Er(c,p)).next,c=[];!(o=x(a,i)).done;)c.push(o.value);for(f&&u>2&&(l=Un(l,arguments[2])),n=xt(c),r=new(qM(s))(n),t=0;n>t;t++)r[t]=f?l(c[t],t):c[t];return r};C((function(e){var t=$t.f,n=er.forEach,r=Et.get,o=Et.set,i=rt.f,a=ze.f,s=Math.round,c=D.RangeError,u=rM.ArrayBuffer,l=u.prototype,f=rM.DataView,p=DM.NATIVE_ARRAY_BUFFER_VIEWS,d=DM.TYPED_ARRAY_CONSTRUCTOR,h=DM.TYPED_ARRAY_TAG,g=DM.TypedArray,v=DM.TypedArrayPrototype,m=DM.aTypedArrayConstructor,_=DM.isTypedArray,y=function(e,t){m(e);for(var n=0,r=t.length,o=new e(r);r>n;)o[n]=t[n++];return o},b=function(e,t){i(e,t,{get:function(){return r(this)[t]}})},M=function(e){var t;return ie(l,e)||"ArrayBuffer"==(t=ln(e))||"SharedArrayBuffer"==t},E=function(e,t){return _(e)&&!ge(t)&&t in e&&GM(+t)&&t>=0},I=function(e,t){return t=Be(t),E(e,t)?j(2,e[t]):a(e,t)},S=function(e,t,n){return t=Be(t),!(E(e,t)&&ne(n)&&we(n,"value"))||we(n,"get")||we(n,"set")||n.configurable||we(n,"writable")&&!n.writable||we(n,"enumerable")&&!n.enumerable?i(e,t,n):(e[t]=n.value,e)};k?(p||(ze.f=I,rt.f=S,b(v,"buffer"),b(v,"byteOffset"),b(v,"byteLength"),b(v,"length")),rn({target:"Object",stat:!0,forced:!p},{getOwnPropertyDescriptor:I,defineProperty:S}),e.exports=function(e,a,l){var m=e.match(/\d+$/)[0]/8,b=e+(l?"Clamped":"")+"Array",E="get"+e,I="set"+e,S=D[b],T=S,O=T&&T.prototype,C={},A=function(e,t){i(e,t,{get:function(){return function(e,t){var n=r(e);return n.view[E](t*m+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var o=r(e);l&&(n=(n=s(n))<0?0:n>255?255:255&n),o.view[I](t*m+o.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};p?PM&&(T=a((function(e,t,n,r){return ks(e,O),Fo(ne(t)?M(t)?void 0!==r?new S(t,jM(n,m),r):void 0!==n?new S(t,jM(n,m)):new S(t):_(t)?y(T,t):x(BM,T,t):new S(hb(t)),e,T)})),to&&to(T,g),n(t(S),(function(e){e in T||ot(T,e,S[e])})),T.prototype=O):(T=a((function(e,t,n,r){ks(e,O);var i,a,s,l=0,p=0;if(ne(t)){if(!M(t))return _(t)?y(T,t):x(BM,T,t);i=t,p=jM(n,m);var d=t.byteLength;if(void 0===r){if(d%m)throw c("Wrong length");if((a=d-p)<0)throw c("Wrong length")}else if((a=Pt(r)*m)+p>d)throw c("Wrong length");s=a/m}else s=hb(t),i=new u(a=s*m);for(o(e,{buffer:i,byteOffset:p,byteLength:a,length:s,view:new f(i)});l<s;)A(e,l++)})),to&&to(T,g),O=T.prototype=xn(v)),O.constructor!==T&&ot(O,"constructor",T),ot(O,d,T),h&&ot(O,h,b),C[b]=T,rn({global:!0,forced:T!=S,sham:!p},C),"BYTES_PER_ELEMENT"in T||ot(T,"BYTES_PER_ELEMENT",m),"BYTES_PER_ELEMENT"in O||ot(O,"BYTES_PER_ELEMENT",m),Ds(b)}):e.exports=function(){}}))("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}));var VM=Math.min,$M=H([].copyWithin||function(e,t){var n=Ce(this),r=xt(n),o=kt(e,r),i=kt(t,r),a=arguments.length>2?arguments[2]:void 0,s=VM((void 0===a?r:kt(a,r))-i,r-o),c=1;for(i<o&&o<i+s&&(c=-1,i+=s-1,o+=s-1);s-- >0;)i in n?n[o]=n[i]:delete n[o],o+=c,i+=c;return n}),HM=DM.aTypedArray;(0,DM.exportTypedArrayMethod)("copyWithin",(function(e,t){return $M(HM(this),e,t,arguments.length>2?arguments[2]:void 0)}));var KM=er.every,WM=DM.aTypedArray;(0,DM.exportTypedArrayMethod)("every",(function(e){return KM(WM(this),e,arguments.length>1?arguments[1]:void 0)}));var zM=DM.aTypedArray;(0,DM.exportTypedArrayMethod)("fill",(function(e){var t=arguments.length;return x(Ib,zM(this),e,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}));var YM=DM.TYPED_ARRAY_CONSTRUCTOR,JM=DM.aTypedArrayConstructor,XM=function(e){return JM(qs(e,e[YM]))},QM=function(e,t){return function(e,t){for(var n=0,r=xt(t),o=new e(r);r>n;)o[n]=t[n++];return o}(XM(e),t)},ZM=er.filter,eE=DM.aTypedArray;(0,DM.exportTypedArrayMethod)("filter",(function(e){var t=ZM(eE(this),e,arguments.length>1?arguments[1]:void 0);return QM(this,t)}));var tE=er.find,nE=DM.aTypedArray;(0,DM.exportTypedArrayMethod)("find",(function(e){return tE(nE(this),e,arguments.length>1?arguments[1]:void 0)}));var rE=er.findIndex,oE=DM.aTypedArray;(0,DM.exportTypedArrayMethod)("findIndex",(function(e){return rE(oE(this),e,arguments.length>1?arguments[1]:void 0)}));var iE=er.forEach,aE=DM.aTypedArray;(0,DM.exportTypedArrayMethod)("forEach",(function(e){iE(aE(this),e,arguments.length>1?arguments[1]:void 0)}));var sE=Ut.includes,cE=DM.aTypedArray;(0,DM.exportTypedArrayMethod)("includes",(function(e){return sE(cE(this),e,arguments.length>1?arguments[1]:void 0)}));var uE=Ut.indexOf,lE=DM.aTypedArray;(0,DM.exportTypedArrayMethod)("indexOf",(function(e){return uE(lE(this),e,arguments.length>1?arguments[1]:void 0)}));var fE=Ue("iterator"),pE=D.Uint8Array,dE=H(Va.values),hE=H(Va.keys),gE=H(Va.entries),vE=DM.aTypedArray,mE=DM.exportTypedArrayMethod,_E=pE&&pE.prototype,yE=!N((function(){_E[fE].call([1])})),bE=!!_E&&_E.values&&_E[fE]===_E.values&&"values"===_E.values.name,ME=function(){return dE(vE(this))};mE("entries",(function(){return gE(vE(this))}),yE),mE("keys",(function(){return hE(vE(this))}),yE),mE("values",ME,yE||!bE,{name:"values"}),mE(fE,ME,yE||!bE,{name:"values"});var EE=DM.aTypedArray,IE=DM.exportTypedArrayMethod,SE=H([].join);IE("join",(function(e){return SE(EE(this),e)}));var TE=DM.aTypedArray;(0,DM.exportTypedArrayMethod)("lastIndexOf",(function(e){var t=arguments.length;return Ia(f_,TE(this),t>1?[e,arguments[1]]:[e])}));var OE=er.map,CE=DM.aTypedArray;(0,DM.exportTypedArrayMethod)("map",(function(e){return OE(CE(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(XM(e))(t)}))}));var AE=D.TypeError,wE=function(e){return function(t,n,r,o){ye(n);var i=Ce(t),a=X(i),s=xt(i),c=e?s-1:0,u=e?-1:1;if(r<2)for(;;){if(c in a){o=a[c],c+=u;break}if(c+=u,e?c<0:s<=c)throw AE("Reduce of empty array with no initial value")}for(;e?c>=0:s>c;c+=u)c in a&&(o=n(o,a[c],c,i));return o}},RE={left:wE(!1),right:wE(!0)},DE=RE.left,NE=DM.aTypedArray;(0,DM.exportTypedArrayMethod)("reduce",(function(e){var t=arguments.length;return DE(NE(this),e,t,t>1?arguments[1]:void 0)}));var kE=RE.right,LE=DM.aTypedArray;(0,DM.exportTypedArrayMethod)("reduceRight",(function(e){var t=arguments.length;return kE(LE(this),e,t,t>1?arguments[1]:void 0)}));var PE=DM.aTypedArray,xE=DM.exportTypedArrayMethod,GE=Math.floor;xE("reverse",(function(){for(var e,t=PE(this).length,n=GE(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this}));var UE=D.RangeError,FE=D.Int8Array,jE=FE&&FE.prototype,qE=jE&&jE.set,BE=DM.aTypedArray,VE=DM.exportTypedArrayMethod,$E=!N((function(){var e=new Uint8ClampedArray(2);return x(qE,e,{length:1,0:3},1),3!==e[1]})),HE=$E&&DM.NATIVE_ARRAY_BUFFER_VIEWS&&N((function(){var e=new FE(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));VE("set",(function(e){BE(this);var t=jM(arguments.length>1?arguments[1]:void 0,1),n=Ce(e);if($E)return x(qE,this,n,t);var r=this.length,o=xt(n),i=0;if(o+t>r)throw UE("Wrong length");for(;i<o;)this[t+i]=n[i++]}),!$E||HE);var KE=DM.aTypedArray;(0,DM.exportTypedArrayMethod)("slice",(function(e,t){for(var n=go(KE(this),e,t),r=XM(this),o=0,i=n.length,a=new r(i);i>o;)a[o]=n[o++];return a}),N((function(){new Int8Array(1).slice()})));var WE=er.some,zE=DM.aTypedArray;(0,DM.exportTypedArrayMethod)("some",(function(e){return WE(zE(this),e,arguments.length>1?arguments[1]:void 0)}));var YE=D.Array,JE=DM.aTypedArray,XE=DM.exportTypedArrayMethod,QE=D.Uint16Array,ZE=QE&&H(QE.prototype.sort),eI=!(!ZE||N((function(){ZE(new QE(2),null)}))&&N((function(){ZE(new QE(2),{})}))),tI=!!ZE&&!N((function(){if(fe)return fe<74;if(k_)return k_<67;if(L_)return!0;if(x_)return x_<602;var e,t,n=new QE(516),r=YE(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(ZE(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0}));XE("sort",(function(e){return void 0!==e&&ye(e),tI?ZE(this,e):Jg(JE(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!tI||eI);var nI=DM.aTypedArray;(0,DM.exportTypedArrayMethod)("subarray",(function(e,t){var n=nI(this),r=n.length,o=kt(e,r);return new(XM(n))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,Pt((void 0===t?r:kt(t,r))-o))}));var rI=D.Int8Array,oI=DM.aTypedArray,iI=DM.exportTypedArrayMethod,aI=[].toLocaleString,sI=!!rI&&N((function(){aI.call(new rI(1))}));iI("toLocaleString",(function(){return Ia(aI,sI?go(oI(this)):oI(this),go(arguments))}),N((function(){return[1,2].toLocaleString()!=new rI([1,2]).toLocaleString()}))||!N((function(){rI.prototype.toLocaleString.call([1,2])})));var cI=DM.exportTypedArrayMethod,uI=D.Uint8Array,lI=uI&&uI.prototype||{},fI=[].toString,pI=H([].join);N((function(){fI.call({})}))&&(fI=function(){return pI(this)});var dI=lI.toString!=fI;cI("toString",fI,dI);var hI=D.RangeError,gI=String.fromCharCode,vI=String.fromCodePoint,mI=H([].join),_I=!!vI&&1!=vI.length;rn({target:"String",stat:!0,forced:_I},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,o=0;r>o;){if(t=+arguments[o++],kt(t,1114111)!==t)throw hI(t+" is not a valid code point");n[o]=t<65536?gI(t):gI(55296+((t-=65536)>>10),t%1024+56320)}return mI(n,"")}});var yI=String.fromCharCode,bI=function(e){var t=0|e.charCodeAt(0);if(55296<=t)if(t<56320){var n=0|e.charCodeAt(1);if(56320<=n&&n<=57343){if((t=(t<<10)+n-56613888|0)>65535)return yI(240|t>>>18,128|t>>>12&63,128|t>>>6&63,128|63&t)}else t=65533}else t<=57343&&(t=65533);return t<=2047?yI(192|t>>>6,128|63&t):yI(224|t>>>12,128|t>>>6&63,128|63&t)},MI=function(e){for(var t=void 0===e?"":(""+e).replace(/[\x80-\uD7ff\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,bI),n=0|t.length,r=new Uint8Array(n),o=0;o<n;o=o+1|0)r[o]=0|t.charCodeAt(o);return r},EI=function(e){for(var t=new Uint8Array(e),n="",r=0,o=t.length;r<o;){var i=t[r],a=0,s=0;if(i<=127?(a=0,s=255&i):i<=223?(a=1,s=31&i):i<=239?(a=2,s=15&i):i<=244&&(a=3,s=7&i),o-r-a>0)for(var c=0;c<a;)s=s<<6|63&(i=t[r+c+1]),c+=1;else s=65533,a=o-r;n+=String.fromCodePoint(s),r+=a+1}return n},II=function(){function e(t){o(this,e),this._handler=t;var n=t.getURL();if(this._socket=null,this._workerSocket=null,this._id=ff(),this._handler.getIsWorkerEnabled()){var r=URL.createObjectURL(new Blob([';let _socket = null;onmessage = function(event) {  if (event.data.cmd === "start") {    const url = event.data.url;    _socket = new WebSocket(url);    _socket.binaryType = "arraybuffer";    _socket.onopen = function() {      postMessage({ callback: "onOpen" });    };    _socket.onclose = function(e) {      postMessage({ callback: "onOpen", e: { code: e.code, reason: e.reason } });    };    _socket.onmessage = function(e) {      postMessage({ callback: "onMessage", data: e.data });    };    _socket.onerror = function(e) {      postMessage({ callback: "onError", e: { isTrusted: "true" } });    };  } else if (event.data.cmd === "sendMessage") {    if (_socket !== null) {      _socket.send(event.data.data);    }  } else if (event.data.cmd === "stop") {    if (_socket !== null) {      _socket.close(event.data.code);      _socket = null;    }  }};'],{type:"application/javascript; charset=utf-8"}));this._workerSocket=new Worker(r);var i=this;this._workerSocket.onmessage=function(e){var t=e.data,n=t.callback,r=t.e;"onOpen"===n?i._onOpen():"onClose"===n?i._onClose(r):"onError"===n?i._onError(r):"onMessage"===n&&i._onMessage(e.data)},this._workerSocket.postMessage({cmd:"start",id:this._id,url:n})}else Hu?Bu?(Wu.connectSocket({url:n,header:{"content-type":"application/json"}}),Wu.onSocketClose(this._onClose.bind(this)),Wu.onSocketOpen(this._onOpen.bind(this)),Wu.onSocketMessage(this._onMessage.bind(this)),Wu.onSocketError(this._onError.bind(this))):(this._socket=Wu.connectSocket({url:n,header:{"content-type":"application/json"},complete:function(){}}),this._socket.onClose(this._onClose.bind(this)),this._socket.onOpen(this._onOpen.bind(this)),this._socket.onMessage(this._onMessage.bind(this)),this._socket.onError(this._onError.bind(this))):Ku&&(this._socket=new WebSocket(n),this._socket.binaryType="arraybuffer",this._socket.onopen=this._onOpen.bind(this),this._socket.onmessage=this._onMessage.bind(this),this._socket.onclose=this._onClose.bind(this),this._socket.onerror=this._onError.bind(this));this._canIUseBinaryFrame=t.canIUseBinaryFrame()}return a(e,[{key:"getID",value:function(){return this._id}},{key:"_onOpen",value:function(){this._handler.onOpen({id:this._id})}},{key:"_onClose",value:function(e){this._handler.onClose({id:this._id,e:e})}},{key:"_onMessage",value:function(e){this._handler.onMessage({data:this._canIUseBinaryFrame?EI(e.data):e.data})}},{key:"_onError",value:function(e){this._handler.onError({id:this._id,e:e})}},{key:"setIsWorkerEnabled",value:function(e){this._isWorkerEnabled=!0}},{key:"close",value:function(e){if(this._workerSocket&&(this._workerSocket.postMessage({cmd:"stop",code:e}),this._workerSocket.terminate(),this._workerSocket=null),Bu)return Wu.offSocketClose(),Wu.offSocketMessage(),Wu.offSocketOpen(),Wu.offSocketError(),void Wu.closeSocket();this._socket&&(Hu?(this._socket.onClose((function(){})),this._socket.onOpen((function(){})),this._socket.onMessage((function(){})),this._socket.onError((function(){}))):Ku&&(this._socket.onopen=null,this._socket.onmessage=null,this._socket.onclose=null,this._socket.onerror=null),qu?this._socket.close({code:e}):this._socket.close(e),this._socket=null)}},{key:"send",value:function(e){if(this._workerSocket)this._workerSocket.postMessage({cmd:"sendMessage",data:this._canIUseBinaryFrame?MI(e.data).buffer:e.data});else{if(Bu)return void Wu.sendSocketMessage({data:e.data,fail:function(){e.fail&&e.requestID&&e.fail(e.requestID)}});this._socket&&(Hu?this._socket.send({data:this._canIUseBinaryFrame?MI(e.data).buffer:e.data,fail:function(){e.fail&&e.requestID&&e.fail(e.requestID)}}):Ku&&this._socket.send(this._canIUseBinaryFrame?MI(e.data).buffer:e.data))}}}]),e}(),SI=4e3,TI=4001,OI=["keyMap"],CI=["keyMap"],AI="connected",wI="connecting",RI="disconnected",DI=function(){function e(t){o(this,e),this._channelModule=t,this._className="SocketHandler",this._promiseMap=new Map,this._readyState=RI,this._simpleRequestMap=new Map,this.MAX_SIZE=100,this._startSequence=ff(),this._startTs=0,this._reConnectFlag=!1,this._nextPingTs=0,this._reConnectCount=0,this.MAX_RECONNECT_COUNT=3,this._socketID=-1,this._random=0,this._socket=null,this._url="",this._onOpenTs=0,this._canIUseBinaryFrame=!0,this._isWorkerEnabled=!0,this._setWebsocketHost(),this._initConnection()}return a(e,[{key:"_setWebsocketHost",value:function(){var e=this._channelModule.getModule(cd),t=wu;this._channelModule.isOversea()&&(t=Ru),e.isSingaporeSite()?t=Du:e.isKoreaSite()?t=Nu:e.isGermanySite()?t=ku:e.isIndiaSite()&&(t=Lu),Pu.HOST.setCurrent(t)}},{key:"_initConnection",value:function(){Zl(Pu.HOST.CURRENT.BACKUP)||""===this._url?this._url=Pu.HOST.CURRENT.DEFAULT:this._url===Pu.HOST.CURRENT.DEFAULT?this._url=Pu.HOST.CURRENT.BACKUP:this._url===Pu.HOST.CURRENT.BACKUP&&(this._url=Pu.HOST.CURRENT.DEFAULT);var e=this._channelModule.getModule(cd).getProxyServer();jf(e)||(this._url=e),this._connect(),this._nextPingTs=0}},{key:"onCheckTimer",value:function(e){e%1==0&&this._checkPromiseMap()}},{key:"_checkPromiseMap",value:function(){var e=this;0!==this._promiseMap.size&&this._promiseMap.forEach((function(t,n){var r=t.reject,o=t.timestamp,i=15e3;-1!==n.indexOf(Td)&&(i=9e4),Date.now()-o>=i&&(xl.log("".concat(e._className,"._checkPromiseMap request timeout, delete requestID:").concat(n)),e._promiseMap.delete(n),r(new O_({code:eg.NETWORK_TIMEOUT,message:tg.NETWORK_TIMEOUT})),e._channelModule.onRequestTimeout(n))}))}},{key:"onOpen",value:function(e){if(""!==this._readyState){this._onOpenTs=Date.now();var t=e.id;this._socketID=t;var n=Date.now()-this._startTs;xl.log("".concat(this._className,"._onOpen cost ").concat(n," ms. socketID:").concat(t)),new vg(mg.WS_ON_OPEN).setMessage(n).setCostTime(n).setMoreMessage("socketID:".concat(t)).end(),e.id===this._socketID&&(this._readyState=AI,this._reConnectCount=0,this._resend(),!0===this._reConnectFlag&&(this._channelModule.onReconnected(),this._reConnectFlag=!1),this._channelModule.onOpen())}}},{key:"onClose",value:function(e){var t=new vg(mg.WS_ON_CLOSE),n=e.id,r=e.e,o="sourceSocketID:".concat(n," currentSocketID:").concat(this._socketID," code:").concat(r.code," reason:").concat(r.reason),i=0;0!==this._onOpenTs&&(i=Date.now()-this._onOpenTs),t.setMessage(i).setCostTime(i).setMoreMessage(o).setCode(r.code).end(),xl.log("".concat(this._className,"._onClose ").concat(o," onlineTime:").concat(i)),n===this._socketID&&(this._readyState=RI,i<1e3?this._channelModule.onReconnectFailed():this._channelModule.onClose())}},{key:"onError",value:function(e){var t=e.id,n=e.e,r="sourceSocketID:".concat(t," currentSocketID:").concat(this._socketID);new vg(mg.WS_ON_ERROR).setMessage(n.errMsg||uf(n)).setMoreMessage(r).setLevel("error").end(),xl.warn("".concat(this._className,"._onError"),n,r),t===this._socketID&&(this._readyState="",this._channelModule.onError())}},{key:"onMessage",value:function(e){var t;try{t=JSON.parse(e.data)}catch(oS){new vg(mg.JSON_PARSE_ERROR).setMessage(e.data).end()}if(t&&t.head){var n=this._getRequestIDFromHead(t.head),r=kf(t.head),o=fb(t.body,this._getResponseKeyMap(r));if(xl.debug("".concat(this._className,".onMessage ret:").concat(JSON.stringify(o)," requestID:").concat(n," has:").concat(this._promiseMap.has(n))),this._setNextPingTs(),this._promiseMap.has(n)){var i=this._promiseMap.get(n),a=i.resolve,s=i.reject,c=i.timestamp;return this._promiseMap.delete(n),this._calcRTT(c),void(o.errorCode&&0!==o.errorCode?(this._channelModule.onErrorCodeNotZero(o),s(new O_({code:o.errorCode,message:o.errorInfo||"",data:{elements:o.elements,messageVersion:o.messageVersion,cloudCustomData:o.cloudCustomData}}))):a(b_(o)))}this._channelModule.onMessage({head:t.head,body:o})}}},{key:"_calcRTT",value:function(e){var t=Date.now()-e;this._channelModule.getModule(Ed).addRTT(t)}},{key:"_connect",value:function(){this._startTs=Date.now(),this._onOpenTs=0,this._socket=new II(this),this._socketID=this._socket.getID(),this._readyState=wI,xl.log("".concat(this._className,"._connect isWorkerEnabled:").concat(this.getIsWorkerEnabled()," socketID:").concat(this._socketID," url:").concat(this.getURL())),new vg(mg.WS_CONNECT).setMessage("socketID:".concat(this._socketID," url:").concat(this.getURL())).end()}},{key:"getURL",value:function(){var e=this._channelModule.getModule(cd);e.isDevMode()&&(this._canIUseBinaryFrame=!1);var t=Rf();(Bu||Uu&&"windows"===t||Vu)&&(this._canIUseBinaryFrame=!1);var n=-1;"ios"===t?n=tl||-1:"android"===t&&(n=rl||-1);var r=this._channelModule.getPlatform(),o=e.getSDKAppID(),i=e.getInstanceID();return this._canIUseBinaryFrame?"".concat(this._url,"/binfo?sdkappid=").concat(o,"&instanceid=").concat(i,"&random=").concat(this._getRandom(),"&platform=").concat(r,"&host=").concat(t,"&version=").concat(n):"".concat(this._url,"/info?sdkappid=").concat(o,"&instanceid=").concat(i,"&random=").concat(this._getRandom(),"&platform=").concat(r,"&host=").concat(t,"&version=").concat(n)}},{key:"_closeConnection",value:function(e){xl.log("".concat(this._className,"._closeConnection socketID:").concat(this._socketID)),this._socket&&(this._socket.close(e),this._socketID=-1,this._socket=null,this._readyState=RI)}},{key:"_resend",value:function(){var e=this;if(xl.log("".concat(this._className,"._resend reConnectFlag:").concat(this._reConnectFlag),"promiseMap.size:".concat(this._promiseMap.size," simpleRequestMap.size:").concat(this._simpleRequestMap.size)),this._promiseMap.size>0&&this._promiseMap.forEach((function(t,n){var r=t.uplinkData,o=t.resolve,i=t.reject;e._promiseMap.set(n,{resolve:o,reject:i,timestamp:Date.now(),uplinkData:r}),e._execute(n,r)})),this._simpleRequestMap.size>0){var t,n=T(this._simpleRequestMap);try{for(n.s();!(t=n.n()).done;){var r=_(t.value,2),o=r[0],i=r[1];this._execute(o,i)}}catch(s){n.e(s)}finally{n.f()}this._simpleRequestMap.clear()}}},{key:"send",value:function(e){var t=this;e.head.seq=this._getSequence(),e.head.reqtime=Math.floor(Date.now()/1e3),e.keyMap;var n=h(e,OI),r=this._getRequestIDFromHead(e.head),o=JSON.stringify(n);return new Promise((function(e,i){t._promiseMap.set(r,{resolve:e,reject:i,timestamp:Date.now(),uplinkData:o}),xl.debug("".concat(t._className,".send uplinkData:").concat(JSON.stringify(n)," requestID:").concat(r," readyState:").concat(t._readyState)),t._readyState!==AI?t._reConnect():(t._execute(r,o),t._channelModule.getModule(Ed).addRequestCount())}))}},{key:"simplySend",value:function(e){e.head.seq=this._getSequence(),e.head.reqtime=Math.floor(Date.now()/1e3),e.keyMap;var t=h(e,CI),n=this._getRequestIDFromHead(e.head),r=JSON.stringify(t);this._readyState!==AI?(this._simpleRequestMap.size<this.MAX_SIZE?this._simpleRequestMap.set(n,r):xl.log("".concat(this._className,".simplySend. simpleRequestMap is full, drop request!")),this._reConnect()):this._execute(n,r)}},{key:"_execute",value:function(e,t){this._socket.send({data:t,fail:Hu?this._onSendFail.bind(this):void 0,requestID:e})}},{key:"_onSendFail",value:function(e){xl.log("".concat(this._className,"._onSendFail requestID:").concat(e))}},{key:"_getSequence",value:function(){var e;if(this._startSequence<2415919103)return e=this._startSequence,this._startSequence+=1,2415919103===this._startSequence&&(this._startSequence=ff()),e}},{key:"_getRequestIDFromHead",value:function(e){return e.servcmd+e.seq}},{key:"_getResponseKeyMap",value:function(e){var t=this._channelModule.getKeyMap(e);return n(n({},ib.response),t.response)}},{key:"_reConnect",value:function(){this._readyState!==AI&&this._readyState!==wI&&this.forcedReconnect()}},{key:"forcedReconnect",value:function(){var e=this;xl.log("".concat(this._className,".forcedReconnect count:").concat(this._reConnectCount," readyState:").concat(this._readyState)),this._reConnectFlag=!0,this._resetRandom(),this._reConnectCount<this.MAX_RECONNECT_COUNT?(this._reConnectCount+=1,this._closeConnection(TI),this._initConnection()):(this._reConnectCount=0,this._channelModule.probeNetwork().then((function(t){var n=_(t,2),r=n[0];n[1],r?(xl.warn("".concat(e._className,".forcedReconnect disconnected from wsserver but network is ok, continue...")),e._closeConnection(TI),e._initConnection()):e._channelModule.onReconnectFailed()})))}},{key:"getReconnectFlag",value:function(){return this._reConnectFlag}},{key:"_setNextPingTs",value:function(){this._nextPingTs=Date.now()+1e4}},{key:"getNextPingTs",value:function(){return this._nextPingTs}},{key:"isConnected",value:function(){return this._readyState===AI}},{key:"canIUseBinaryFrame",value:function(){return this._canIUseBinaryFrame}},{key:"setIsWorkerEnabled",value:function(e){xl.log("".concat(this._className,".setIsWorkerEnabled flag:").concat(e)),this._isWorkerEnabled=e}},{key:"getIsWorkerEnabled",value:function(){return this._isWorkerEnabled&&fl}},{key:"_getRandom",value:function(){return 0===this._random&&(this._random=Math.random()),this._random}},{key:"_resetRandom",value:function(){this._random=0}},{key:"close",value:function(){xl.log("".concat(this._className,".close")),this._closeConnection(SI),this._promiseMap.clear(),this._startSequence=ff(),this._readyState=RI,this._simpleRequestMap.clear(),this._reConnectFlag=!1,this._reConnectCount=0,this._onOpenTs=0,this._url="",this._random=0,this._canIUseBinaryFrame=!0,this._isWorkerEnabled=!0}}]),e}(),NI=function(e){c(n,e);var t=m(n);function n(e){var r;if(o(this,n),(r=t.call(this,e))._className="ChannelModule",r._socketHandler=new DI(g(r)),r._probing=!1,r._isAppShowing=!0,r._previousState=ho.NET_STATE_CONNECTED,Hu&&"function"==typeof Wu.onAppShow&&"function"==typeof Wu.onAppHide){var i=r._onAppHide.bind(g(r)),a=r._onAppShow.bind(g(r));"function"==typeof Wu.offAppHide&&Wu.offAppHide(i),"function"==typeof Wu.offAppShow&&Wu.offAppShow(a),Wu.onAppHide(i),Wu.onAppShow(a)}return r._timerForNotLoggedIn=-1,r._timerForNotLoggedIn=setInterval(r.onCheckTimer.bind(g(r)),1e3),r._fatalErrorFlag=!1,r}return a(n,[{key:"onCheckTimer",value:function(e){this._socketHandler&&(this.isLoggedIn()?(this._timerForNotLoggedIn>0&&(clearInterval(this._timerForNotLoggedIn),this._timerForNotLoggedIn=-1),this._socketHandler.onCheckTimer(e)):this._socketHandler.onCheckTimer(1),this._checkNextPing())}},{key:"onErrorCodeNotZero",value:function(e){this.getModule(vd).onErrorCodeNotZero(e)}},{key:"onMessage",value:function(e){this.getModule(vd).onMessage(e)}},{key:"send",value:function(e){return this._socketHandler?this._previousState!==ho.NET_STATE_CONNECTED&&e.head.servcmd.includes(Gh)?(this.reConnect(),this._sendLogViaHTTP(e)):this._socketHandler.send(e):Promise.reject()}},{key:"_sendLogViaHTTP",value:function(e){var t=Pu.HOST.CURRENT.STAT;return new Promise((function(n,r){var o="".concat(t,"/v4/imopenstat/tim_web_report_v2?sdkappid=").concat(e.head.sdkappid,"&reqtime=").concat(Date.now()),i=JSON.stringify(e.body),a="application/x-www-form-urlencoded;charset=UTF-8";if(Hu)Wu.request({url:o,data:i,method:"POST",timeout:3e3,header:{"content-type":a},success:function(){n()},fail:function(){r(new O_({code:eg.NETWORK_ERROR,message:tg.NETWORK_ERROR}))}});else{var s=new XMLHttpRequest,c=setTimeout((function(){s.abort(),r(new O_({code:eg.NETWORK_TIMEOUT,message:tg.NETWORK_TIMEOUT}))}),3e3);s.onreadystatechange=function(){4===s.readyState&&(clearTimeout(c),200===s.status||304===s.status?n():r(new O_({code:eg.NETWORK_ERROR,message:tg.NETWORK_ERROR})))},s.open("POST",o,!0),s.setRequestHeader("Content-type",a),s.send(i)}}))}},{key:"simplySend",value:function(e){return this._socketHandler?this._socketHandler.simplySend(e):Promise.reject()}},{key:"onOpen",value:function(){this._ping()}},{key:"onClose",value:function(){this._socketHandler&&this._socketHandler.getReconnectFlag()&&this._emitNetStateChangeEvent(ho.NET_STATE_DISCONNECTED),this.reConnect()}},{key:"onError",value:function(){Hu&&!Vu&&xl.error("".concat(this._className,".onError 从v2.11.2起，SDK 支持了 WebSocket，如您未添加相关受信域名，请先添加！(如已添加请忽略)，升级指引: https://web.sdk.qcloud.com/im/doc/zh-cn/tutorial-02-upgradeguideline.html")),this._emitNetStateChangeEvent(ho.NET_STATE_DISCONNECTED)}},{key:"getKeyMap",value:function(e){return this.getModule(vd).getKeyMap(e)}},{key:"_onAppHide",value:function(){this._isAppShowing=!1}},{key:"_onAppShow",value:function(){this._isAppShowing=!0}},{key:"onRequestTimeout",value:function(e){}},{key:"onReconnected",value:function(){xl.log("".concat(this._className,".onReconnected")),this.getModule(vd).onReconnected(),this._emitNetStateChangeEvent(ho.NET_STATE_CONNECTED)}},{key:"onReconnectFailed",value:function(){xl.log("".concat(this._className,".onReconnectFailed")),this._emitNetStateChangeEvent(ho.NET_STATE_DISCONNECTED)}},{key:"setIsWorkerEnabled",value:function(e){this._socketHandler&&this._socketHandler.setIsWorkerEnabled(!1)}},{key:"offline",value:function(){this._emitNetStateChangeEvent(ho.NET_STATE_DISCONNECTED)}},{key:"reConnect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!1;this._socketHandler&&(t=this._socketHandler.getReconnectFlag());var n="forcedFlag:".concat(e," fatalErrorFlag:").concat(this._fatalErrorFlag," previousState:").concat(this._previousState," reconnectFlag:").concat(t);if(xl.log("".concat(this._className,".reConnect ").concat(n)),!this._fatalErrorFlag&&this._socketHandler){if(!0===e)this._socketHandler.forcedReconnect();else{if(this._previousState===ho.NET_STATE_CONNECTING&&t)return;this._socketHandler.forcedReconnect()}this._emitNetStateChangeEvent(ho.NET_STATE_CONNECTING)}}},{key:"_emitNetStateChangeEvent",value:function(e){this._previousState!==e&&(xl.log("".concat(this._className,"._emitNetStateChangeEvent from ").concat(this._previousState," to ").concat(e)),this._previousState=e,this.emitOuterEvent(po.NET_STATE_CHANGE,{state:e}))}},{key:"_ping",value:function(){var e=this;if(!0!==this._probing){this._probing=!0;var t=this.getModule(vd).getProtocolData({protocolName:Uh});this.send(t).then((function(){e._probing=!1})).catch((function(t){if(xl.warn("".concat(e._className,"._ping failed. error:"),t),e._probing=!1,t&&60002===t.code)return new vg(mg.ERROR).setMessage("code:".concat(t.code," message:").concat(t.message)).setNetworkType(e.getModule(fd).getNetworkType()).end(),e._fatalErrorFlag=!0,void e._emitNetStateChangeEvent(ho.NET_STATE_DISCONNECTED);e.probeNetwork().then((function(t){var n=_(t,2),r=n[0],o=n[1];xl.log("".concat(e._className,"._ping failed. probe network, isAppShowing:").concat(e._isAppShowing," online:").concat(r," networkType:").concat(o)),r?e.reConnect():e._emitNetStateChangeEvent(ho.NET_STATE_DISCONNECTED)}))}))}}},{key:"_checkNextPing",value:function(){this._socketHandler&&this._socketHandler.isConnected()&&Date.now()>=this._socketHandler.getNextPingTs()&&this._ping()}},{key:"dealloc",value:function(){this._socketHandler&&(this._socketHandler.close(),this._socketHandler=null),this._timerForNotLoggedIn>-1&&clearInterval(this._timerForNotLoggedIn)}},{key:"onRestApiKickedOut",value:function(){this._socketHandler&&(this._socketHandler.close(),this.reConnect(!0))}},{key:"reset",value:function(){xl.log("".concat(this._className,".reset")),this._previousState=ho.NET_STATE_CONNECTED,this._probing=!1,this._fatalErrorFlag=!1,this._timerForNotLoggedIn=setInterval(this.onCheckTimer.bind(this),1e3)}}]),n}(Sd),kI=["a2","tinyid"],LI=["a2","tinyid"],PI=function(){function e(t){o(this,e),this._className="ProtocolHandler",this._sessionModule=t,this._configMap=new Map,this._fillConfigMap()}return a(e,[{key:"_fillConfigMap",value:function(){this._configMap.clear();var e=this._sessionModule.genCommonHead(),t=this._sessionModule.genCosSpecifiedHead(),r=this._sessionModule.genSSOReportHead();this._configMap.set(Td,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.IM_OPEN_STATUS,".").concat(Pu.CMD.LOGIN)}),body:{state:"Online"},keyMap:{response:{InstId:"instanceID",HelloInterval:"helloInterval"}}}}(e)),this._configMap.set(Od,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.IM_OPEN_STATUS,".").concat(Pu.CMD.LOGOUT)}),body:{type:0},keyMap:{request:{type:"wslogout_type"}}}}(e)),this._configMap.set(Cd,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.IM_OPEN_STATUS,".").concat(Pu.CMD.HELLO)}),body:{},keyMap:{response:{NewInstInfo:"newInstanceInfo"}}}}(e)),this._configMap.set(Ad,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.STAT_SERVICE,".").concat(Pu.CMD.KICK_OTHER)}),body:{}}}(e)),this._configMap.set(Lh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.IM_COS_SIGN,".").concat(Pu.CMD.COS_SIGN)}),body:{cmd:"open_im_cos_svc",subCmd:"get_cos_token",duration:300,version:2},keyMap:{request:{userSig:"usersig",subCmd:"sub_cmd",cmd:"cmd",duration:"duration",version:"version"},response:{expired_time:"expiredTime",bucket_name:"bucketName",session_token:"sessionToken",tmp_secret_id:"secretId",tmp_secret_key:"secretKey"}}}}(t)),this._configMap.set(Ph,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.CUSTOM_UPLOAD,".").concat(Pu.CMD.COS_PRE_SIG)}),body:{fileType:void 0,fileName:void 0,uploadMethod:0,duration:900},keyMap:{request:{userSig:"usersig",fileType:"file_type",fileName:"file_name",uploadMethod:"upload_method"},response:{expired_time:"expiredTime",request_id:"requestId",head_url:"headUrl",upload_url:"uploadUrl",download_url:"downloadUrl",ci_url:"ciUrl",snapshot_url:"requestSnapshotUrl"}}}}(t)),this._configMap.set(xh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.CUSTOM_UPLOAD,".").concat(Pu.CMD.VIDEO_COVER)}),body:{version:1,platform:void 0,coverName:void 0,requestSnapshotUrl:void 0},keyMap:{request:{version:"version",platform:"platform",coverName:"cover_name",requestSnapshotUrl:"snapshot_url"},response:{error_code:"errorCode",error_msg:"errorInfo",download_url:"snapshotUrl"}}}}(t)),this._configMap.set(Wh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.IM_CONFIG_MANAGER,".").concat(Pu.CMD.FETCH_COMMERCIAL_CONFIG)}),body:{SDKAppID:0},keyMap:{request:{SDKAppID:"uint32_sdkappid"},response:{int32_error_code:"errorCode",str_error_message:"errorMessage",str_purchase_bits:"purchaseBits",uint32_expired_time:"expiredTime"}}}}(e)),this._configMap.set(zh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.IM_CONFIG_MANAGER,".").concat(Pu.CMD.PUSHED_COMMERCIAL_CONFIG)}),body:{},keyMap:{response:{int32_error_code:"errorCode",str_error_message:"errorMessage",str_purchase_bits:"purchaseBits",uint32_expired_time:"expiredTime"}}}}(e)),this._configMap.set(Hh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.IM_CONFIG_MANAGER,".").concat(Pu.CMD.FETCH_CLOUD_CONTROL_CONFIG)}),body:{SDKAppID:0,version:0},keyMap:{request:{SDKAppID:"uint32_sdkappid",version:"uint64_version"},response:{int32_error_code:"errorCode",str_error_message:"errorMessage",str_json_config:"cloudControlConfig",uint32_expired_time:"expiredTime",uint32_sdkappid:"SDKAppID",uint64_version:"version"}}}}(e)),this._configMap.set(Kh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.IM_CONFIG_MANAGER,".").concat(Pu.CMD.PUSHED_CLOUD_CONTROL_CONFIG)}),body:{},keyMap:{response:{int32_error_code:"errorCode",str_error_message:"errorMessage",str_json_config:"cloudControlConfig",uint32_expired_time:"expiredTime",uint32_sdkappid:"SDKAppID",uint64_version:"version"}}}}(e)),this._configMap.set(Yh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.OVERLOAD_PUSH,".").concat(Pu.CMD.OVERLOAD_NOTIFY)}),body:{},keyMap:{response:{OverLoadServCmd:"overloadCommand",DelaySecs:"waitingTime"}}}}(e)),this._configMap.set(wd,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.OPEN_IM,".").concat(Pu.CMD.GET_MESSAGES)}),body:{cookie:"",syncFlag:0,needAbstract:1,isOnlineSync:0},keyMap:{request:{fromAccount:"From_Account",toAccount:"To_Account",from:"From_Account",to:"To_Account",time:"MsgTimeStamp",sequence:"MsgSeq",random:"MsgRandom",elements:"MsgBody"},response:{MsgList:"messageList",SyncFlag:"syncFlag",To_Account:"to",From_Account:"from",ClientSeq:"clientSequence",MsgSeq:"sequence",NoticeSeq:"noticeSequence",NotifySeq:"notifySequence",MsgRandom:"random",MsgTimeStamp:"time",MsgContent:"content",ToGroupId:"groupID",MsgKey:"messageKey",GroupTips:"groupTips",MsgBody:"elements",MsgType:"type",C2CRemainingUnreadCount:"C2CRemainingUnreadList",C2CPairUnreadCount:"C2CPairUnreadList"}}}}(e)),this._configMap.set(Rd,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.OPEN_IM,".").concat(Pu.CMD.BIG_DATA_HALLWAY_AUTH_KEY)}),body:{}}}(e)),this._configMap.set(Dd,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.OPEN_IM,".").concat(Pu.CMD.SEND_MESSAGE)}),body:{fromAccount:"",toAccount:"",msgSeq:0,msgRandom:0,msgBody:[],cloudCustomData:void 0,nick:"",avatar:"",msgLifeTime:void 0,offlinePushInfo:{pushFlag:0,title:"",desc:"",ext:"",apnsInfo:{badgeMode:0},androidInfo:{OPPOChannelID:""}},messageControlInfo:void 0,clientTime:void 0,needReadReceipt:0},keyMap:{request:{fromAccount:"From_Account",toAccount:"To_Account",msgTimeStamp:"MsgTimeStamp",msgSeq:"MsgSeq",msgRandom:"MsgRandom",msgBody:"MsgBody",count:"MaxCnt",lastMessageTime:"LastMsgTime",messageKey:"MsgKey",peerAccount:"Peer_Account",data:"Data",description:"Desc",extension:"Ext",type:"MsgType",content:"MsgContent",sizeType:"Type",uuid:"UUID",url:"",imageUrl:"URL",fileUrl:"Url",remoteAudioUrl:"Url",remoteVideoUrl:"VideoUrl",thumbUUID:"ThumbUUID",videoUUID:"VideoUUID",videoUrl:"",downloadFlag:"Download_Flag",nick:"From_AccountNick",avatar:"From_AccountHeadurl",from:"From_Account",time:"MsgTimeStamp",messageRandom:"MsgRandom",messageSequence:"MsgSeq",elements:"MsgBody",clientSequence:"ClientSeq",payload:"MsgContent",messageList:"MsgList",messageNumber:"MsgNum",abstractList:"AbstractList",messageBody:"MsgBody",needReadReceipt:"IsNeedReadReceipt"}}}}(e)),this._configMap.set(Nd,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.SEND_GROUP_MESSAGE)}),body:{fromAccount:"",groupID:"",random:0,clientSequence:0,priority:"",msgBody:[],cloudCustomData:void 0,onlineOnlyFlag:0,offlinePushInfo:{pushFlag:0,title:"",desc:"",ext:"",apnsInfo:{badgeMode:0},androidInfo:{OPPOChannelID:""}},groupAtInfo:[],messageControlInfo:void 0,clientTime:void 0,needReadReceipt:0,topicID:void 0},keyMap:{request:{to:"GroupId",extension:"Ext",data:"Data",description:"Desc",random:"Random",sequence:"ReqMsgSeq",count:"ReqMsgNumber",type:"MsgType",priority:"MsgPriority",content:"MsgContent",elements:"MsgBody",sizeType:"Type",uuid:"UUID",url:"",imageUrl:"URL",fileUrl:"Url",remoteAudioUrl:"Url",remoteVideoUrl:"VideoUrl",thumbUUID:"ThumbUUID",videoUUID:"VideoUUID",videoUrl:"",downloadFlag:"Download_Flag",clientSequence:"ClientSeq",from:"From_Account",time:"MsgTimeStamp",messageRandom:"MsgRandom",messageSequence:"MsgSeq",payload:"MsgContent",messageList:"MsgList",messageNumber:"MsgNum",abstractList:"AbstractList",messageBody:"MsgBody",needReadReceipt:"NeedReadReceipt"},response:{MsgTime:"time",MsgSeq:"sequence"}}}}(e)),this._configMap.set(Ud,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.OPEN_IM,".").concat(Pu.CMD.REVOKE_C2C_MESSAGE)}),body:{msgInfo:{fromAccount:"",toAccount:"",msgTimeStamp:0,msgSeq:0,msgRandom:0}},keyMap:{request:{msgInfo:"MsgInfo",msgTimeStamp:"MsgTimeStamp",msgSeq:"MsgSeq",msgRandom:"MsgRandom"}}}}(e)),this._configMap.set(uh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.REVOKE_GROUP_MESSAGE)}),body:{groupID:"",msgSeqList:void 0,topicID:""},keyMap:{request:{msgSeqList:"MsgSeqList",msgSeq:"MsgSeq"}}}}(e)),this._configMap.set(Bd,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.OPEN_IM,".").concat(Pu.CMD.GET_C2C_ROAM_MESSAGES)}),body:{peerAccount:"",count:15,lastMessageTime:0,messageKey:"",withRecalledMessage:1,direction:0},keyMap:{request:{messageKey:"MsgKey",peerAccount:"Peer_Account",count:"MaxCnt",lastMessageTime:"LastMsgTime",withRecalledMessage:"WithRecalledMsg",direction:"GetDirection"},response:{LastMsgTime:"lastMessageTime",IsNeedReadReceipt:"needReadReceipt"}}}}(e)),this._configMap.set(Hd,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.OPEN_IM,".").concat(Pu.CMD.MODIFY_C2C_MESSAGE)}),body:{from:"",to:"",sequence:0,random:0,time:0,version:0,elements:void 0,cloudCustomData:void 0},keyMap:{request:{sequence:"MsgSeq",random:"MsgRandom",time:"MsgTime",version:"MsgVersion",type:"MsgType",content:"MsgContent"}}}}(e)),this._configMap.set(ph,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.GET_GROUP_ROAM_MESSAGES)}),body:{withRecalledMsg:1,groupID:"",count:15,sequence:"",topicID:void 0},keyMap:{request:{sequence:"ReqMsgSeq",count:"ReqMsgNumber",withRecalledMessage:"WithRecalledMsg"},response:{Random:"random",MsgTime:"time",MsgSeq:"sequence",ReqMsgSeq:"sequence",RspMsgList:"messageList",IsPlaceMsg:"isPlaceMessage",IsSystemMsg:"isSystemMessage",ToGroupId:"to",EnumFrom_AccountType:"fromAccountType",EnumTo_AccountType:"toAccountType",GroupCode:"groupCode",MsgPriority:"priority",MsgBody:"elements",MsgType:"type",MsgContent:"content",IsFinished:"complete",Download_Flag:"downloadFlag",ClientSeq:"clientSequence",ThumbUUID:"thumbUUID",VideoUUID:"videoUUID",ToTopicId:"topicID"}}}}(e)),this._configMap.set(Fd,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.OPEN_IM,".").concat(Pu.CMD.SET_C2C_MESSAGE_READ)}),body:{C2CMsgReaded:void 0},keyMap:{request:{lastMessageTime:"LastedMsgTime"}}}}(e)),this._configMap.set(jd,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.OPEN_IM,".").concat(Pu.CMD.SET_C2C_PEER_MUTE_NOTIFICATIONS)}),body:{userIDList:void 0,muteFlag:0},keyMap:{request:{userIDList:"Peer_Account",muteFlag:"Mute_Notifications"}}}}(e)),this._configMap.set(qd,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.OPEN_IM,".").concat(Pu.CMD.GET_C2C_PEER_MUTE_NOTIFICATIONS)}),body:{updateSequence:0},keyMap:{response:{MuteNotificationsList:"muteFlagList"}}}}(e)),this._configMap.set(lh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.SET_GROUP_MESSAGE_READ)}),body:{groupID:void 0,messageReadSeq:void 0,topicID:void 0},keyMap:{request:{messageReadSeq:"MsgReadedSeq"}}}}(e)),this._configMap.set(fh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.OPEN_IM,".").concat(Pu.CMD.SET_ALL_MESSAGE_READ)}),body:{readAllC2CMessage:0,groupMessageReadInfoList:[]},keyMap:{request:{readAllC2CMessage:"C2CReadAllMsg",groupMessageReadInfoList:"GroupReadInfo",messageSequence:"MsgSeq"},response:{C2CReadAllMsg:"readAllC2CMessage",GroupReadInfoArray:"groupMessageReadInfoList"}}}}(e)),this._configMap.set($d,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.OPEN_IM,".").concat(Pu.CMD.DELETE_C2C_MESSAGE)}),body:{fromAccount:"",to:"",keyList:void 0},keyMap:{request:{keyList:"MsgKeyList"}}}}(e)),this._configMap.set(Eh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.DELETE_GROUP_MESSAGE)}),body:{groupID:"",deleter:"",keyList:void 0,topicID:void 0},keyMap:{request:{deleter:"Deleter_Account",keyList:"Seqs"}}}}(e)),this._configMap.set(Ih,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.OPEN_IM,".").concat(Pu.CMD.MODIFY_GROUP_MESSAGE)}),body:{groupID:"",topicID:void 0,sequence:0,version:0,elements:void 0,cloudCustomData:void 0},keyMap:{request:{sequence:"MsgSeq",version:"MsgVersion",type:"MsgType",content:"MsgContent"}}}}(e)),this._configMap.set(dh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.GET_READ_RECEIPT)}),body:{groupID:"",sequenceList:void 0},keyMap:{request:{sequence:"MsgSeq"}}}}(e)),this._configMap.set(gh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.OPEN_IM,".").concat(Pu.CMD.SEND_C2C_READ_RECEIPT)}),body:{peerAccount:"",messageInfoList:void 0},keyMap:{request:{peerAccount:"Peer_Account",messageInfoList:"C2CMsgInfo",fromAccount:"From_Account",toAccount:"To_Account",sequence:"MsgSeq",random:"MsgRandom",time:"MsgTime",clientTime:"MsgClientTime"}}}}(e)),this._configMap.set(hh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.SEND_READ_RECEIPT)}),body:{groupID:"",sequenceList:void 0},keyMap:{request:{sequenceList:"MsgSeqList",sequence:"MsgSeq"}}}}(e)),this._configMap.set(vh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.GET_READ_RECEIPT_DETAIL)}),body:{groupID:"",sequence:void 0,flag:0,cursor:0,count:0},keyMap:{request:{sequence:"MsgSeq",count:"Num"},response:{ReadList:"readUserIDList",Read_Account:"userID",UnreadList:"unreadUserIDList",Unread_Account:"userID",IsFinish:"isCompleted"}}}}(e)),this._configMap.set(Vd,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.OPEN_IM,".").concat(Pu.CMD.GET_PEER_READ_TIME)}),body:{userIDList:void 0},keyMap:{request:{userIDList:"To_Account"},response:{ReadTime:"peerReadTimeList"}}}}(e)),this._configMap.set(Wd,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.RECENT_CONTACT,".").concat(Pu.CMD.GET_CONVERSATION_LIST)}),body:{fromAccount:void 0,count:0},keyMap:{request:{},response:{SessionItem:"conversations",ToAccount:"groupID",To_Account:"userID",UnreadMsgCount:"unreadCount",MsgGroupReadedSeq:"messageReadSeq",C2cPeerReadTime:"c2cPeerReadTime"}}}}(e)),this._configMap.set(Kd,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.RECENT_CONTACT,".").concat(Pu.CMD.PAGING_GET_CONVERSATION_LIST)}),body:{fromAccount:void 0,timeStamp:void 0,startIndex:void 0,pinnedTimeStamp:void 0,pinnedStartIndex:void 0,orderType:void 0,messageAssistFlag:4,assistFlag:15},keyMap:{request:{messageAssistFlag:"MsgAssistFlags",assistFlag:"AssistFlags",pinnedTimeStamp:"TopTimeStamp",pinnedStartIndex:"TopStartIndex"},response:{SessionItem:"conversations",ToAccount:"groupID",To_Account:"userID",UnreadMsgCount:"unreadCount",MsgGroupReadedSeq:"messageReadSeq",C2cPeerReadTime:"c2cPeerReadTime",LastMsgFlags:"lastMessageFlag",TopFlags:"isPinned",TopTimeStamp:"pinnedTimeStamp",TopStartIndex:"pinnedStartIndex"}}}}(e)),this._configMap.set(zd,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.RECENT_CONTACT,".").concat(Pu.CMD.DELETE_CONVERSATION)}),body:{fromAccount:"",toAccount:void 0,type:1,toGroupID:void 0,clearHistoryMessage:1},keyMap:{request:{toGroupID:"ToGroupid",clearHistoryMessage:"ClearRamble"}}}}(e)),this._configMap.set(Yd,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.RECENT_CONTACT,".").concat(Pu.CMD.PIN_CONVERSATION)}),body:{fromAccount:"",operationType:1,itemList:void 0},keyMap:{request:{itemList:"RecentContactItem"}}}}(e)),this._configMap.set(Jd,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.OPEN_IM,".").concat(Pu.CMD.DELETE_GROUP_AT_TIPS)}),body:{messageListToDelete:void 0},keyMap:{request:{messageListToDelete:"DelMsgList",messageSeq:"MsgSeq",messageRandom:"MsgRandom"}}}}(e)),this._configMap.set(kd,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.PROFILE,".").concat(Pu.CMD.PORTRAIT_GET)}),body:{fromAccount:"",userItem:[]},keyMap:{request:{toAccount:"To_Account",standardSequence:"StandardSequence",customSequence:"CustomSequence"}}}}(e)),this._configMap.set(Ld,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.PROFILE,".").concat(Pu.CMD.PORTRAIT_SET)}),body:{fromAccount:"",profileItem:[{tag:Ul.NICK,value:""},{tag:Ul.GENDER,value:""},{tag:Ul.ALLOWTYPE,value:""},{tag:Ul.AVATAR,value:""}]},keyMap:{request:{toAccount:"To_Account",standardSequence:"StandardSequence",customSequence:"CustomSequence"}}}}(e)),this._configMap.set(Pd,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.FRIEND,".").concat(Pu.CMD.GET_BLACKLIST)}),body:{fromAccount:"",startIndex:0,maxLimited:30,lastSequence:0},keyMap:{response:{CurruentSequence:"currentSequence"}}}}(e)),this._configMap.set(xd,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.FRIEND,".").concat(Pu.CMD.ADD_BLACKLIST)}),body:{fromAccount:"",toAccount:[]}}}(e)),this._configMap.set(Gd,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.FRIEND,".").concat(Pu.CMD.DELETE_BLACKLIST)}),body:{fromAccount:"",toAccount:[]}}}(e)),this._configMap.set(Xd,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.GET_JOINED_GROUPS)}),body:{memberAccount:"",limit:void 0,offset:void 0,groupType:void 0,responseFilter:{groupBaseInfoFilter:void 0,selfInfoFilter:void 0},isSupportTopic:0},keyMap:{request:{memberAccount:"Member_Account"},response:{GroupIdList:"groups",MsgFlag:"messageRemindType",NoUnreadSeqList:"excludedUnreadSequenceList",MsgSeq:"readedSequence"}}}}(e)),this._configMap.set(Qd,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.GET_GROUP_INFO)}),body:{groupIDList:void 0,responseFilter:{groupBaseInfoFilter:["Type","Name","Introduction","Notification","FaceUrl","Owner_Account","CreateTime","InfoSeq","LastInfoTime","LastMsgTime","MemberNum","MaxMemberNum","ApplyJoinOption","NextMsgSeq","ShutUpAllMember"],groupCustomFieldFilter:void 0,memberInfoFilter:void 0,memberCustomFieldFilter:void 0}},keyMap:{request:{groupIDList:"GroupIdList",groupCustomField:"AppDefinedData",memberCustomField:"AppMemberDefinedData",groupCustomFieldFilter:"AppDefinedDataFilter_Group",memberCustomFieldFilter:"AppDefinedDataFilter_GroupMember"},response:{GroupIdList:"groups",MsgFlag:"messageRemindType",AppDefinedData:"groupCustomField",AppMemberDefinedData:"memberCustomField",AppDefinedDataFilter_Group:"groupCustomFieldFilter",AppDefinedDataFilter_GroupMember:"memberCustomFieldFilter",InfoSeq:"infoSequence",MemberList:"members",GroupInfo:"groups",ShutUpUntil:"muteUntil",ShutUpAllMember:"muteAllMembers",ApplyJoinOption:"joinOption"}}}}(e)),this._configMap.set(Zd,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.CREATE_GROUP)}),body:{type:void 0,name:void 0,groupID:void 0,ownerID:void 0,introduction:void 0,notification:void 0,maxMemberNum:void 0,joinOption:void 0,memberList:void 0,groupCustomField:void 0,memberCustomField:void 0,webPushFlag:1,avatar:"",isSupportTopic:void 0},keyMap:{request:{ownerID:"Owner_Account",userID:"Member_Account",avatar:"FaceUrl",maxMemberNum:"MaxMemberCount",joinOption:"ApplyJoinOption",groupCustomField:"AppDefinedData",memberCustomField:"AppMemberDefinedData"},response:{HugeGroupFlag:"avChatRoomFlag",OverJoinedGroupLimit_Account:"overLimitUserIDList"}}}}(e)),this._configMap.set(eh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.DESTROY_GROUP)}),body:{groupID:void 0}}}(e)),this._configMap.set(th,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.MODIFY_GROUP_INFO)}),body:{groupID:void 0,name:void 0,introduction:void 0,notification:void 0,avatar:void 0,maxMemberNum:void 0,joinOption:void 0,groupCustomField:void 0,muteAllMembers:void 0},keyMap:{request:{maxMemberNum:"MaxMemberCount",groupCustomField:"AppDefinedData",muteAllMembers:"ShutUpAllMember",joinOption:"ApplyJoinOption",avatar:"FaceUrl"},response:{AppDefinedData:"groupCustomField",ShutUpAllMember:"muteAllMembers",ApplyJoinOption:"joinOption"}}}}(e)),this._configMap.set(nh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.APPLY_JOIN_GROUP)}),body:{groupID:void 0,applyMessage:void 0,userDefinedField:void 0,webPushFlag:1,historyMessageFlag:void 0},keyMap:{request:{applyMessage:"ApplyMsg",historyMessageFlag:"HugeGroupHistoryMsgFlag"},response:{HugeGroupFlag:"avChatRoomFlag",AVChatRoomKey:"avChatRoomKey",RspMsgList:"messageList",ToGroupId:"to"}}}}(e)),this._configMap.set(rh,function(e){return e.a2,e.tinyid,{head:n(n({},h(e,kI)),{},{servcmd:"".concat(Pu.NAME.BIG_GROUP_NO_AUTH,".").concat(Pu.CMD.APPLY_JOIN_GROUP)}),body:{groupID:void 0,applyMessage:void 0,userDefinedField:void 0,webPushFlag:1},keyMap:{request:{applyMessage:"ApplyMsg"},response:{HugeGroupFlag:"avChatRoomFlag"}}}}(e)),this._configMap.set(oh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.QUIT_GROUP)}),body:{groupID:void 0}}}(e)),this._configMap.set(ih,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.SEARCH_GROUP_BY_ID)}),body:{groupIDList:void 0,responseFilter:{groupBasePublicInfoFilter:["Type","Name","Introduction","Notification","FaceUrl","CreateTime","Owner_Account","LastInfoTime","LastMsgTime","NextMsgSeq","MemberNum","MaxMemberNum","ApplyJoinOption"]}},keyMap:{response:{ApplyJoinOption:"joinOption"}}}}(e)),this._configMap.set(ah,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.CHANGE_GROUP_OWNER)}),body:{groupID:void 0,newOwnerID:void 0},keyMap:{request:{newOwnerID:"NewOwner_Account"}}}}(e)),this._configMap.set(sh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.HANDLE_APPLY_JOIN_GROUP)}),body:{groupID:void 0,applicant:void 0,handleAction:void 0,handleMessage:void 0,authentication:void 0,messageKey:void 0,userDefinedField:void 0},keyMap:{request:{applicant:"Applicant_Account",handleAction:"HandleMsg",handleMessage:"ApprovalMsg",messageKey:"MsgKey"}}}}(e)),this._configMap.set(ch,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.HANDLE_GROUP_INVITATION)}),body:{groupID:void 0,inviter:void 0,handleAction:void 0,handleMessage:void 0,authentication:void 0,messageKey:void 0,userDefinedField:void 0},keyMap:{request:{inviter:"Inviter_Account",handleAction:"HandleMsg",handleMessage:"ApprovalMsg",messageKey:"MsgKey"}}}}(e)),this._configMap.set(mh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.GET_GROUP_APPLICATION)}),body:{startTime:void 0,limit:void 0,handleAccount:void 0},keyMap:{request:{handleAccount:"Handle_Account"}}}}(e)),this._configMap.set(_h,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.OPEN_IM,".").concat(Pu.CMD.DELETE_GROUP_SYSTEM_MESSAGE)}),body:{messageListToDelete:void 0},keyMap:{request:{messageListToDelete:"DelMsgList",messageSeq:"MsgSeq",messageRandom:"MsgRandom"}}}}(e)),this._configMap.set(yh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.BIG_GROUP_LONG_POLLING,".").concat(Pu.CMD.AVCHATROOM_LONG_POLL)}),body:{USP:1,startSeq:1,holdTime:90,key:void 0},keyMap:{request:{USP:"USP"},response:{ToGroupId:"groupID"}}}}(e)),this._configMap.set(bh,function(e){return e.a2,e.tinyid,{head:n(n({},h(e,LI)),{},{servcmd:"".concat(Pu.NAME.BIG_GROUP_LONG_POLLING_NO_AUTH,".").concat(Pu.CMD.AVCHATROOM_LONG_POLL)}),body:{USP:1,startSeq:1,holdTime:90,key:void 0},keyMap:{request:{USP:"USP"},response:{ToGroupId:"groupID"}}}}(e)),this._configMap.set(Mh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.GET_ONLINE_MEMBER_NUM)}),body:{groupID:void 0}}}(e)),this._configMap.set(Sh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.SET_GROUP_ATTRIBUTES)}),body:{groupID:void 0,groupAttributeList:void 0,mainSequence:void 0,avChatRoomKey:void 0,attributeControl:["RaceConflict"]},keyMap:{request:{key:"key",value:"value"}}}}(e)),this._configMap.set(Th,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.MODIFY_GROUP_ATTRIBUTES)}),body:{groupID:void 0,groupAttributeList:void 0,mainSequence:void 0,avChatRoomKey:void 0,attributeControl:["RaceConflict"]},keyMap:{request:{key:"key",value:"value"}}}}(e)),this._configMap.set(Oh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.DELETE_GROUP_ATTRIBUTES)}),body:{groupID:void 0,groupAttributeList:void 0,mainSequence:void 0,avChatRoomKey:void 0,attributeControl:["RaceConflict"]},keyMap:{request:{key:"key"}}}}(e)),this._configMap.set(Ch,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.CLEAR_GROUP_ATTRIBUTES)}),body:{groupID:void 0,mainSequence:void 0,avChatRoomKey:void 0,attributeControl:["RaceConflict"]}}}(e)),this._configMap.set(Ah,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP_ATTR,".").concat(Pu.CMD.GET_GROUP_ATTRIBUTES)}),body:{groupID:void 0,avChatRoomKey:void 0,groupType:1},keyMap:{request:{avChatRoomKey:"Key",groupType:"GroupType"}}}}(e)),this._configMap.set(Jh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP_COMMUNITY,".").concat(Pu.CMD.CREATE_TOPIC)}),body:{groupID:void 0,topicName:void 0,avatar:void 0,customData:void 0,topicID:void 0,notification:void 0,introduction:void 0},keyMap:{request:{avatar:"FaceUrl"}}}}(e)),this._configMap.set(Xh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP_COMMUNITY,".").concat(Pu.CMD.DELETE_TOPIC)}),body:{groupID:void 0,topicIDList:void 0},keyMap:{request:{topicIDList:"TopicIdList"},response:{DestroyResultItem:"resultList",ErrorCode:"code",ErrorInfo:"message"}}}}(e)),this._configMap.set(Qh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP_COMMUNITY,".").concat(Pu.CMD.UPDATE_TOPIC_PROFILE)}),body:{groupID:void 0,topicID:void 0,avatar:void 0,customData:void 0,notification:void 0,introduction:void 0,muteAllMembers:void 0,topicName:void 0},keyMap:{request:{avatar:"FaceUrl",muteAllMembers:"ShutUpAllMember"}}}}(e)),this._configMap.set(Zh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP_COMMUNITY,".").concat(Pu.CMD.GET_TOPIC_LIST)}),body:{groupID:void 0,topicIDList:void 0},keyMap:{request:{topicIDList:"TopicIdList"},response:{TopicAndSelfInfo:"topicInfoList",TopicInfo:"topic",GroupID:"groupID",ShutUpTime:"muteTime",ShutUpAllFlag:"muteAllMembers",LastMsgTime:"lastMessageTime",MsgSeq:"readedSequence",MsgFlag:"messageRemindType",ErrorCode:"code",ErrorInfo:"message"}}}}(e)),this._configMap.set(wh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.GET_GROUP_MEMBER_LIST)}),body:{groupID:void 0,limit:0,offset:void 0,next:void 0,memberRoleFilter:void 0,memberInfoFilter:["Role","NameCard","ShutUpUntil","JoinTime"],memberCustomFieldFilter:void 0},keyMap:{request:{memberCustomFieldFilter:"AppDefinedDataFilter_GroupMember"},response:{AppMemberDefinedData:"memberCustomField",AppDefinedDataFilter_GroupMember:"memberCustomFieldFilter",MemberList:"members",ShutUpUntil:"muteUntil"}}}}(e)),this._configMap.set(Rh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.GET_GROUP_MEMBER_INFO)}),body:{groupID:void 0,userIDList:void 0,memberInfoFilter:void 0,memberCustomFieldFilter:void 0},keyMap:{request:{userIDList:"Member_List_Account",memberCustomFieldFilter:"AppDefinedDataFilter_GroupMember"},response:{MemberList:"members",ShutUpUntil:"muteUntil",AppDefinedDataFilter_GroupMember:"memberCustomFieldFilter",AppMemberDefinedData:"memberCustomField"}}}}(e)),this._configMap.set(Dh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.ADD_GROUP_MEMBER)}),body:{groupID:void 0,silence:void 0,userIDList:void 0},keyMap:{request:{userID:"Member_Account",userIDList:"MemberList"},response:{MemberList:"members"}}}}(e)),this._configMap.set(Nh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.DELETE_GROUP_MEMBER)}),body:{groupID:void 0,userIDList:void 0,reason:void 0},keyMap:{request:{userIDList:"MemberToDel_Account"}}}}(e)),this._configMap.set(kh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.GROUP,".").concat(Pu.CMD.MODIFY_GROUP_MEMBER_INFO)}),body:{groupID:void 0,topicID:void 0,userID:void 0,messageRemindType:void 0,nameCard:void 0,role:void 0,memberCustomField:void 0,muteTime:void 0},keyMap:{request:{userID:"Member_Account",memberCustomField:"AppMemberDefinedData",muteTime:"ShutUpTime",messageRemindType:"MsgFlag"}}}}(e)),this._configMap.set(Gh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.IM_OPEN_STAT,".").concat(Pu.CMD.TIM_WEB_REPORT_V2)}),body:{header:{},event:[],quality:[]},keyMap:{request:{SDKType:"sdk_type",SDKVersion:"sdk_version",deviceType:"device_type",platform:"platform",instanceID:"instance_id",traceID:"trace_id",SDKAppID:"sdk_app_id",userID:"user_id",tinyID:"tiny_id",extension:"extension",timestamp:"timestamp",networkType:"network_type",eventType:"event_type",code:"error_code",message:"error_message",moreMessage:"more_message",duplicate:"duplicate",costTime:"cost_time",level:"level",qualityType:"quality_type",reportIndex:"report_index",wholePeriod:"whole_period",totalCount:"total_count",rttCount:"success_count_business",successRateOfRequest:"percent_business",countLessThan1Second:"success_count_business",percentOfCountLessThan1Second:"percent_business",countLessThan3Second:"success_count_platform",percentOfCountLessThan3Second:"percent_platform",successCountOfBusiness:"success_count_business",successRateOfBusiness:"percent_business",successCountOfPlatform:"success_count_platform",successRateOfPlatform:"percent_platform",successCountOfMessageReceived:"success_count_business",successRateOfMessageReceived:"percent_business",avgRTT:"average_value",avgDelay:"average_value",avgValue:"average_value",uiPlatform:"ui_platform"}}}}(r)),this._configMap.set(Uh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.HEARTBEAT,".").concat(Pu.CMD.ALIVE)}),body:{}}}(e)),this._configMap.set(Fh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.IM_OPEN_PUSH,".").concat(Pu.CMD.MESSAGE_PUSH)}),body:{},keyMap:{response:{C2cMsgArray:"C2CMessageArray",GroupMsgArray:"groupMessageArray",GroupTips:"groupTips",C2cNotifyMsgArray:"C2CNotifyMessageArray",C2cMsgInfo:"C2CReadReceiptArray",ClientSeq:"clientSequence",MsgPriority:"priority",NoticeSeq:"noticeSequence",MsgContent:"content",MsgType:"type",MsgBody:"elements",ToGroupId:"to",Desc:"description",Ext:"extension",IsSyncMsg:"isSyncMessage",Flag:"needSync",NeedAck:"needAck",PendencyAdd_Account:"userID",ProfileImNick:"nick",PendencyType:"applicationType",C2CReadAllMsg:"readAllC2CMessage",IsNeedReadReceipt:"needReadReceipt"}}}}(e)),this._configMap.set(jh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.IM_OPEN_PUSH,".").concat(Pu.CMD.MULTI_MESSAGE_PUSH)}),body:{},keyMap:{response:{GroupMsgArray:"groupMessageArray",GroupTips:"groupTips",ClientSeq:"clientSequence",MsgPriority:"priority",NoticeSeq:"noticeSequence",MsgContent:"content",MsgType:"type",MsgBody:"elements",ToGroupId:"to",Desc:"description",Ext:"extension",IsSyncMsg:"isSyncMessage",Flag:"needSync",NeedAck:"needAck",PendencyType:"applicationType"}}}}(e)),this._configMap.set(qh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.OPEN_IM,".").concat(Pu.CMD.MESSAGE_PUSH_ACK)}),body:{sessionData:void 0},keyMap:{request:{sessionData:"SessionData"}}}}(e)),this._configMap.set(Bh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.IM_OPEN_STATUS,".").concat(Pu.CMD.STATUS_FORCE_OFFLINE)}),body:{},keyMap:{response:{C2cNotifyMsgArray:"C2CNotifyMessageArray",NoticeSeq:"noticeSequence",KickoutMsgNotify:"kickoutMsgNotify",NewInstInfo:"newInstanceInfo"}}}}(e)),this._configMap.set($h,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.IM_LONG_MESSAGE,".").concat(Pu.CMD.DOWNLOAD_MERGER_MESSAGE)}),body:{downloadKey:""},keyMap:{response:{Data:"data",Desc:"description",Ext:"extension",Download_Flag:"downloadFlag",ThumbUUID:"thumbUUID",VideoUUID:"videoUUID"}}}}(e)),this._configMap.set(Vh,function(e){return{head:n(n({},e),{},{servcmd:"".concat(Pu.NAME.IM_LONG_MESSAGE,".").concat(Pu.CMD.UPLOAD_MERGER_MESSAGE)}),body:{messageList:[]},keyMap:{request:{fromAccount:"From_Account",toAccount:"To_Account",msgTimeStamp:"MsgTimeStamp",msgSeq:"MsgSeq",msgRandom:"MsgRandom",msgBody:"MsgBody",type:"MsgType",content:"MsgContent",data:"Data",description:"Desc",extension:"Ext",sizeType:"Type",uuid:"UUID",url:"",imageUrl:"URL",fileUrl:"Url",remoteAudioUrl:"Url",remoteVideoUrl:"VideoUrl",thumbUUID:"ThumbUUID",videoUUID:"VideoUUID",videoUrl:"",downloadFlag:"Download_Flag",from:"From_Account",time:"MsgTimeStamp",messageRandom:"MsgRandom",messageSequence:"MsgSeq",elements:"MsgBody",clientSequence:"ClientSeq",payload:"MsgContent",messageList:"MsgList",messageNumber:"MsgNum",abstractList:"AbstractList",messageBody:"MsgBody"}}}}(e))}},{key:"has",value:function(e){return this._configMap.has(e)}},{key:"get",value:function(e){return this._configMap.get(e)}},{key:"update",value:function(){this._fillConfigMap()}},{key:"getKeyMap",value:function(e){return this.has(e)?this.get(e).keyMap||{}:(xl.warn("".concat(this._className,".getKeyMap unknown protocolName:").concat(e)),{})}},{key:"getProtocolData",value:function(e){var t=e.protocolName,n=e.requestData,r=this.get(t),o=null;if(n){var i=this._simpleDeepCopy(r),a=this._updateService(n,i),s=a.body,c=Object.create(null);for(var u in s)if(Object.prototype.hasOwnProperty.call(s,u)){if(c[u]=s[u],void 0===n[u])continue;c[u]=n[u]}a.body=c,o=this._getUplinkData(a)}else o=this._getUplinkData(r);return o}},{key:"_getUplinkData",value:function(e){var t=this._requestDataCleaner(e),n=kf(t.head),r=lb(t.body,this._getRequestKeyMap(n));return t.body=r,t}},{key:"_updateService",value:function(e,t){var n=kf(t.head);if(t.head.servcmd.includes(Pu.NAME.GROUP)){var r=e.type,o=e.groupID,i=void 0===o?void 0:o,a=e.groupIDList,s=void 0===a?[]:a;Zl(i)&&(i=s[0]||""),Ef({type:r,groupID:i})&&(t.head.servcmd="".concat(Pu.NAME.GROUP_COMMUNITY,".").concat(n))}return t}},{key:"_getRequestKeyMap",value:function(e){var t=this.getKeyMap(e);return n(n({},ib.request),t.request)}},{key:"_requestDataCleaner",value:function(e){var t=Array.isArray(e)?[]:Object.create(null);for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&of(n)&&null!==e[n]&&void 0!==e[n]&&("object"!==r(e[n])?t[n]=e[n]:t[n]=this._requestDataCleaner.bind(this)(e[n]));return t}},{key:"_simpleDeepCopy",value:function(e){for(var t,n=Object.keys(e),r={},o=0,i=n.length;o<i;o++)t=n[o],Ql(e[t])?r[t]=Array.from(e[t]):Jl(e[t])?r[t]=this._simpleDeepCopy(e[t]):r[t]=e[t];return r}}]),e}(),xI=[qh],GI=function(){function e(t){o(this,e),this._sessionModule=t,this._className="DownlinkHandler",this._eventHandlerMap=new Map,this._eventHandlerMap.set("C2CMessageArray",this._c2cMessageArrayHandler.bind(this)),this._eventHandlerMap.set("groupMessageArray",this._groupMessageArrayHandler.bind(this)),this._eventHandlerMap.set("groupTips",this._groupTipsHandler.bind(this)),this._eventHandlerMap.set("C2CNotifyMessageArray",this._C2CNotifyMessageArrayHandler.bind(this)),this._eventHandlerMap.set("C2CReadReceiptArray",this._C2CReadReceiptArrayHandler.bind(this)),this._eventHandlerMap.set("profileModify",this._profileHandler.bind(this)),this._eventHandlerMap.set("friendListMod",this._relationChainHandler.bind(this)),this._eventHandlerMap.set("recentContactMod",this._recentContactHandler.bind(this)),this._eventHandlerMap.set("readAllC2CMessage",this._allMessageReadHandler.bind(this)),this._eventHandlerMap.set("c2cMessageModified",this._c2cMessageModifiedHandler.bind(this)),this._eventHandlerMap.set("groupMessageModified",this._groupMessageModifiedHandler.bind(this)),this._keys=y(this._eventHandlerMap.keys())}return a(e,[{key:"_c2cMessageArrayHandler",value:function(e){var t=this._sessionModule.getModule(nd);t&&(e.dataList.forEach((function(e){if(1===e.isSyncMessage){var t=e.from;e.from=e.to,e.to=t}})),1===e.needSync&&this._sessionModule.getModule(gd).startOnlineSync(),t.onNewC2CMessage({dataList:e.dataList,isInstantMessage:!0}))}},{key:"_c2cMessageModifiedHandler",value:function(e){var t=this._sessionModule.getModule(nd);t&&t.onC2CMessageModified(e)}},{key:"_groupMessageArrayHandler",value:function(e){var t=this._sessionModule.getModule(rd);t&&t.onNewGroupMessage({event:e.event,dataList:e.dataList,isInstantMessage:!0})}},{key:"_groupMessageModifiedHandler",value:function(e){var t=this._sessionModule.getModule(rd);t&&t.onGroupMessageModified(e)}},{key:"_groupTipsHandler",value:function(e){var t=this._sessionModule.getModule(rd);if(t){var n=e.event,r=e.dataList,o=e.isInstantMessage,i=void 0===o||o,a=e.isSyncingEnded;switch(n){case 4:case 6:t.onNewGroupTips({event:n,dataList:r});break;case 5:r.forEach((function(e){Ql(e.elements.revokedInfos)?t.onGroupMessageRevoked({dataList:r}):Ql(e.elements.groupMessageReadNotice)?t.onGroupMessageReadNotice({dataList:r}):Ql(e.elements.readReceiptList)?t.onReadReceiptList({dataList:r}):t.onNewGroupSystemNotice({dataList:r,isInstantMessage:i,isSyncingEnded:a})}));break;case 12:this._sessionModule.getModule(sd).onNewGroupAtTips({dataList:r});break;default:xl.log("".concat(this._className,"._groupTipsHandler unknown event:").concat(n," dataList:"),r)}}}},{key:"_C2CNotifyMessageArrayHandler",value:function(e){var t=this,n=e.dataList;if(Ql(n)){var r=this._sessionModule.getModule(nd);n.forEach((function(e){if(Xl(e))if(e.hasOwnProperty("kickoutMsgNotify")){var o=e.kickoutMsgNotify,i=o.kickType,a=o.newInstanceInfo,s=void 0===a?{}:a;1===i?t._sessionModule.onMultipleAccountKickedOut(s):2===i?t._sessionModule.onMultipleDeviceKickedOut(s):3===i&&t._sessionModule.onRestApiKickedOut(s)}else e.hasOwnProperty("c2cMessageRevokedNotify")?r&&r.onC2CMessageRevoked({dataList:n}):e.hasOwnProperty("c2cMessageReadReceipt")?r&&r.onC2CMessageReadReceipt({dataList:n}):e.hasOwnProperty("c2cMessageReadNotice")?r&&r.onC2CMessageReadNotice({dataList:n}):e.hasOwnProperty("muteNotificationsSync")&&t._sessionModule.getModule(sd).onC2CMessageRemindTypeSynced({dataList:n})}))}}},{key:"_C2CReadReceiptArrayHandler",value:function(e){this._sessionModule.getModule(nd).onReadReceiptList(e)}},{key:"_profileHandler",value:function(e){this._sessionModule.getModule(td).onProfileModified({dataList:e.dataList});var t=this._sessionModule.getModule(od);t&&t.onFriendProfileModified({dataList:e.dataList})}},{key:"_relationChainHandler",value:function(e){this._sessionModule.getModule(td).onRelationChainModified({dataList:e.dataList});var t=this._sessionModule.getModule(od);t&&t.onRelationChainModified({dataList:e.dataList})}},{key:"_recentContactHandler",value:function(e){var t=e.dataList;if(Ql(t)){var n=this._sessionModule.getModule(sd);n&&t.forEach((function(e){var t=e.pushType,r=e.recentContactTopItem,o=e.recentContactDeleteItem;1===t?n.onConversationDeleted(o.recentContactList):2===t?n.onConversationPinned(r.recentContactList):3===t&&n.onConversationUnpinned(r.recentContactList)}))}}},{key:"_allMessageReadHandler",value:function(e){var t=e.dataList,n=this._sessionModule.getModule(sd);n&&n.onPushedAllMessageRead(t)}},{key:"onMessage",value:function(e){var t=this,n=e.body;if(this._filterMessageFromIMOpenPush(e)){var r=n.eventArray,o=n.isInstantMessage,i=n.isSyncingEnded,a=n.needSync;if(Ql(r))for(var s=null,c=null,u=0,l=0,f=r.length;l<f;l++){u=(s=r[l]).event;var p=Object.keys(s).find((function(e){return-1!==t._keys.indexOf(e)}));p?(c=14===u?{readAllC2CMessage:s[p],groupMessageReadInfoList:s.groupMessageReadNotice||[]}:16===u?{userID:s.userID,readReceiptList:s[p]}:s[p],this._eventHandlerMap.get(p)({event:u,dataList:c,isInstantMessage:o,isSyncingEnded:i,needSync:a})):xl.log("".concat(this._className,".onMessage unknown eventItem:").concat(s))}}}},{key:"_filterMessageFromIMOpenPush",value:function(e){var t=e.head,n=e.body,r=t.servcmd,o=!1;if(Zl(r)||(o=r.includes(Pu.NAME.IM_CONFIG_MANAGER)||r.includes(Pu.NAME.OVERLOAD_PUSH)||r.includes(Pu.NAME.STAT_SERVICE)),!o)return!0;if(r.includes(Pu.CMD.PUSHED_CLOUD_CONTROL_CONFIG))this._sessionModule.getModule(yd).onPushedCloudControlConfig(n);else if(r.includes(Pu.CMD.PUSHED_COMMERCIAL_CONFIG))this._sessionModule.getModule(Id).onPushedConfig(n);else if(r.includes(Pu.CMD.OVERLOAD_NOTIFY))this._sessionModule.onPushedServerOverload(n);else if(r.includes(Pu.CMD.KICK_OTHER)){var i=Date.now();this._sessionModule.reLoginOnKickOther();var a=new vg(mg.KICK_OTHER),s=this._sessionModule.getModule(Zp).getLastWsHelloTs(),c=i-s;a.setMessage("last wshello time:".concat(s," diff:").concat(c,"ms")).setNetworkType(this._sessionModule.getNetworkType()).end()}return!1}}]),e}(),UI=[{cmd:Pu.CMD.GET_GROUP_INFO,interval:1,count:20},{cmd:Pu.CMD.GET_GROUP_TOPIC_LIST,interval:1,count:10},{cmd:Pu.CMD.SET_GROUP_ATTRIBUTES,interval:5,count:10},{cmd:Pu.CMD.MODIFY_GROUP_ATTRIBUTES,interval:5,count:10},{cmd:Pu.CMD.DELETE_GROUP_ATTRIBUTES,interval:5,count:10},{cmd:Pu.CMD.CLEAR_GROUP_ATTRIBUTES,interval:5,count:10},{cmd:Pu.CMD.GET_GROUP_ATTRIBUTES,interval:5,count:20},{cmd:Pu.CMD.SET_ALL_MESSAGE_READ,interval:1,count:1}],FI=function(e){c(n,e);var t=m(n);function n(e){var r;return o(this,n),(r=t.call(this,e))._className="SessionModule",r._platform=r.getPlatform(),r._protocolHandler=new PI(g(r)),r._messageDispatcher=new GI(g(r)),r._commandFrequencyLimitMap=new Map,r._commandRequestInfoMap=new Map,r._serverOverloadInfoMap=new Map,r._init(),r.getInnerEmitterInstance().on(z_,r._onCloudConfigUpdated,g(r)),r}return a(n,[{key:"_init",value:function(){this._updateCommandFrequencyLimitMap(UI)}},{key:"_onCloudConfigUpdated",value:function(){var e=this.getCloudConfig("cmd_frequency_limit");Zl(e)||(e=JSON.parse(e),this._updateCommandFrequencyLimitMap(e))}},{key:"_updateCommandFrequencyLimitMap",value:function(e){var t=this;e.forEach((function(e){t._commandFrequencyLimitMap.set(e.cmd,{interval:e.interval,count:e.count})}))}},{key:"updateProtocolConfig",value:function(){this._protocolHandler.update()}},{key:"request",value:function(e){xl.debug("".concat(this._className,".request options:"),e);var t=e.protocolName,n=e.tjgID;if(!this._protocolHandler.has(t))return xl.warn("".concat(this._className,".request unknown protocol:").concat(t)),R_({code:eg.CANNOT_FIND_PROTOCOL,message:tg.CANNOT_FIND_PROTOCOL});var r=this.getProtocolData(e),o=r.head.servcmd;if(this._isFrequencyOverLimit(o))return R_({code:eg.OVER_FREQUENCY_LIMIT,message:tg.OVER_FREQUENCY_LIMIT});if(this._isServerOverload(o))return R_({code:eg.OPEN_SERVICE_OVERLOAD_ERROR,message:tg.OPEN_SERVICE_OVERLOAD_ERROR});jf(n)||(r.head.tjgID=n);var i=this.getModule(md);return xI.includes(t)?i.simplySend(r):i.send(r)}},{key:"getKeyMap",value:function(e){return this._protocolHandler.getKeyMap(e)}},{key:"genCommonHead",value:function(){var e=this.getModule(cd);return{ver:"v4",platform:this._platform,websdkappid:Au,websdkversion:Cu,a2:e.getA2Key()||void 0,tinyid:e.getTinyID()||void 0,status_instid:e.getStatusInstanceID(),sdkappid:e.getSDKAppID(),contenttype:e.getContentType(),reqtime:0,identifier:e.getA2Key()?void 0:e.getUserID(),usersig:e.getA2Key()?void 0:e.getUserSig(),sdkability:1587,tjgID:""}}},{key:"genCosSpecifiedHead",value:function(){var e=this.getModule(cd);return{ver:"v4",platform:this._platform,websdkappid:Au,websdkversion:Cu,sdkappid:e.getSDKAppID(),contenttype:e.getContentType(),reqtime:0,identifier:e.getUserID(),usersig:e.getUserSig(),status_instid:e.getStatusInstanceID(),sdkability:1587}}},{key:"genSSOReportHead",value:function(){var e=this.getModule(cd);return{ver:"v4",platform:this._platform,websdkappid:Au,websdkversion:Cu,sdkappid:e.getSDKAppID(),contenttype:"",reqtime:0,identifier:"",usersig:"",status_instid:e.getStatusInstanceID(),sdkability:1587}}},{key:"getProtocolData",value:function(e){return this._protocolHandler.getProtocolData(e)}},{key:"onErrorCodeNotZero",value:function(e){var t=e.errorCode;if(t===eg.HELLO_ANSWER_KICKED_OUT){var n=e.kickType,r=e.newInstanceInfo,o=void 0===r?{}:r;1===n?this.onMultipleAccountKickedOut(o):2===n?this.onMultipleDeviceKickedOut(o):3===n&&this.onRestApiKickedOut(o)}t!==eg.MESSAGE_A2KEY_EXPIRED&&t!==eg.ACCOUNT_A2KEY_EXPIRED||(this._onUserSigExpired(),this.getModule(md).reConnect())}},{key:"onMessage",value:function(e){var t=e.body,n=t.needAck,r=void 0===n?0:n,o=t.sessionData;1===r&&this._sendACK(o),this._messageDispatcher.onMessage(e)}},{key:"onReconnected",value:function(){this._reLoginOnReconnected()}},{key:"reLoginOnKickOther",value:function(){xl.log("".concat(this._className,".reLoginOnKickOther")),this._reLogin()}},{key:"_reLoginOnReconnected",value:function(){xl.log("".concat(this._className,"._reLoginOnReconnected")),this._reLogin()}},{key:"_reLogin",value:function(){var e=this;this.isLoggedIn()&&this.request({protocolName:Td}).then((function(t){var n=t.data.instanceID;e.getModule(cd).setStatusInstanceID(n),xl.log("".concat(e._className,"._reLogin ok. start to sync unread messages")),e.getModule(gd).startSyncOnReconnected(),e.getModule(Md).startPull(),e.getModule(rd).updateLocalMainSequenceOnReconnected();var r=e.getModule(ad);r.resetGetTopicTime(),r.getTopicListOnReconnected()}))}},{key:"onMultipleAccountKickedOut",value:function(e){this.getModule(Zp).onMultipleAccountKickedOut(e)}},{key:"onMultipleDeviceKickedOut",value:function(e){this.getModule(Zp).onMultipleDeviceKickedOut(e)}},{key:"_onUserSigExpired",value:function(){this.getModule(Zp).onUserSigExpired()}},{key:"onRestApiKickedOut",value:function(e){this.getModule(Zp).onRestApiKickedOut(e)}},{key:"_sendACK",value:function(e){this.request({protocolName:qh,requestData:{sessionData:e}})}},{key:"_isFrequencyOverLimit",value:function(e){var t=e.split(".")[1];if(!this._commandFrequencyLimitMap.has(t))return!1;if(!this._commandRequestInfoMap.has(t))return this._commandRequestInfoMap.set(t,{startTime:Date.now(),requestCount:1}),!1;var n=this._commandFrequencyLimitMap.get(t),r=n.count,o=n.interval,i=this._commandRequestInfoMap.get(t),a=i.startTime,s=i.requestCount;if(Date.now()-a>1e3*o)return this._commandRequestInfoMap.set(t,{startTime:Date.now(),requestCount:1}),!1;s+=1,this._commandRequestInfoMap.set(t,{startTime:a,requestCount:s});var c=!1;return s>r&&(c=!0),c}},{key:"_isServerOverload",value:function(e){if(!this._serverOverloadInfoMap.has(e))return!1;var t=this._serverOverloadInfoMap.get(e),n=t.overloadTime,r=t.waitingTime,o=!1;return Date.now()-n<=1e3*r?o=!0:(this._serverOverloadInfoMap.delete(e),o=!1),o}},{key:"onPushedServerOverload",value:function(e){var t=e.overloadCommand,n=e.waitingTime;this._serverOverloadInfoMap.set(t,{overloadTime:Date.now(),waitingTime:n}),xl.warn("".concat(this._className,".onPushedServerOverload waitingTime:").concat(n,"s"))}},{key:"reset",value:function(){xl.log("".concat(this._className,".reset")),this._updateCommandFrequencyLimitMap(UI),this._commandRequestInfoMap.clear(),this._serverOverloadInfoMap.clear()}}]),n}(Sd),jI=function(e){c(n,e);var t=m(n);function n(e){var r;return o(this,n),(r=t.call(this,e))._className="MessageLossDetectionModule",r._maybeLostSequencesMap=new Map,r._firstRoundRet=[],r}return a(n,[{key:"onMessageMaybeLost",value:function(e,t,n){this._maybeLostSequencesMap.has(e)||this._maybeLostSequencesMap.set(e,[]);for(var r=this._maybeLostSequencesMap.get(e),o=0;o<n;o++)-1===r.indexOf(t+o)&&r.push(t+o)}},{key:"detectFirstRound",value:function(e,t){var n=this._maybeLostSequencesMap.get(e);if(!jf(n)&&!jf(t)){var r=n.filter((function(e){return-1===t.indexOf(e)}));0===r.length?xl.info("".concat(this._className,".detectFirstRound no message loss. conversationID:").concat(e)):this._firstRoundRet=this._firstRoundRet.concat(r),n.length=0}}},{key:"detectSecondRound",value:function(e,t){if(!jf(this._firstRoundRet)&&!jf(t)){var n=this._firstRoundRet.filter((function(e){return-1===t.indexOf(e)}));this._firstRoundRet.length=0;var r,o=n.length;0!==o&&(o<=5?r=e+"-"+n.join("-"):(n.sort((function(e,t){return e-t})),r=e+" start:"+n[0]+" end:"+n[o-1]+" count:"+o),new vg(mg.MESSAGE_LOSS).setMessage(r).setNetworkType(this.getNetworkType()).setLevel("warning").end(),xl.info("".concat(this._className,".detectSecondRound message loss detected. conversationID:").concat(e," lostSequences:").concat(n)))}}},{key:"reset",value:function(){xl.log("".concat(this._className,".reset")),this._maybeLostSequencesMap.clear(),this._firstRoundRet.length=0}}]),n}(Sd),qI=function(e){c(n,e);var t=m(n);function n(e){var r;return o(this,n),(r=t.call(this,e))._className="CloudControlModule",r._cloudConfig=new Map,r._expiredTime=0,r._version=0,r._isFetching=!1,r}return a(n,[{key:"getCloudConfig",value:function(e){return Zl(e)?this._cloudConfig:this._cloudConfig.has(e)?this._cloudConfig.get(e):void 0}},{key:"_canFetchConfig",value:function(){return this.isLoggedIn()&&!this._isFetching&&Date.now()>=this._expiredTime}},{key:"fetchConfig",value:function(){var e=this,t=this._canFetchConfig();if(xl.log("".concat(this._className,".fetchConfig canFetchConfig:").concat(t)),t){var n=new vg(mg.FETCH_CLOUD_CONTROL_CONFIG),r=this.getModule(cd).getSDKAppID();this._isFetching=!0,this.request({protocolName:Hh,requestData:{SDKAppID:r,version:this._version}}).then((function(t){e._isFetching=!1,n.setMessage("version:".concat(e._version," newVersion:").concat(t.data.version," config:").concat(t.data.cloudControlConfig)).setNetworkType(e.getNetworkType()).end(),xl.log("".concat(e._className,".fetchConfig ok")),e._parseCloudControlConfig(t.data)})).catch((function(t){e._isFetching=!1,e.probeNetwork().then((function(e){var r=_(e,2),o=r[0],i=r[1];n.setError(t,o,i).end()})),xl.log("".concat(e._className,".fetchConfig failed. error:"),t),e._setExpiredTimeOnResponseError(12e4)}))}}},{key:"onPushedCloudControlConfig",value:function(e){xl.log("".concat(this._className,".onPushedCloudControlConfig")),new vg(mg.PUSHED_CLOUD_CONTROL_CONFIG).setNetworkType(this.getNetworkType()).setMessage("newVersion:".concat(e.version," config:").concat(e.cloudControlConfig)).end(),this._parseCloudControlConfig(e)}},{key:"onCheckTimer",value:function(e){this._canFetchConfig()&&this.fetchConfig()}},{key:"_parseCloudControlConfig",value:function(e){var t=this,n="".concat(this._className,"._parseCloudControlConfig"),r=e.errorCode,o=e.errorMessage,i=e.cloudControlConfig,a=e.version,s=e.expiredTime;if(0===r){if(this._version!==a){var c=null;try{c=JSON.parse(i)}catch(oS){xl.error("".concat(n," JSON parse error:").concat(i))}c&&(this._cloudConfig.clear(),Object.keys(c).forEach((function(e){t._cloudConfig.set(e,c[e])})),this._version=a,this.emitInnerEvent(z_))}this._expiredTime=Date.now()+1e3*s}else Zl(r)?(xl.log("".concat(n," failed. Invalid message format:"),e),this._setExpiredTimeOnResponseError(36e5)):(xl.error("".concat(n," errorCode:").concat(r," errorMessage:").concat(o)),this._setExpiredTimeOnResponseError(12e4))}},{key:"_setExpiredTimeOnResponseError",value:function(e){this._expiredTime=Date.now()+e}},{key:"reset",value:function(){xl.log("".concat(this._className,".reset")),this._cloudConfig.clear(),this._expiredTime=0,this._version=0,this._isFetching=!1}}]),n}(Sd),BI=function(e){c(n,e);var t=m(n);function n(e){var r;return o(this,n),(r=t.call(this,e))._className="PullGroupMessageModule",r._remoteLastMessageSequenceMap=new Map,r.PULL_LIMIT_COUNT=15,r}return a(n,[{key:"startPull",value:function(){var e=this,t=this._getNeedPullConversationList();this._getRemoteLastMessageSequenceList().then((function(){var n=e.getModule(sd);t.forEach((function(t){var r=t.conversationID,o=r.replace(ho.CONV_GROUP,""),i=n.getGroupLocalLastMessageSequence(r),a=e._remoteLastMessageSequenceMap.get(o)||0,s=a-i;xl.log("".concat(e._className,".startPull groupID:").concat(o," localLastMessageSequence:").concat(i," ")+"remoteLastMessageSequence:".concat(a," diff:").concat(s)),i>0&&s>=1&&s<300&&e._pullMissingMessage({groupID:o,localLastMessageSequence:i,remoteLastMessageSequence:a,diff:s})}))}))}},{key:"_getNeedPullConversationList",value:function(){return this.getModule(sd).getLocalConversationList().filter((function(e){return e.type===ho.CONV_GROUP&&e.groupProfile.type!==ho.GRP_AVCHATROOM}))}},{key:"_getRemoteLastMessageSequenceList",value:function(){var e=this;return this.getModule(rd).getGroupList().then((function(t){for(var n=t.data.groupList,r=void 0===n?[]:n,o=0;o<r.length;o++){var i=r[o],a=i.groupID,s=i.nextMessageSeq;if(i.type!==ho.GRP_AVCHATROOM){var c=s-1;e._remoteLastMessageSequenceMap.set(a,c)}}}))}},{key:"_pullMissingMessage",value:function(e){var t=this,n=e.localLastMessageSequence,r=e.remoteLastMessageSequence,o=e.diff;e.count=o>this.PULL_LIMIT_COUNT?this.PULL_LIMIT_COUNT:o,e.sequence=o>this.PULL_LIMIT_COUNT?n+this.PULL_LIMIT_COUNT:n+o,this._getGroupMissingMessage(e).then((function(i){i.length>0&&(i[0].sequence+1<=r&&(e.localLastMessageSequence=n+t.PULL_LIMIT_COUNT,e.diff=o-t.PULL_LIMIT_COUNT,t._pullMissingMessage(e)),t.getModule(rd).onNewGroupMessage({dataList:i,isInstantMessage:!1}))}))}},{key:"_getGroupMissingMessage",value:function(e){var t=this,n=new vg(mg.GET_GROUP_MISSING_MESSAGE);return this.request({protocolName:ph,requestData:{groupID:e.groupID,count:e.count,sequence:e.sequence}}).then((function(r){var o=r.data.messageList,i=void 0===o?[]:o;return n.setNetworkType(t.getNetworkType()).setMessage("groupID:".concat(e.groupID," count:").concat(e.count," sequence:").concat(e.sequence," messageList length:").concat(i.length)).end(),i})).catch((function(e){t.probeNetwork().then((function(t){var r=_(t,2),o=r[0],i=r[1];n.setError(e,o,i).end()}))}))}},{key:"reset",value:function(){xl.log("".concat(this._className,".reset")),this._remoteLastMessageSequenceMap.clear()}}]),n}(Sd),VI=function(){function e(){o(this,e),this._className="AvgE2EDelay",this._e2eDelayArray=[]}return a(e,[{key:"addMessageDelay",value:function(e){var t=Nl()-e;t>=0&&this._e2eDelayArray.push(t)}},{key:"_calcAvg",value:function(e,t){if(0===t)return 0;var n=0;return e.forEach((function(e){n+=e})),Lf(n/t,1)}},{key:"_calcCountWithLimit",value:function(e){var t=e.e2eDelayArray,n=e.min,r=e.max;return t.filter((function(e){return n<=e&&e<r})).length}},{key:"_calcPercent",value:function(e,t){var n=Lf(e/t*100,2);return n>100&&(n=100),n}},{key:"_checkE2EDelayException",value:function(e,t){var n=e.filter((function(e){return e>t}));if(n.length>0){var r=n.length,o=Math.min.apply(Math,y(n)),i=Math.max.apply(Math,y(n)),a=this._calcAvg(n,r),s=Lf(r/e.length*100,2);s>50&&new vg(mg.MESSAGE_E2E_DELAY_EXCEPTION).setMessage("message e2e delay exception. count:".concat(r," min:").concat(o," max:").concat(i," avg:").concat(a," percent:").concat(s)).setLevel("warning").end()}}},{key:"getStatResult",value:function(){var e=this._e2eDelayArray.length;if(0===e)return null;var t=y(this._e2eDelayArray),n=this._calcCountWithLimit({e2eDelayArray:t,min:0,max:1}),r=this._calcCountWithLimit({e2eDelayArray:t,min:1,max:3}),o=this._calcPercent(n,e),i=this._calcPercent(r,e),a=this._calcAvg(t,e);return this._checkE2EDelayException(t,3),t.length=0,this.reset(),{totalCount:e,countLessThan1Second:n,percentOfCountLessThan1Second:o,countLessThan3Second:r,percentOfCountLessThan3Second:i,avgDelay:a}}},{key:"reset",value:function(){this._e2eDelayArray.length=0}}]),e}(),$I=function(){function e(){o(this,e),this._className="AvgRTT",this._requestCount=0,this._rttArray=[]}return a(e,[{key:"addRequestCount",value:function(){this._requestCount+=1}},{key:"addRTT",value:function(e){this._rttArray.push(e)}},{key:"_calcTotalCount",value:function(){return this._requestCount}},{key:"_calcRTTCount",value:function(e){return e.length}},{key:"_calcSuccessRateOfRequest",value:function(e,t){if(0===t)return 0;var n=Lf(e/t*100,2);return n>100&&(n=100),n}},{key:"_calcAvg",value:function(e,t){if(0===t)return 0;var n=0;return e.forEach((function(e){n+=e})),parseInt(n/t)}},{key:"_calcMax",value:function(){return Math.max.apply(Math,y(this._rttArray))}},{key:"_calcMin",value:function(){return Math.min.apply(Math,y(this._rttArray))}},{key:"getStatResult",value:function(){var e=this._calcTotalCount(),t=y(this._rttArray);if(0===e)return null;var n=this._calcRTTCount(t),r=this._calcSuccessRateOfRequest(n,e),o=this._calcAvg(t,n);return xl.log("".concat(this._className,".getStatResult max:").concat(this._calcMax()," min:").concat(this._calcMin()," avg:").concat(o)),this.reset(),{totalCount:e,rttCount:n,successRateOfRequest:r,avgRTT:o}}},{key:"reset",value:function(){this._requestCount=0,this._rttArray.length=0}}]),e}(),HI=function(){function e(){o(this,e),this._map=new Map}return a(e,[{key:"initMap",value:function(e){var t=this;e.forEach((function(e){t._map.set(e,{totalCount:0,successCount:0,failedCountOfUserSide:0,costArray:[],fileSizeArray:[]})}))}},{key:"addTotalCount",value:function(e){return!(Zl(e)||!this._map.has(e))&&(this._map.get(e).totalCount+=1,!0)}},{key:"addSuccessCount",value:function(e){return!(Zl(e)||!this._map.has(e))&&(this._map.get(e).successCount+=1,!0)}},{key:"addFailedCountOfUserSide",value:function(e){return!(Zl(e)||!this._map.has(e))&&(this._map.get(e).failedCountOfUserSide+=1,!0)}},{key:"addCost",value:function(e,t){return!(Zl(e)||!this._map.has(e))&&(this._map.get(e).costArray.push(t),!0)}},{key:"addFileSize",value:function(e,t){return!(Zl(e)||!this._map.has(e))&&(this._map.get(e).fileSizeArray.push(t),!0)}},{key:"_calcSuccessRateOfBusiness",value:function(e){if(Zl(e)||!this._map.has(e))return-1;var t=this._map.get(e),n=Lf(t.successCount/t.totalCount*100,2);return n>100&&(n=100),n}},{key:"_calcSuccessRateOfPlatform",value:function(e){if(Zl(e)||!this._map.has(e))return-1;var t=this._map.get(e),n=this._calcSuccessCountOfPlatform(e)/t.totalCount*100;return(n=Lf(n,2))>100&&(n=100),n}},{key:"_calcTotalCount",value:function(e){return Zl(e)||!this._map.has(e)?-1:this._map.get(e).totalCount}},{key:"_calcSuccessCountOfBusiness",value:function(e){return Zl(e)||!this._map.has(e)?-1:this._map.get(e).successCount}},{key:"_calcSuccessCountOfPlatform",value:function(e){if(Zl(e)||!this._map.has(e))return-1;var t=this._map.get(e);return t.successCount+t.failedCountOfUserSide}},{key:"_calcAvg",value:function(e){return Zl(e)||!this._map.has(e)?-1:e===cg?this._calcAvgSpeed(e):this._calcAvgCost(e)}},{key:"_calcAvgCost",value:function(e){var t=this._map.get(e).costArray.length;if(0===t)return 0;var n=0;return this._map.get(e).costArray.forEach((function(e){n+=e})),parseInt(n/t)}},{key:"_calcAvgSpeed",value:function(e){var t=0,n=0;return this._map.get(e).costArray.forEach((function(e){t+=e})),this._map.get(e).fileSizeArray.forEach((function(e){n+=e})),parseInt(1e3*n/t)}},{key:"getStatResult",value:function(e){var t=this._calcTotalCount(e);if(0===t)return null;var n=this._calcSuccessCountOfBusiness(e),r=this._calcSuccessRateOfBusiness(e),o=this._calcSuccessCountOfPlatform(e),i=this._calcSuccessRateOfPlatform(e),a=this._calcAvg(e);return this.reset(e),{totalCount:t,successCountOfBusiness:n,successRateOfBusiness:r,successCountOfPlatform:o,successRateOfPlatform:i,avgValue:a}}},{key:"reset",value:function(e){Zl(e)?this._map.clear():this._map.set(e,{totalCount:0,successCount:0,failedCountOfUserSide:0,costArray:[],fileSizeArray:[]})}}]),e}(),KI=function(){function e(){o(this,e),this._lastMap=new Map,this._currentMap=new Map}return a(e,[{key:"initMap",value:function(e){var t=this;e.forEach((function(e){t._lastMap.set(e,new Map),t._currentMap.set(e,new Map)}))}},{key:"addMessageSequence",value:function(e){var t=e.key,n=e.message;if(Zl(t)||!this._lastMap.has(t)||!this._currentMap.has(t))return!1;var r=n.conversationID,o=n.sequence,i=r.replace(ho.CONV_GROUP,"");if(0===this._lastMap.get(t).size)this._addCurrentMap(e);else if(this._lastMap.get(t).has(i)){var a=this._lastMap.get(t).get(i),s=a.length-1;o>a[0]&&o<a[s]?(a.push(o),a.sort(),this._lastMap.get(t).set(i,a)):this._addCurrentMap(e)}else this._addCurrentMap(e);return!0}},{key:"_addCurrentMap",value:function(e){var t=e.key,n=e.message,r=n.conversationID,o=n.sequence,i=r.replace(ho.CONV_GROUP,"");this._currentMap.get(t).has(i)||this._currentMap.get(t).set(i,[]),this._currentMap.get(t).get(i).push(o)}},{key:"_copyData",value:function(e){if(!Zl(e)){this._lastMap.set(e,new Map);var t,n=this._lastMap.get(e),r=T(this._currentMap.get(e));try{for(r.s();!(t=r.n()).done;){var o=_(t.value,2),i=o[0],a=o[1];n.set(i,a)}}catch(c){r.e(c)}finally{r.f()}n=null,this._currentMap.set(e,new Map)}}},{key:"getStatResult",value:function(e){if(Zl(this._currentMap.get(e))||Zl(this._lastMap.get(e)))return null;if(0===this._lastMap.get(e).size)return this._copyData(e),null;var t=0,n=0;if(this._lastMap.get(e).forEach((function(e,r){var o=y(e.values()),i=o.length,a=o[i-1]-o[0]+1;t+=a,n+=i})),0===t)return null;var r=Lf(n/t*100,2);return r>100&&(r=100),this._copyData(e),{totalCount:t,successCountOfMessageReceived:n,successRateOfMessageReceived:r}}},{key:"reset",value:function(){this._currentMap.clear(),this._lastMap.clear()}}]),e}(),WI=function(e){c(r,e);var t=m(r);function r(e){var n;o(this,r),(n=t.call(this,e))._className="QualityStatModule",n.TAG="im-ssolog-quality-stat",n.reportIndex=0,n.wholePeriod=!1,n._qualityItems=[ng,rg,og,ig,ag,sg,cg,ug,lg,fg],n._messageSentItems=[og,ig,ag,sg,cg],n._messageReceivedItems=[ug,lg,fg],n.REPORT_INTERVAL=120,n.REPORT_SDKAPPID_BLACKLIST=[],n.REPORT_TINYID_WHITELIST=[],n._statInfoArr=[],n._avgRTT=new $I,n._avgE2EDelay=new VI,n._rateMessageSent=new HI,n._rateMessageReceived=new KI;var i=n.getInnerEmitterInstance();return i.on(W_,n._onLoginSuccess,g(n)),i.on(z_,n._onCloudConfigUpdated,g(n)),n}return a(r,[{key:"_onLoginSuccess",value:function(){var e=this;this._rateMessageSent.initMap(this._messageSentItems),this._rateMessageReceived.initMap(this._messageReceivedItems);var t=this.getModule(ud),n=t.getItem(this.TAG,!1);!jf(n)&&tf(n.forEach)&&(xl.log("".concat(this._className,"._onLoginSuccess.get quality stat log in storage, nums=").concat(n.length)),n.forEach((function(t){e._statInfoArr.push(t)})),t.removeItem(this.TAG,!1))}},{key:"_onCloudConfigUpdated",value:function(){var e=this.getCloudConfig("q_rpt_interval"),t=this.getCloudConfig("q_rpt_sdkappid_bl"),n=this.getCloudConfig("q_rpt_tinyid_wl");Zl(e)||(this.REPORT_INTERVAL=Number(e)),Zl(t)||(this.REPORT_SDKAPPID_BLACKLIST=t.split(",").map((function(e){return Number(e)}))),Zl(n)||(this.REPORT_TINYID_WHITELIST=n.split(","))}},{key:"onCheckTimer",value:function(e){this.isLoggedIn()&&e%this.REPORT_INTERVAL==0&&(this.wholePeriod=!0,this._report())}},{key:"addRequestCount",value:function(){this._avgRTT.addRequestCount()}},{key:"addRTT",value:function(e){this._avgRTT.addRTT(e)}},{key:"addMessageDelay",value:function(e){this._avgE2EDelay.addMessageDelay(e)}},{key:"addTotalCount",value:function(e){this._rateMessageSent.addTotalCount(e)||xl.warn("".concat(this._className,".addTotalCount invalid key:"),e)}},{key:"addSuccessCount",value:function(e){this._rateMessageSent.addSuccessCount(e)||xl.warn("".concat(this._className,".addSuccessCount invalid key:"),e)}},{key:"addFailedCountOfUserSide",value:function(e){this._rateMessageSent.addFailedCountOfUserSide(e)||xl.warn("".concat(this._className,".addFailedCountOfUserSide invalid key:"),e)}},{key:"addCost",value:function(e,t){this._rateMessageSent.addCost(e,t)||xl.warn("".concat(this._className,".addCost invalid key or cost:"),e,t)}},{key:"addFileSize",value:function(e,t){this._rateMessageSent.addFileSize(e,t)||xl.warn("".concat(this._className,".addFileSize invalid key or size:"),e,t)}},{key:"addMessageSequence",value:function(e){this._rateMessageReceived.addMessageSequence(e)||xl.warn("".concat(this._className,".addMessageSequence invalid key:"),e.key)}},{key:"_getQualityItem",value:function(e){var t={},r=hg[this.getNetworkType()];Zl(r)&&(r=8);var o={qualityType:pg[e],timestamp:Rl(),networkType:r,extension:""};switch(e){case ng:t=this._avgRTT.getStatResult();break;case rg:t=this._avgE2EDelay.getStatResult();break;case og:case ig:case ag:case sg:case cg:t=this._rateMessageSent.getStatResult(e);break;case ug:case lg:case fg:t=this._rateMessageReceived.getStatResult(e)}return null===t?null:n(n({},o),t)}},{key:"_report",value:function(e){var t=this,n=[],r=null;Zl(e)?this._qualityItems.forEach((function(e){null!==(r=t._getQualityItem(e))&&(r.reportIndex=t.reportIndex,r.wholePeriod=t.wholePeriod,n.push(r))})):null!==(r=this._getQualityItem(e))&&(r.reportIndex=this.reportIndex,r.wholePeriod=this.wholePeriod,n.push(r)),xl.debug("".concat(this._className,"._report"),n),this._statInfoArr.length>0&&(n=n.concat(this._statInfoArr),this._statInfoArr=[]);var o=this.getModule(cd),i=o.getSDKAppID(),a=o.getTinyID();Pf(this.REPORT_SDKAPPID_BLACKLIST,i)&&!xf(this.REPORT_TINYID_WHITELIST,a)&&(n=[]),n.length>0&&this._doReport(n)}},{key:"_doReport",value:function(e){var t=this,r={header:By(this),quality:e};this.request({protocolName:Gh,requestData:n({},r)}).then((function(){t.reportIndex++,t.wholePeriod=!1})).catch((function(n){xl.warn("".concat(t._className,"._doReport, online:").concat(t.getNetworkType()," error:"),n),t._statInfoArr=t._statInfoArr.concat(e),t._flushAtOnce()}))}},{key:"_flushAtOnce",value:function(){var e=this.getModule(ud),t=e.getItem(this.TAG,!1),n=this._statInfoArr;if(jf(t))xl.log("".concat(this._className,"._flushAtOnce count:").concat(n.length)),e.setItem(this.TAG,n,!0,!1);else{var r=n.concat(t);r.length>10&&(r=r.slice(0,10)),xl.log("".concat(this.className,"._flushAtOnce count:").concat(r.length)),e.setItem(this.TAG,r,!0,!1)}this._statInfoArr=[]}},{key:"reset",value:function(){xl.log("".concat(this._className,".reset")),this._report(),this.reportIndex=0,this.wholePeriod=!1,this.REPORT_SDKAPPID_BLACKLIST=[],this.REPORT_TINYID_WHITELIST=[],this._avgRTT.reset(),this._avgE2EDelay.reset(),this._rateMessageSent.reset(),this._rateMessageReceived.reset()}}]),r}(Sd),zI=function(e){c(n,e);var t=m(n);function n(e){var r;return o(this,n),(r=t.call(this,e))._className="WorkerTimerModule",r._isWorkerEnabled=!0,r._workerTimer=null,r._init(),r.getInnerEmitterInstance().on(z_,r._onCloudConfigUpdated,g(r)),r}return a(n,[{key:"isWorkerEnabled",value:function(){return this._isWorkerEnabled&&fl}},{key:"startWorkerTimer",value:function(){xl.log("".concat(this._className,".startWorkerTimer")),this._workerTimer&&this._workerTimer.postMessage("start")}},{key:"stopWorkerTimer",value:function(){xl.log("".concat(this._className,".stopWorkerTimer")),this._workerTimer&&this._workerTimer.postMessage("stop")}},{key:"_init",value:function(){if(fl){var e=URL.createObjectURL(new Blob(['let interval = -1;onmessage = function(event) {  if (event.data === "start") {    if (interval > 0) {      clearInterval(interval);    }    interval = setInterval(() => {      postMessage("");    }, 1000)  } else if (event.data === "stop") {    clearInterval(interval);    interval = -1;  }};'],{type:"application/javascript; charset=utf-8"}));this._workerTimer=new Worker(e);var t=this;this._workerTimer.onmessage=function(){t._moduleManager.onCheckTimer()}}}},{key:"_onCloudConfigUpdated",value:function(){var e=this.getCloudConfig("enable_worker");xl.log("".concat(this._className,"._onCloudConfigUpdated enableWorker:").concat(e)),"1"===e?!this._isWorkerEnabled&&fl&&(this._isWorkerEnabled=!0,this.startWorkerTimer(),this._moduleManager.onWorkerTimerEnabled()):this._isWorkerEnabled&&fl&&(this._isWorkerEnabled=!1,this.stopWorkerTimer(),this._moduleManager.onWorkerTimerDisabled())}},{key:"terminate",value:function(){xl.log("".concat(this._className,".terminate")),this._workerTimer&&(this._workerTimer.terminate(),this._workerTimer=null)}},{key:"reset",value:function(){xl.log("".concat(this._className,".reset"))}}]),n}(Sd),YI=function(){function e(){o(this,e),this._className="PurchasedFeatureHandler",this._purchasedFeatureMap=new Map}return a(e,[{key:"isValidPurchaseBits",value:function(e){return e&&"string"==typeof e&&e.length>=1&&e.length<=64&&/[01]{1,64}/.test(e)}},{key:"parsePurchaseBits",value:function(e){var t="".concat(this._className,".parsePurchaseBits");if(this.isValidPurchaseBits(e)){this._purchasedFeatureMap.clear();for(var n=Object.values(xu),r=null,o=e.length-1,i=0;o>=0;o--,i++)r=i<32?new Su(0,Math.pow(2,i)).toString():new Su(Math.pow(2,i-32),0).toString(),-1!==n.indexOf(r)&&("1"===e[o]?this._purchasedFeatureMap.set(r,!0):this._purchasedFeatureMap.set(r,!1))}else xl.warn("".concat(t," invalid purchase bits:").concat(e))}},{key:"hasPurchasedFeature",value:function(e){return!!this._purchasedFeatureMap.get(e)}},{key:"clear",value:function(){this._purchasedFeatureMap.clear()}}]),e}(),JI=function(e){c(n,e);var t=m(n);function n(e){var r;return o(this,n),(r=t.call(this,e))._className="CommercialConfigModule",r._expiredTime=0,r._isFetching=!1,r._purchasedFeatureHandler=new YI,r}return a(n,[{key:"_canFetch",value:function(){return this.isLoggedIn()?!this._isFetching&&Date.now()>=this._expiredTime:(this._expiredTime=Date.now()+2e3,!1)}},{key:"onCheckTimer",value:function(e){this._canFetch()&&this.fetchConfig()}},{key:"fetchConfig",value:function(){var e=this,t=this._canFetch(),n="".concat(this._className,".fetchConfig");if(xl.log("".concat(n," canFetch:").concat(t)),t){var r=new vg(mg.FETCH_COMMERCIAL_CONFIG);r.setNetworkType(this.getNetworkType());var o=this.getModule(cd).getSDKAppID();this._isFetching=!0,this.request({protocolName:Wh,requestData:{SDKAppID:o}}).then((function(t){r.setMessage("purchaseBits:".concat(t.data.purchaseBits)).end(),xl.log("".concat(n," ok.")),e._parseConfig(t.data),e._isFetching=!1})).catch((function(t){e.probeNetwork().then((function(e){var n=_(e,2),o=n[0],i=n[1];r.setError(t,o,i).end()})),e._isFetching=!1}))}}},{key:"onPushedConfig",value:function(e){var t="".concat(this._className,".onPushedConfig");xl.log("".concat(t)),new vg(mg.PUSHED_COMMERCIAL_CONFIG).setNetworkType(this.getNetworkType()).setMessage("purchaseBits:".concat(e.purchaseBits)).end(),this._parseConfig(e)}},{key:"_parseConfig",value:function(e){var t="".concat(this._className,"._parseConfig"),n=e.errorCode,r=e.errorMessage,o=e.purchaseBits,i=e.expiredTime;0===n?(this._purchasedFeatureHandler.parsePurchaseBits(o),this._expiredTime=Date.now()+1e3*i):Zl(n)?(xl.log("".concat(t," failed. Invalid message format:"),e),this._setExpiredTimeOnResponseError(36e5)):(xl.error("".concat(t," errorCode:").concat(n," errorMessage:").concat(r)),this._setExpiredTimeOnResponseError(12e4))}},{key:"_setExpiredTimeOnResponseError",value:function(e){this._expiredTime=Date.now()+e}},{key:"hasPurchasedFeature",value:function(e){return this._purchasedFeatureHandler.hasPurchasedFeature(e)}},{key:"reset",value:function(){xl.log("".concat(this._className,".reset")),this._expiredTime=0,this._isFetching=!1,this._purchasedFeatureHandler.clear()}}]),n}(Sd),XI=function(){function e(t){o(this,e);var n=new vg(mg.SDK_CONSTRUCT);this._className="ModuleManager",this._isReady=!1,this._reason=eg.USER_NOT_LOGGED_IN,this._startLoginTs=0,this._moduleMap=new Map,this._innerEmitter=null,this._outerEmitter=null,this._checkCount=0,this._checkTimer=-1,this._moduleMap.set(cd,new Py(this,t)),this._moduleMap.set(Id,new JI(this)),this._moduleMap.set(yd,new qI(this)),this._moduleMap.set(bd,new zI(this)),this._moduleMap.set(Ed,new WI(this)),this._moduleMap.set(md,new NI(this)),this._moduleMap.set(vd,new FI(this)),this._moduleMap.set(Zp,new xy(this)),this._moduleMap.set(ed,new nb(this)),this._moduleMap.set(td,new Ly(this)),this._moduleMap.set(nd,new D_(this)),this._moduleMap.set(sd,new fy(this)),this._moduleMap.set(rd,new Sy(this)),this._moduleMap.set(id,new Oy(this)),this._moduleMap.set(ad,new Ry(this)),this._moduleMap.set(ud,new jy(this)),this._moduleMap.set(ld,new Vy(this)),this._moduleMap.set(fd,new Wy(this)),this._moduleMap.set(pd,new Yy(this)),this._moduleMap.set(dd,new Xy(this)),this._moduleMap.set(hd,new rb(this)),this._moduleMap.set(gd,new ob(this)),this._moduleMap.set(_d,new jI(this)),this._moduleMap.set(Md,new BI(this)),this._eventThrottleMap=new Map;var r=t.instanceID,i=t.oversea,a=t.SDKAppID,s="instanceID:".concat(r," SDKAppID:").concat(a," host:").concat(Rf()," oversea:").concat(i," inBrowser:").concat(Ku," inMiniApp:").concat(Hu)+" workerAvailable:".concat(fl," UserAgent:").concat(Yu);vg.bindEventStatModule(this._moduleMap.get(ld)),n.setMessage("".concat(s," ").concat(function(){var e="";if(Hu)try{var t=Wu.getSystemInfoSync(),n=t.model,r=t.version,o=t.system,i=t.platform,a=t.SDKVersion;e="model:".concat(n," version:").concat(r," system:").concat(o," platform:").concat(i," SDKVersion:").concat(a)}catch(oS){e=""}return e}())).end(),xl.info("SDK ".concat(s)),this._readyList=void 0,this._ssoLogForReady=null,this._initReadyList()}return a(e,[{key:"_startTimer",value:function(){var e=this._moduleMap.get(bd),t=e.isWorkerEnabled();xl.log("".concat(this._className,".startTimer isWorkerEnabled:").concat(t," seed:").concat(this._checkTimer)),t?e.startWorkerTimer():this._startMainThreadTimer()}},{key:"_startMainThreadTimer",value:function(){xl.log("".concat(this._className,"._startMainThreadTimer")),this._checkTimer<0&&(this._checkTimer=setInterval(this.onCheckTimer.bind(this),1e3))}},{key:"stopTimer",value:function(){var e=this._moduleMap.get(bd),t=e.isWorkerEnabled();xl.log("".concat(this._className,".stopTimer isWorkerEnabled:").concat(t," seed:").concat(this._checkTimer)),t?e.stopWorkerTimer():this._stopMainThreadTimer()}},{key:"_stopMainThreadTimer",value:function(){xl.log("".concat(this._className,"._stopMainThreadTimer")),this._checkTimer>0&&(clearInterval(this._checkTimer),this._checkTimer=-1,this._checkCount=0)}},{key:"_stopMainThreadSocket",value:function(){xl.log("".concat(this._className,"._stopMainThreadSocket"));var e=this._moduleMap.get(md);e.setIsWorkerEnabled(!0),e.reConnect()}},{key:"_startMainThreadSocket",value:function(){xl.log("".concat(this._className,"._startMainThreadSocket"));var e=this._moduleMap.get(md);e.setIsWorkerEnabled(!1),e.reConnect()}},{key:"onWorkerTimerEnabled",value:function(){xl.log("".concat(this._className,".onWorkerTimerEnabled, disable main thread timer and socket")),this._stopMainThreadTimer(),this._stopMainThreadSocket()}},{key:"onWorkerTimerDisabled",value:function(){xl.log("".concat(this._className,".onWorkerTimerDisabled, enable main thread timer and socket")),this._startMainThreadTimer(),this._startMainThreadSocket()}},{key:"onCheckTimer",value:function(){this._checkCount+=1;var e,t=T(this._moduleMap);try{for(t.s();!(e=t.n()).done;){var n=_(e.value,2)[1];n.onCheckTimer&&n.onCheckTimer(this._checkCount)}}catch(o){t.e(o)}finally{t.f()}}},{key:"_initReadyList",value:function(){var e=this;this._readyList=[this._moduleMap.get(Zp),this._moduleMap.get(sd)],this._readyList.forEach((function(t){t.ready((function(){return e._onModuleReady()}))}))}},{key:"_onModuleReady",value:function(){var e=!0;if(this._readyList.forEach((function(t){t.isReady()||(e=!1)})),e&&!this._isReady){this._isReady=!0,this._outerEmitter.emit(po.SDK_READY);var t=Date.now()-this._startLoginTs;xl.warn("SDK is ready. cost ".concat(t," ms")),this._startLoginTs=Date.now();var n=this._moduleMap.get(fd).getNetworkType(),r=this._ssoLogForReady.getStartTs()+wl;this._ssoLogForReady.setNetworkType(n).setMessage(t).start(r).end()}}},{key:"login",value:function(){0===this._startLoginTs&&(Dl(),this._startLoginTs=Date.now(),this._startTimer(),this._moduleMap.get(fd).start(),this._ssoLogForReady=new vg(mg.SDK_READY),this._reason=eg.LOGGING_IN)}},{key:"onLoginFailed",value:function(){this._startLoginTs=0}},{key:"getOuterEmitterInstance",value:function(){return null===this._outerEmitter&&(this._outerEmitter=new zy,A_(this._outerEmitter),this._outerEmitter._emit=this._outerEmitter.emit,this._outerEmitter.emit=function(e,t){var n=this;if(e===po.CONVERSATION_LIST_UPDATED||e===po.FRIEND_LIST_UPDATED||e===po.GROUP_LIST_UPDATED)if(this._eventThrottleMap.has(e)){var r=Date.now(),o=this._eventThrottleMap.get(e);r-o.last<1e3?(o.timeoutID&&clearTimeout(o.timeoutID),o.timeoutID=setTimeout((function(){o.last=r,n._outerEmitter._emit.apply(n._outerEmitter,[e,{name:e,data:n._getEventData(e)}])}),500)):(o.last=r,this._outerEmitter._emit.apply(this._outerEmitter,[e,{name:e,data:this._getEventData(e)}]))}else this._eventThrottleMap.set(e,{last:Date.now(),timeoutID:-1}),this._outerEmitter._emit.apply(this._outerEmitter,[e,{name:e,data:this._getEventData(e)}]);else this._outerEmitter._emit.apply(this._outerEmitter,[e,{name:e,data:arguments[1]}])}.bind(this)),this._outerEmitter}},{key:"_getEventData",value:function(e){return e===po.CONVERSATION_LIST_UPDATED?this._moduleMap.get(sd).getLocalConversationList():e===po.FRIEND_LIST_UPDATED?this._moduleMap.get(od).getLocalFriendList(!1):e===po.GROUP_LIST_UPDATED?this._moduleMap.get(rd).getLocalGroupList():void 0}},{key:"getInnerEmitterInstance",value:function(){return null===this._innerEmitter&&(this._innerEmitter=new zy,this._innerEmitter._emit=this._innerEmitter.emit,this._innerEmitter.emit=function(e,t){var n;Xl(arguments[1])&&arguments[1].data?(xl.warn("inner eventData has data property, please check!"),n=[e,{name:arguments[0],data:arguments[1].data}]):n=[e,{name:arguments[0],data:arguments[1]}],this._innerEmitter._emit.apply(this._innerEmitter,n)}.bind(this)),this._innerEmitter}},{key:"hasModule",value:function(e){return this._moduleMap.has(e)}},{key:"getModule",value:function(e){return this._moduleMap.get(e)}},{key:"isReady",value:function(){return this._isReady}},{key:"getNotReadyReason",value:function(){return this._reason}},{key:"setNotReadyReason",value:function(e){this._reason=e}},{key:"onError",value:function(e){xl.warn("Oops! code:".concat(e.code," message:").concat(e.message)),new vg(mg.ERROR).setMessage("code:".concat(e.code," message:").concat(e.message)).setNetworkType(this.getModule(fd).getNetworkType()).setLevel("error").end(),this.getOuterEmitterInstance().emit(po.ERROR,e)}},{key:"reset",value:function(){xl.log("".concat(this._className,".reset")),Dl();var e,t=T(this._moduleMap);try{for(t.s();!(e=t.n()).done;){var n=_(e.value,2)[1];n.reset&&n.reset()}}catch(s){t.e(s)}finally{t.f()}this._startLoginTs=0,this._initReadyList(),this._isReady=!1,this.stopTimer(),this._outerEmitter.emit(po.SDK_NOT_READY);var r,o=T(this._eventThrottleMap);try{for(o.s();!(r=o.n()).done;){var i=_(r.value,2)[1];i.timeoutID&&clearTimeout(i.timeoutID)}}catch(s){o.e(s)}finally{o.f()}this._eventThrottleMap.clear()}}]),e}(),QI=function(){function e(){o(this,e),this._funcMap=new Map}return a(e,[{key:"defense",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if("string"!=typeof e)return null;if(0===e.length)return null;if("function"!=typeof t)return null;if(this._funcMap.has(e)&&this._funcMap.get(e).has(t))return this._funcMap.get(e).get(t);this._funcMap.has(e)||this._funcMap.set(e,new Map);var r=null;return this._funcMap.get(e).has(t)?r=this._funcMap.get(e).get(t):(r=this._pack(e,t,n),this._funcMap.get(e).set(t,r)),r}},{key:"defenseOnce",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return"function"!=typeof t?null:this._pack(e,t,n)}},{key:"find",value:function(e,t){return"string"!=typeof e||0===e.length||"function"!=typeof t?null:this._funcMap.has(e)?this._funcMap.get(e).has(t)?this._funcMap.get(e).get(t):(xl.log("SafetyCallback.find: 找不到 func —— ".concat(e,"/").concat(""!==t.name?t.name:"[anonymous]")),null):(xl.log("SafetyCallback.find: 找不到 eventName-".concat(e," 对应的 func")),null)}},{key:"delete",value:function(e,t){return"function"==typeof t&&!!this._funcMap.has(e)&&!!this._funcMap.get(e).has(t)&&(this._funcMap.get(e).delete(t),0===this._funcMap.get(e).size&&this._funcMap.delete(e),!0)}},{key:"_pack",value:function(e,t,n){return function(){try{t.apply(n,Array.from(arguments))}catch(s){var r=Object.values(po).indexOf(e);if(-1!==r){var o=Object.keys(po)[r];xl.warn("接入侧事件 TIM.EVENT.".concat(o," 对应的回调函数逻辑存在问题，请检查！"),s)}var i=new vg(mg.CALLBACK_FUNCTION_ERROR);i.setMessage("eventName:".concat(e)).setMoreMessage(s.message).end()}}}}]),e}(),ZI=function(){function e(t){o(this,e);var n={SDKAppID:t.SDKAppID,unlimitedAVChatRoom:t.unlimitedAVChatRoom||!1,scene:t.scene||"",oversea:t.oversea||!1,instanceID:wf(),devMode:t.devMode||!1,proxyServer:t.proxyServer||void 0};this._moduleManager=new XI(n),this._safetyCallbackFactory=new QI}return a(e,[{key:"onError",value:function(e){this._moduleManager.onError(e)}},{key:"login",value:function(e){return this._moduleManager.login(),this._moduleManager.getModule(Zp).login(e)}},{key:"logout",value:function(){var e=this;return this._moduleManager.getModule(Zp).logout().then((function(t){return e._moduleManager.reset(),t}))}},{key:"isReady",value:function(){return this._moduleManager.isReady()}},{key:"getNotReadyReason",value:function(){return this._moduleManager.getNotReadyReason()}},{key:"destroy",value:function(){var e=this;return this.logout().finally((function(){e._moduleManager.stopTimer(),e._moduleManager.getModule(bd).terminate(),e._moduleManager.getModule(md).dealloc();var t=e._moduleManager.getOuterEmitterInstance(),n=e._moduleManager.getModule(cd);t.emit(po.SDK_DESTROY,{SDKAppID:n.getSDKAppID()})}))}},{key:"on",value:function(e,t,n){e===po.GROUP_SYSTEM_NOTICE_RECEIVED&&xl.warn("！！！TIM.EVENT.GROUP_SYSTEM_NOTICE_RECEIVED v2.6.0起弃用，为了更好的体验，请在 TIM.EVENT.MESSAGE_RECEIVED 事件回调内接收处理群系统通知，详细请参考：https://web.sdk.qcloud.com/im/doc/zh-cn/Message.html#.GroupSystemNoticePayload"),xl.debug("on","eventName:".concat(e)),this._moduleManager.getOuterEmitterInstance().on(e,this._safetyCallbackFactory.defense(e,t,n),n)}},{key:"once",value:function(e,t,n){xl.debug("once","eventName:".concat(e)),this._moduleManager.getOuterEmitterInstance().once(e,this._safetyCallbackFactory.defenseOnce(e,t,n),n||this)}},{key:"off",value:function(e,t,n,r){xl.debug("off","eventName:".concat(e));var o=this._safetyCallbackFactory.find(e,t);null!==o&&(this._moduleManager.getOuterEmitterInstance().off(e,o,n,r),this._safetyCallbackFactory.delete(e,t))}},{key:"registerPlugin",value:function(e){this._moduleManager.getModule(hd).registerPlugin(e)}},{key:"setLogLevel",value:function(e){e<=0&&(console.log([""," ________  ______  __       __  __       __  ________  _______","|        \\|      \\|  \\     /  \\|  \\  _  |  \\|        \\|       \\"," \\$$$$$$$$ \\$$$$$$| $$\\   /  $$| $$ / \\ | $$| $$$$$$$$| $$$$$$$\\","   | $$     | $$  | $$$\\ /  $$$| $$/  $\\| $$| $$__    | $$__/ $$","   | $$     | $$  | $$$$\\  $$$$| $$  $$$\\ $$| $$  \\   | $$    $$","   | $$     | $$  | $$\\$$ $$ $$| $$ $$\\$$\\$$| $$$$$   | $$$$$$$\\","   | $$    _| $$_ | $$ \\$$$| $$| $$$$  \\$$$$| $$_____ | $$__/ $$","   | $$   |   $$ \\| $$  \\$ | $$| $$$    \\$$$| $$     \\| $$    $$","    \\$$    \\$$$$$$ \\$$      \\$$ \\$$      \\$$ \\$$$$$$$$ \\$$$$$$$","",""].join("\n")),console.log("%cIM 智能客服，随时随地解决您的问题 →_→ https://cloud.tencent.com/act/event/smarty-service?from=im-doc","color:#006eff"),console.log("%c从v2.11.2起，SDK 支持了 WebSocket，小程序需要添加受信域名！升级指引: https://web.sdk.qcloud.com/im/doc/zh-cn/tutorial-02-upgradeguideline.html","color:#ff0000"),console.log(["","参考以下文档，会更快解决问题哦！(#^.^#)\n","SDK 更新日志: https://cloud.tencent.com/document/product/269/38492\n","SDK 接口文档: https://web.sdk.qcloud.com/im/doc/zh-cn/SDK.html\n","常见问题: https://web.sdk.qcloud.com/im/doc/zh-cn/tutorial-01-faq.html\n","反馈问题？戳我提 issue: https://github.com/tencentyun/TIMSDK/issues\n","如果您需要在生产环境关闭上面的日志，请 tim.setLogLevel(1)\n"].join("\n"))),xl.setLevel(e)}},{key:"createTextMessage",value:function(e){return this._moduleManager.getModule(ed).createTextMessage(e)}},{key:"createTextAtMessage",value:function(e){return this._moduleManager.getModule(ed).createTextMessage(e)}},{key:"createImageMessage",value:function(e){return this._moduleManager.getModule(ed).createImageMessage(e)}},{key:"createAudioMessage",value:function(e){return this._moduleManager.getModule(ed).createAudioMessage(e)}},{key:"createVideoMessage",value:function(e){return this._moduleManager.getModule(ed).createVideoMessage(e)}},{key:"createCustomMessage",value:function(e){return this._moduleManager.getModule(ed).createCustomMessage(e)}},{key:"createFaceMessage",value:function(e){return this._moduleManager.getModule(ed).createFaceMessage(e)}},{key:"createFileMessage",value:function(e){return this._moduleManager.getModule(ed).createFileMessage(e)}},{key:"createLocationMessage",value:function(e){return this._moduleManager.getModule(ed).createLocationMessage(e)}},{key:"createMergerMessage",value:function(e){return this._moduleManager.getModule(ed).createMergerMessage(e)}},{key:"downloadMergerMessage",value:function(e){return e.type!==ho.MSG_MERGER?R_(new O_({code:eg.MESSAGE_MERGER_TYPE_INVALID,message:tg.MESSAGE_MERGER_TYPE_INVALID})):jf(e.payload.downloadKey)?R_(new O_({code:eg.MESSAGE_MERGER_KEY_INVALID,message:tg.MESSAGE_MERGER_KEY_INVALID})):this._moduleManager.getModule(ed).downloadMergerMessage(e).catch((function(e){return R_(new O_({code:eg.MESSAGE_MERGER_DOWNLOAD_FAIL,message:tg.MESSAGE_MERGER_DOWNLOAD_FAIL}))}))}},{key:"createForwardMessage",value:function(e){return this._moduleManager.getModule(ed).createForwardMessage(e)}},{key:"sendMessage",value:function(e,t){return e instanceof y_?this._moduleManager.getModule(ed).sendMessageInstance(e,t):R_(new O_({code:eg.MESSAGE_SEND_NEED_MESSAGE_INSTANCE,message:tg.MESSAGE_SEND_NEED_MESSAGE_INSTANCE}))}},{key:"callExperimentalAPI",value:function(e,t){return"handleGroupInvitation"===e?this._moduleManager.getModule(rd).handleGroupInvitation(t):R_(new O_({code:eg.INVALID_OPERATION,message:tg.INVALID_OPERATION}))}},{key:"revokeMessage",value:function(e){return this._moduleManager.getModule(ed).revokeMessage(e)}},{key:"resendMessage",value:function(e){return this._moduleManager.getModule(ed).resendMessage(e)}},{key:"deleteMessage",value:function(e){return this._moduleManager.getModule(ed).deleteMessage(e)}},{key:"modifyMessage",value:function(e){return this._moduleManager.getModule(ed).modifyRemoteMessage(e)}},{key:"getMessageList",value:function(e){return this._moduleManager.getModule(sd).getMessageList(e)}},{key:"getMessageListHopping",value:function(e){return this._moduleManager.getModule(sd).getMessageListHopping(e)}},{key:"sendMessageReadReceipt",value:function(e){return this._moduleManager.getModule(sd).sendReadReceipt(e)}},{key:"getMessageReadReceiptList",value:function(e){return this._moduleManager.getModule(sd).getReadReceiptList(e)}},{key:"getGroupMessageReadMemberList",value:function(e){return this._moduleManager.getModule(rd).getReadReceiptDetail(e)}},{key:"findMessage",value:function(e){return this._moduleManager.getModule(sd).findMessage(e)}},{key:"setMessageRead",value:function(e){return this._moduleManager.getModule(sd).setMessageRead(e)}},{key:"getConversationList",value:function(e){return this._moduleManager.getModule(sd).getConversationList(e)}},{key:"getConversationProfile",value:function(e){return this._moduleManager.getModule(sd).getConversationProfile(e)}},{key:"deleteConversation",value:function(e){return this._moduleManager.getModule(sd).deleteConversation(e)}},{key:"pinConversation",value:function(e){return this._moduleManager.getModule(sd).pinConversation(e)}},{key:"setAllMessageRead",value:function(e){return this._moduleManager.getModule(sd).setAllMessageRead(e)}},{key:"setMessageRemindType",value:function(e){return this._moduleManager.getModule(sd).setMessageRemindType(e)}},{key:"getMyProfile",value:function(){return this._moduleManager.getModule(td).getMyProfile()}},{key:"getUserProfile",value:function(e){return this._moduleManager.getModule(td).getUserProfile(e)}},{key:"updateMyProfile",value:function(e){return this._moduleManager.getModule(td).updateMyProfile(e)}},{key:"getBlacklist",value:function(){return this._moduleManager.getModule(td).getLocalBlacklist()}},{key:"addToBlacklist",value:function(e){return this._moduleManager.getModule(td).addBlacklist(e)}},{key:"removeFromBlacklist",value:function(e){return this._moduleManager.getModule(td).deleteBlacklist(e)}},{key:"getFriendList",value:function(){var e=this._moduleManager.getModule(od);return e?e.getLocalFriendList():R_({code:eg.CANNOT_FIND_MODULE,message:tg.CANNOT_FIND_MODULE})}},{key:"addFriend",value:function(e){var t=this._moduleManager.getModule(od);return t?t.addFriend(e):R_({code:eg.CANNOT_FIND_MODULE,message:tg.CANNOT_FIND_MODULE})}},{key:"deleteFriend",value:function(e){var t=this._moduleManager.getModule(od);return t?t.deleteFriend(e):R_({code:eg.CANNOT_FIND_MODULE,message:tg.CANNOT_FIND_MODULE})}},{key:"checkFriend",value:function(e){var t=this._moduleManager.getModule(od);return t?t.checkFriend(e):R_({code:eg.CANNOT_FIND_MODULE,message:tg.CANNOT_FIND_MODULE})}},{key:"getFriendProfile",value:function(e){var t=this._moduleManager.getModule(od);return t?t.getFriendProfile(e):R_({code:eg.CANNOT_FIND_MODULE,message:tg.CANNOT_FIND_MODULE})}},{key:"updateFriend",value:function(e){var t=this._moduleManager.getModule(od);return t?t.updateFriend(e):R_({code:eg.CANNOT_FIND_MODULE,message:tg.CANNOT_FIND_MODULE})}},{key:"getFriendApplicationList",value:function(){var e=this._moduleManager.getModule(od);return e?e.getLocalFriendApplicationList():R_({code:eg.CANNOT_FIND_MODULE,message:tg.CANNOT_FIND_MODULE})}},{key:"acceptFriendApplication",value:function(e){var t=this._moduleManager.getModule(od);return t?t.acceptFriendApplication(e):R_({code:eg.CANNOT_FIND_MODULE,message:tg.CANNOT_FIND_MODULE})}},{key:"refuseFriendApplication",value:function(e){var t=this._moduleManager.getModule(od);return t?t.refuseFriendApplication(e):R_({code:eg.CANNOT_FIND_MODULE,message:tg.CANNOT_FIND_MODULE})}},{key:"deleteFriendApplication",value:function(e){var t=this._moduleManager.getModule(od);return t?t.deleteFriendApplication(e):R_({code:eg.CANNOT_FIND_MODULE,message:tg.CANNOT_FIND_MODULE})}},{key:"setFriendApplicationRead",value:function(){var e=this._moduleManager.getModule(od);return e?e.setFriendApplicationRead():R_({code:eg.CANNOT_FIND_MODULE,message:tg.CANNOT_FIND_MODULE})}},{key:"getFriendGroupList",value:function(){var e=this._moduleManager.getModule(od);return e?e.getLocalFriendGroupList():R_({code:eg.CANNOT_FIND_MODULE,message:tg.CANNOT_FIND_MODULE})}},{key:"createFriendGroup",value:function(e){var t=this._moduleManager.getModule(od);return t?t.createFriendGroup(e):R_({code:eg.CANNOT_FIND_MODULE,message:tg.CANNOT_FIND_MODULE})}},{key:"deleteFriendGroup",value:function(e){var t=this._moduleManager.getModule(od);return t?t.deleteFriendGroup(e):R_({code:eg.CANNOT_FIND_MODULE,message:tg.CANNOT_FIND_MODULE})}},{key:"addToFriendGroup",value:function(e){var t=this._moduleManager.getModule(od);return t?t.addToFriendGroup(e):R_({code:eg.CANNOT_FIND_MODULE,message:tg.CANNOT_FIND_MODULE})}},{key:"removeFromFriendGroup",value:function(e){var t=this._moduleManager.getModule(od);return t?t.removeFromFriendGroup(e):R_({code:eg.CANNOT_FIND_MODULE,message:tg.CANNOT_FIND_MODULE})}},{key:"renameFriendGroup",value:function(e){var t=this._moduleManager.getModule(od);return t?t.renameFriendGroup(e):R_({code:eg.CANNOT_FIND_MODULE,message:tg.CANNOT_FIND_MODULE})}},{key:"getGroupList",value:function(e){return this._moduleManager.getModule(rd).getGroupList(e)}},{key:"getGroupProfile",value:function(e){return this._moduleManager.getModule(rd).getGroupProfile(e)}},{key:"createGroup",value:function(e){return this._moduleManager.getModule(rd).createGroup(e)}},{key:"dismissGroup",value:function(e){return this._moduleManager.getModule(rd).dismissGroup(e)}},{key:"updateGroupProfile",value:function(e){return this._moduleManager.getModule(rd).updateGroupProfile(e)}},{key:"joinGroup",value:function(e){return this._moduleManager.getModule(rd).joinGroup(e)}},{key:"quitGroup",value:function(e){return this._moduleManager.getModule(rd).quitGroup(e)}},{key:"searchGroupByID",value:function(e){return this._moduleManager.getModule(rd).searchGroupByID(e)}},{key:"getGroupOnlineMemberCount",value:function(e){return this._moduleManager.getModule(rd).getGroupOnlineMemberCount(e)}},{key:"changeGroupOwner",value:function(e){return this._moduleManager.getModule(rd).changeGroupOwner(e)}},{key:"handleGroupApplication",value:function(e){return this._moduleManager.getModule(rd).handleGroupApplication(e)}},{key:"initGroupAttributes",value:function(e){return this._moduleManager.getModule(rd).initGroupAttributes(e)}},{key:"setGroupAttributes",value:function(e){return this._moduleManager.getModule(rd).setGroupAttributes(e)}},{key:"deleteGroupAttributes",value:function(e){return this._moduleManager.getModule(rd).deleteGroupAttributes(e)}},{key:"getGroupAttributes",value:function(e){return this._moduleManager.getModule(rd).getGroupAttributes(e)}},{key:"getGroupMemberList",value:function(e){return this._moduleManager.getModule(id).getGroupMemberList(e)}},{key:"getGroupMemberProfile",value:function(e){return this._moduleManager.getModule(id).getGroupMemberProfile(e)}},{key:"addGroupMember",value:function(e){return this._moduleManager.getModule(id).addGroupMember(e)}},{key:"deleteGroupMember",value:function(e){return this._moduleManager.getModule(id).deleteGroupMember(e)}},{key:"setGroupMemberMuteTime",value:function(e){return this._moduleManager.getModule(id).setGroupMemberMuteTime(e)}},{key:"setGroupMemberRole",value:function(e){return this._moduleManager.getModule(id).setGroupMemberRole(e)}},{key:"setGroupMemberNameCard",value:function(e){return this._moduleManager.getModule(id).setGroupMemberNameCard(e)}},{key:"setGroupMemberCustomField",value:function(e){return this._moduleManager.getModule(id).setGroupMemberCustomField(e)}},{key:"getJoinedCommunityList",value:function(){return this._moduleManager.getModule(ad).getJoinedCommunityList()}},{key:"createTopicInCommunity",value:function(e){return this._moduleManager.getModule(ad).createTopicInCommunity(e)}},{key:"deleteTopicFromCommunity",value:function(e){return this._moduleManager.getModule(ad).deleteTopicFromCommunity(e)}},{key:"updateTopicProfile",value:function(e){return this._moduleManager.getModule(ad).updateTopicProfile(e)}},{key:"getTopicList",value:function(e){return this._moduleManager.getModule(ad).getTopicList(e)}}]),e}(),eS={login:"login",logout:"logout",destroy:"destroy",on:"on",off:"off",ready:"ready",setLogLevel:"setLogLevel",joinGroup:"joinGroup",quitGroup:"quitGroup",registerPlugin:"registerPlugin",getGroupOnlineMemberCount:"getGroupOnlineMemberCount"};function tS(e,t){if(e.isReady()||void 0!==eS[t])return!0;var n=e.getNotReadyReason(),r="";Object.getOwnPropertyNames(eg).forEach((function(e){eg[e]===n&&(r=tg[e])}));var o={code:n,message:"".concat(r,"导致 sdk not ready。").concat(t," ").concat(tg.SDK_IS_NOT_READY,"，请参考 https://web.sdk.qcloud.com/im/doc/zh-cn/module-EVENT.html#.SDK_READY")};return e.onError(o),o}var nS={},rS={create:function(e){var t=0;if(zl(e.SDKAppID))t=e.SDKAppID;else if(xl.warn("TIM.create SDKAppID 的类型应该为 Number，请修改！"),t=parseInt(e.SDKAppID),isNaN(t))return xl.error("TIM.create failed. 解析 SDKAppID 失败，请检查传参！"),null;if(t&&nS[t])return nS[t];xl.log("TIM.create");var r=new ZI(n(n({},e),{},{SDKAppID:t}));r.on(po.SDK_DESTROY,(function(e){nS[e.data.SDKAppID]=null,delete nS[e.data.SDKAppID]}));var o=function(e){var t=Object.create(null);return Object.keys($p).forEach((function(n){if(e[n]){var r=$p[n],o=new Oo;t[r]=function(){var t=Array.from(arguments);return o.use((function(t,r){var o=tS(e,n);return!0===o?r():R_(o)})).use((function(e,t){if(!0===qf(e,Vp[n],r))return t()})).use((function(t,r){return e[n].apply(e,t)})),o.run(t)}}})),t}(r);return nS[t]=o,xl.log("TIM.create ok"),o}};return rS.TYPES=ho,rS.EVENT=po,rS.VERSION="2.20.0",xl.log("TIM.VERSION: ".concat(rS.VERSION)),rS}))}).call(this,n("c8ba"))},e260:function(e,t,n){"use strict";var r=n("fc6a"),o=n("44d2"),i=n("3f8c"),a=n("69f3"),s=n("9bf2").f,c=n("7dd0"),u=n("c430"),l=n("83ab"),f="Array Iterator",p=a.set,d=a.getterFor(f);e.exports=c(Array,"Array",(function(e,t){p(this,{type:f,target:r(e),index:0,kind:t})}),(function(){var e=d(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var h=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!u&&l&&"values"!==h.name)try{s(h,"name",{value:"values"})}catch(g){}},e330:function(e,t,n){var r=n("40d5"),o=Function.prototype,i=o.bind,a=o.call,s=r&&i.bind(a,a);e.exports=r?function(e){return e&&s(e)}:function(e){return e&&function(){return a.apply(e,arguments)}}},e34a:function(e,t,n){var r=n("8b1a")("meta"),o=n("7a41"),i=n("9c0e"),a=n("1a14").f,s=0,c=Object.isExtensible||function(){return!0},u=!n("4b8b")((function(){return c(Object.preventExtensions({}))})),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[r].i},p=function(e,t){if(!i(e,r)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[r].w},d=function(e){return u&&h.NEED&&c(e)&&!i(e,r)&&l(e),e},h=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:p,onFreeze:d}},e391:function(e,t,n){var r=n("577e");e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},e439:function(e,t,n){var r=n("23e7"),o=n("d039"),i=n("fc6a"),a=n("06cf").f,s=n("83ab"),c=o((function(){a(1)})),u=!s||c;r({target:"Object",stat:!0,forced:u,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(i(e),t)}})},e444:function(e,t){e.exports=!0},e452:function(e,t,n){"use strict";t.__esModule=!0;var r=r||{};r.Utils=r.Utils||{},r.Utils.focusFirstDescendant=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(r.Utils.attemptFocus(n)||r.Utils.focusFirstDescendant(n))return!0}return!1},r.Utils.focusLastDescendant=function(e){for(var t=e.childNodes.length-1;t>=0;t--){var n=e.childNodes[t];if(r.Utils.attemptFocus(n)||r.Utils.focusLastDescendant(n))return!0}return!1},r.Utils.attemptFocus=function(e){if(!r.Utils.isFocusable(e))return!1;r.Utils.IgnoreUtilFocusChanges=!0;try{e.focus()}catch(t){}return r.Utils.IgnoreUtilFocusChanges=!1,document.activeElement===e},r.Utils.isFocusable=function(e){if(e.tabIndex>0||0===e.tabIndex&&null!==e.getAttribute("tabIndex"))return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&"ignore"!==e.rel;case"INPUT":return"hidden"!==e.type&&"file"!==e.type;case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},r.Utils.triggerEvent=function(e,t){var n=void 0;n=/^mouse|click/.test(t)?"MouseEvents":/^key/.test(t)?"KeyboardEvent":"HTMLEvents";for(var r=document.createEvent(n),o=arguments.length,i=Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];return r.initEvent.apply(r,[t].concat(i)),e.dispatchEvent?e.dispatchEvent(r):e.fireEvent("on"+t,r),e},r.Utils.keys={tab:9,enter:13,space:32,left:37,up:38,right:39,down:40,esc:27},t.default=r.Utils},e507:function(e,t,n){var r=n("512c");r(r.S+r.F,"Object",{assign:n("072d")})},e538:function(e,t,n){var r=n("b622");t.f=r},e58c:function(e,t,n){"use strict";var r=n("2ba4"),o=n("fc6a"),i=n("5926"),a=n("07fa"),s=n("a640"),c=Math.min,u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0,f=s("lastIndexOf"),p=l||!f;e.exports=p?function(e){if(l)return r(u,this,arguments)||0;var t=o(this),n=a(t),s=n-1;for(arguments.length>1&&(s=c(s,i(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:u},e5cb:function(e,t,n){"use strict";var r=n("d066"),o=n("1a2d"),i=n("9112"),a=n("3a9b"),s=n("d2bb"),c=n("e893"),u=n("aeb0"),l=n("7156"),f=n("e391"),p=n("ab36"),d=n("c770"),h=n("b980"),g=n("83ab"),v=n("c430");e.exports=function(e,t,n,m){var _="stackTraceLimit",y=m?2:1,b=e.split("."),M=b[b.length-1],E=r.apply(null,b);if(E){var I=E.prototype;if(!v&&o(I,"cause")&&delete I.cause,!n)return E;var S=r("Error"),T=t((function(e,t){var n=f(m?t:e,void 0),r=m?new E(e):new E;return void 0!==n&&i(r,"message",n),h&&i(r,"stack",d(r.stack,2)),this&&a(I,this)&&l(r,this,T),arguments.length>y&&p(r,arguments[y]),r}));if(T.prototype=I,"Error"!==M?s?s(T,S):c(T,S,{name:!0}):g&&_ in E&&(u(T,E,_),u(T,E,"prepareStackTrace")),c(T,E),!v)try{I.name!==M&&i(I,"name",M),I.constructor=T}catch(O){}return T}}},e62d:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){if(o.default.prototype.$isServer)return 0;if(void 0!==a)return a;var e=document.createElement("div");e.className="el-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var r=n.offsetWidth;return e.parentNode.removeChild(e),a=t-r,a};var r=n("2b0e"),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}var a=void 0},e667:function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},e683:function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},e6cf:function(e,t,n){n("5e7e"),n("14e5"),n("cc98"),n("3529"),n("f22b"),n("7149")},e772:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=53)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):o&&(c=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},3:function(e,t){e.exports=n("8122")},33:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:e.itemSelected,"is-disabled":e.disabled||e.groupDisabled||e.limitReached,hover:e.hover},on:{mouseenter:e.hoverItem,click:function(t){return t.stopPropagation(),e.selectOptionClick(t)}}},[e._t("default",[n("span",[e._v(e._s(e.currentLabel))])])],2)},o=[];r._withStripped=!0;var i=n(4),a=n.n(i),s=n(3),c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u={mixins:[a.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&(!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&this.select.multipleLimit>0)}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(e,t){var n=this.select,r=n.remote,o=n.valueKey;if(!this.created&&!r){if(o&&"object"===("undefined"===typeof e?"undefined":c(e))&&"object"===("undefined"===typeof t?"undefined":c(t))&&e[o]===t[o])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function(e,t){if(this.isObject){var n=this.select.valueKey;return Object(s["getValueByPath"])(e,n)===Object(s["getValueByPath"])(t,n)}return e===t},contains:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if(this.isObject){var n=this.select.valueKey;return e&&e.some((function(e){return Object(s["getValueByPath"])(e,n)===Object(s["getValueByPath"])(t,n)}))}return e&&e.indexOf(t)>-1},handleGroupDisabled:function(e){this.groupDisabled=e},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(e){this.visible=new RegExp(Object(s["escapeRegexpString"])(e),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var e=this.select,t=e.selected,n=e.multiple,r=n?t:[t],o=this.select.cachedOptions.indexOf(this),i=r.indexOf(this);o>-1&&i<0&&this.select.cachedOptions.splice(o,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},l=u,f=n(0),p=Object(f["a"])(l,r,o,!1,null,null,null);p.options.__file="packages/select/src/option.vue";t["a"]=p.exports},4:function(e,t){e.exports=n("d010")},53:function(e,t,n){"use strict";n.r(t);var r=n(33);r["a"].install=function(e){e.component(r["a"].name,r["a"])},t["default"]=r["a"]}})},e893:function(e,t,n){var r=n("1a2d"),o=n("56ef"),i=n("06cf"),a=n("9bf2");e.exports=function(e,t,n){for(var s=o(t),c=a.f,u=i.f,l=0;l<s.length;l++){var f=s[l];r(e,f)||n&&r(n,f)||c(e,f,u(t,f))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},e91f:function(e,t,n){"use strict";var r=n("ebb5"),o=n("4d64").indexOf,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("indexOf",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},e95a:function(e,t,n){var r=n("b622"),o=n("3f8c"),i=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},e974:function(e,t,n){"use strict";t.__esModule=!0;var r=n("2b0e"),o=a(r),i=n("5128");function a(e){return e&&e.__esModule?e:{default:e}}var s=o.default.prototype.$isServer?function(){}:n("6167"),c=function(e){return e.stopPropagation()};t.default={props:{transformOrigin:{type:[Boolean,String],default:!0},placement:{type:String,default:"bottom"},boundariesPadding:{type:Number,default:5},reference:{},popper:{},offset:{default:0},value:Boolean,visibleArrow:Boolean,arrowOffset:{type:Number,default:35},appendToBody:{type:Boolean,default:!0},popperOptions:{type:Object,default:function(){return{gpuAcceleration:!1}}}},data:function(){return{showPopper:!1,currentPlacement:""}},watch:{value:{immediate:!0,handler:function(e){this.showPopper=e,this.$emit("input",e)}},showPopper:function(e){this.disabled||(e?this.updatePopper():this.destroyPopper(),this.$emit("input",e))}},methods:{createPopper:function(){var e=this;if(!this.$isServer&&(this.currentPlacement=this.currentPlacement||this.placement,/^(top|bottom|left|right)(-start|-end)?$/g.test(this.currentPlacement))){var t=this.popperOptions,n=this.popperElm=this.popperElm||this.popper||this.$refs.popper,r=this.referenceElm=this.referenceElm||this.reference||this.$refs.reference;!r&&this.$slots.reference&&this.$slots.reference[0]&&(r=this.referenceElm=this.$slots.reference[0].elm),n&&r&&(this.visibleArrow&&this.appendArrow(n),this.appendToBody&&document.body.appendChild(this.popperElm),this.popperJS&&this.popperJS.destroy&&this.popperJS.destroy(),t.placement=this.currentPlacement,t.offset=this.offset,t.arrowOffset=this.arrowOffset,this.popperJS=new s(r,n,t),this.popperJS.onCreate((function(t){e.$emit("created",e),e.resetTransformOrigin(),e.$nextTick(e.updatePopper)})),"function"===typeof t.onUpdate&&this.popperJS.onUpdate(t.onUpdate),this.popperJS._popper.style.zIndex=i.PopupManager.nextZIndex(),this.popperElm.addEventListener("click",c))}},updatePopper:function(){var e=this.popperJS;e?(e.update(),e._popper&&(e._popper.style.zIndex=i.PopupManager.nextZIndex())):this.createPopper()},doDestroy:function(e){!this.popperJS||this.showPopper&&!e||(this.popperJS.destroy(),this.popperJS=null)},destroyPopper:function(){this.popperJS&&this.resetTransformOrigin()},resetTransformOrigin:function(){if(this.transformOrigin){var e={top:"bottom",bottom:"top",left:"right",right:"left"},t=this.popperJS._popper.getAttribute("x-placement").split("-")[0],n=e[t];this.popperJS._popper.style.transformOrigin="string"===typeof this.transformOrigin?this.transformOrigin:["top","bottom"].indexOf(t)>-1?"center "+n:n+" center"}},appendArrow:function(e){var t=void 0;if(!this.appended){for(var n in this.appended=!0,e.attributes)if(/^_v-/.test(e.attributes[n].name)){t=e.attributes[n].name;break}var r=document.createElement("div");t&&r.setAttribute(t,""),r.setAttribute("x-arrow",""),r.className="popper__arrow",e.appendChild(r)}}},beforeDestroy:function(){this.doDestroy(!0),this.popperElm&&this.popperElm.parentNode===document.body&&(this.popperElm.removeEventListener("click",c),document.body.removeChild(this.popperElm))},deactivated:function(){this.$options.beforeDestroy[0].call(this)}}},e9c4:function(e,t,n){var r=n("23e7"),o=n("d066"),i=n("2ba4"),a=n("c65b"),s=n("e330"),c=n("d039"),u=n("e8b5"),l=n("1626"),f=n("861d"),p=n("d9b5"),d=n("f36a"),h=n("4930"),g=o("JSON","stringify"),v=s(/./.exec),m=s("".charAt),_=s("".charCodeAt),y=s("".replace),b=s(1..toString),M=/[\uD800-\uDFFF]/g,E=/^[\uD800-\uDBFF]$/,I=/^[\uDC00-\uDFFF]$/,S=!h||c((function(){var e=o("Symbol")();return"[null]"!=g([e])||"{}"!=g({a:e})||"{}"!=g(Object(e))})),T=c((function(){return'"\\udf06\\ud834"'!==g("\udf06\ud834")||'"\\udead"'!==g("\udead")})),O=function(e,t){var n=d(arguments),r=t;if((f(t)||void 0!==e)&&!p(e))return u(t)||(t=function(e,t){if(l(r)&&(t=a(r,this,e,t)),!p(t))return t}),n[1]=t,i(g,null,n)},C=function(e,t,n){var r=m(n,t-1),o=m(n,t+1);return v(E,e)&&!v(I,o)||v(I,e)&&!v(E,r)?"\\u"+b(_(e,0),16):e};g&&r({target:"JSON",stat:!0,arity:3,forced:S||T},{stringify:function(e,t,n){var r=d(arguments),o=i(S?O:g,null,r);return T&&"string"==typeof o?y(o,M,C):o}})},ea34:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},eac5:function(e,t,n){var r=n("861d"),o=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&o(e)===e}},ead9:function(e,t,n){(function(t,r,o){e.exports=r(n("21bf"),n("38ba"))})(0,(function(e){return e.pad.Pkcs7}))},ebb5:function(e,t,n){"use strict";var r,o,i,a=n("a981"),s=n("83ab"),c=n("da84"),u=n("1626"),l=n("861d"),f=n("1a2d"),p=n("f5df"),d=n("0d51"),h=n("9112"),g=n("cb2d"),v=n("9bf2").f,m=n("3a9b"),_=n("e163"),y=n("d2bb"),b=n("b622"),M=n("90e3"),E=c.Int8Array,I=E&&E.prototype,S=c.Uint8ClampedArray,T=S&&S.prototype,O=E&&_(E),C=I&&_(I),A=Object.prototype,w=c.TypeError,R=b("toStringTag"),D=M("TYPED_ARRAY_TAG"),N=M("TYPED_ARRAY_CONSTRUCTOR"),k=a&&!!y&&"Opera"!==p(c.opera),L=!1,P={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},x={BigInt64Array:8,BigUint64Array:8},G=function(e){if(!l(e))return!1;var t=p(e);return"DataView"===t||f(P,t)||f(x,t)},U=function(e){if(!l(e))return!1;var t=p(e);return f(P,t)||f(x,t)},F=function(e){if(U(e))return e;throw w("Target is not a typed array")},j=function(e){if(u(e)&&(!y||m(O,e)))return e;throw w(d(e)+" is not a typed array constructor")},q=function(e,t,n,r){if(s){if(n)for(var o in P){var i=c[o];if(i&&f(i.prototype,e))try{delete i.prototype[e]}catch(a){try{i.prototype[e]=t}catch(u){}}}C[e]&&!n||g(C,e,n?t:k&&I[e]||t,r)}},B=function(e,t,n){var r,o;if(s){if(y){if(n)for(r in P)if(o=c[r],o&&f(o,e))try{delete o[e]}catch(i){}if(O[e]&&!n)return;try{return g(O,e,n?t:k&&O[e]||t)}catch(i){}}for(r in P)o=c[r],!o||o[e]&&!n||g(o,e,t)}};for(r in P)o=c[r],i=o&&o.prototype,i?h(i,N,o):k=!1;for(r in x)o=c[r],i=o&&o.prototype,i&&h(i,N,o);if((!k||!u(O)||O===Function.prototype)&&(O=function(){throw w("Incorrect invocation")},k))for(r in P)c[r]&&y(c[r],O);if((!k||!C||C===A)&&(C=O.prototype,k))for(r in P)c[r]&&y(c[r].prototype,C);if(k&&_(T)!==C&&y(T,C),s&&!f(C,R))for(r in L=!0,v(C,R,{get:function(){return l(this)?this[D]:void 0}}),P)c[r]&&h(c[r],D,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:k,TYPED_ARRAY_CONSTRUCTOR:N,TYPED_ARRAY_TAG:L&&D,aTypedArray:F,aTypedArrayConstructor:j,exportTypedArrayMethod:q,exportTypedArrayStaticMethod:B,isView:G,isTypedArray:U,TypedArray:O,TypedArrayPrototype:C}},edd0:function(e,t,n){var r=n("13d2"),o=n("9bf2");e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),o.f(e,t,n)}},eedf:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=95)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):o&&(c=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},95:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"el-button",class:[e.type?"el-button--"+e.type:"",e.buttonSize?"el-button--"+e.buttonSize:"",{"is-disabled":e.buttonDisabled,"is-loading":e.loading,"is-plain":e.plain,"is-round":e.round,"is-circle":e.circle}],attrs:{disabled:e.buttonDisabled||e.loading,autofocus:e.autofocus,type:e.nativeType},on:{click:e.handleClick}},[e.loading?n("i",{staticClass:"el-icon-loading"}):e._e(),e.icon&&!e.loading?n("i",{class:e.icon}):e._e(),e.$slots.default?n("span",[e._t("default")],2):e._e()])},o=[];r._withStripped=!0;var i={name:"ElButton",inject:{elForm:{default:""},elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return this.$options.propsData.hasOwnProperty("disabled")?this.disabled:(this.elForm||{}).disabled}},methods:{handleClick:function(e){this.$emit("click",e)}}},a=i,s=n(0),c=Object(s["a"])(a,r,o,!1,null,null,null);c.options.__file="packages/button/src/button.vue";var u=c.exports;u.install=function(e){e.component(u.name,u)};t["default"]=u}})},ef08:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},f069:function(e,t,n){"use strict";var r=n("59ed"),o=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new o(e)}},f0d9:function(e,t,n){"use strict";t.__esModule=!0,t.default={el:{colorpicker:{confirm:"确定",clear:"清空"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},empty:{description:"暂无数据"}}}},f183:function(e,t,n){var r=n("23e7"),o=n("e330"),i=n("d012"),a=n("861d"),s=n("1a2d"),c=n("9bf2").f,u=n("241c"),l=n("057f"),f=n("4fad"),p=n("90e3"),d=n("bb2f"),h=!1,g=p("meta"),v=0,m=function(e){c(e,g,{value:{objectID:"O"+v++,weakData:{}}})},_=function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,g)){if(!f(e))return"F";if(!t)return"E";m(e)}return e[g].objectID},y=function(e,t){if(!s(e,g)){if(!f(e))return!0;if(!t)return!1;m(e)}return e[g].weakData},b=function(e){return d&&h&&f(e)&&!s(e,g)&&m(e),e},M=function(){E.enable=function(){},h=!0;var e=u.f,t=o([].splice),n={};n[g]=1,e(n).length&&(u.f=function(n){for(var r=e(n),o=0,i=r.length;o<i;o++)if(r[o]===g){t(r,o,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},E=e.exports={enable:M,fastKey:_,getWeakData:y,onFreeze:b};i[g]=!0},f22b:function(e,t,n){"use strict";var r=n("23e7"),o=n("c65b"),i=n("f069"),a=n("4738").CONSTRUCTOR;r({target:"Promise",stat:!0,forced:a},{reject:function(e){var t=i.f(this);return o(t.reject,void 0,e),t.promise}})},f36a:function(e,t,n){var r=n("e330");e.exports=r([].slice)},f3ad:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=74)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):o&&(c=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},11:function(e,t){e.exports=n("2bb5")},21:function(e,t){e.exports=n("d397")},4:function(e,t){e.exports=n("d010")},74:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["textarea"===e.type?"el-textarea":"el-input",e.inputSize?"el-input--"+e.inputSize:"",{"is-disabled":e.inputDisabled,"is-exceed":e.inputExceed,"el-input-group":e.$slots.prepend||e.$slots.append,"el-input-group--append":e.$slots.append,"el-input-group--prepend":e.$slots.prepend,"el-input--prefix":e.$slots.prefix||e.prefixIcon,"el-input--suffix":e.$slots.suffix||e.suffixIcon||e.clearable||e.showPassword}],on:{mouseenter:function(t){e.hovering=!0},mouseleave:function(t){e.hovering=!1}}},["textarea"!==e.type?[e.$slots.prepend?n("div",{staticClass:"el-input-group__prepend"},[e._t("prepend")],2):e._e(),"textarea"!==e.type?n("input",e._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:e.tabindex,type:e.showPassword?e.passwordVisible?"text":"password":e.type,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},on:{compositionstart:e.handleCompositionStart,compositionupdate:e.handleCompositionUpdate,compositionend:e.handleCompositionEnd,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"input",e.$attrs,!1)):e._e(),e.$slots.prefix||e.prefixIcon?n("span",{staticClass:"el-input__prefix"},[e._t("prefix"),e.prefixIcon?n("i",{staticClass:"el-input__icon",class:e.prefixIcon}):e._e()],2):e._e(),e.getSuffixVisible()?n("span",{staticClass:"el-input__suffix"},[n("span",{staticClass:"el-input__suffix-inner"},[e.showClear&&e.showPwdVisible&&e.isWordLimitVisible?e._e():[e._t("suffix"),e.suffixIcon?n("i",{staticClass:"el-input__icon",class:e.suffixIcon}):e._e()],e.showClear?n("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{mousedown:function(e){e.preventDefault()},click:e.clear}}):e._e(),e.showPwdVisible?n("i",{staticClass:"el-input__icon el-icon-view el-input__clear",on:{click:e.handlePasswordVisible}}):e._e(),e.isWordLimitVisible?n("span",{staticClass:"el-input__count"},[n("span",{staticClass:"el-input__count-inner"},[e._v("\n            "+e._s(e.textLength)+"/"+e._s(e.upperLimit)+"\n          ")])]):e._e()],2),e.validateState?n("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",e.validateIcon]}):e._e()]):e._e(),e.$slots.append?n("div",{staticClass:"el-input-group__append"},[e._t("append")],2):e._e()]:n("textarea",e._b({ref:"textarea",staticClass:"el-textarea__inner",style:e.textareaStyle,attrs:{tabindex:e.tabindex,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},on:{compositionstart:e.handleCompositionStart,compositionupdate:e.handleCompositionUpdate,compositionend:e.handleCompositionEnd,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"textarea",e.$attrs,!1)),e.isWordLimitVisible&&"textarea"===e.type?n("span",{staticClass:"el-input__count"},[e._v(e._s(e.textLength)+"/"+e._s(e.upperLimit))]):e._e()],2)},o=[];r._withStripped=!0;var i=n(4),a=n.n(i),s=n(11),c=n.n(s),u=void 0,l="\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",f=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function p(e){var t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),o=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width")),i=f.map((function(e){return e+":"+t.getPropertyValue(e)})).join(";");return{contextStyle:i,paddingSize:r,borderSize:o,boxSizing:n}}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;u||(u=document.createElement("textarea"),document.body.appendChild(u));var r=p(e),o=r.paddingSize,i=r.borderSize,a=r.boxSizing,s=r.contextStyle;u.setAttribute("style",s+";"+l),u.value=e.value||e.placeholder||"";var c=u.scrollHeight,f={};"border-box"===a?c+=i:"content-box"===a&&(c-=o),u.value="";var d=u.scrollHeight-o;if(null!==t){var h=d*t;"border-box"===a&&(h=h+o+i),c=Math.max(h,c),f.minHeight=h+"px"}if(null!==n){var g=d*n;"border-box"===a&&(g=g+o+i),c=Math.min(g,c)}return f.height=c+"px",u.parentNode&&u.parentNode.removeChild(u),u=null,f}var h=n(9),g=n.n(h),v=n(21),m={name:"ElInput",componentName:"ElInput",mixins:[a.a,c.a],inheritAttrs:!1,inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(e){return!0}},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return g()({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue:function(){return null===this.value||void 0===this.value?"":String(this.value)},showClear:function(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible:function(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible:function(){return this.showWordLimit&&this.$attrs.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit:function(){return this.$attrs.maxlength},textLength:function(){return"number"===typeof this.value?String(this.value).length:(this.value||"").length},inputExceed:function(){return this.isWordLimitVisible&&this.textLength>this.upperLimit}},watch:{value:function(e){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[e])},nativeInputValue:function(){this.setNativeInputValue()},type:function(){var e=this;this.$nextTick((function(){e.setNativeInputValue(),e.resizeTextarea(),e.updateIconOffset()}))}},methods:{focus:function(){this.getInput().focus()},blur:function(){this.getInput().blur()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(e){this.focused=!1,this.$emit("blur",e),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.value])},select:function(){this.getInput().select()},resizeTextarea:function(){if(!this.$isServer){var e=this.autosize,t=this.type;if("textarea"===t)if(e){var n=e.minRows,r=e.maxRows;this.textareaCalcStyle=d(this.$refs.textarea,n,r)}else this.textareaCalcStyle={minHeight:d(this.$refs.textarea).minHeight}}},setNativeInputValue:function(){var e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},handleFocus:function(e){this.focused=!0,this.$emit("focus",e)},handleCompositionStart:function(e){this.$emit("compositionstart",e),this.isComposing=!0},handleCompositionUpdate:function(e){this.$emit("compositionupdate",e);var t=e.target.value,n=t[t.length-1]||"";this.isComposing=!Object(v["isKorean"])(n)},handleCompositionEnd:function(e){this.$emit("compositionend",e),this.isComposing&&(this.isComposing=!1,this.handleInput(e))},handleInput:function(e){this.isComposing||e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},handleChange:function(e){this.$emit("change",e.target.value)},calcIconOffset:function(e){var t=[].slice.call(this.$el.querySelectorAll(".el-input__"+e)||[]);if(t.length){for(var n=null,r=0;r<t.length;r++)if(t[r].parentNode===this.$el){n=t[r];break}if(n){var o={suffix:"append",prefix:"prepend"},i=o[e];this.$slots[i]?n.style.transform="translateX("+("suffix"===e?"-":"")+this.$el.querySelector(".el-input-group__"+i).offsetWidth+"px)":n.removeAttribute("style")}}},updateIconOffset:function(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear:function(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},handlePasswordVisible:function(){var e=this;this.passwordVisible=!this.passwordVisible,this.$nextTick((function(){e.focus()}))},getInput:function(){return this.$refs.input||this.$refs.textarea},getSuffixVisible:function(){return this.$slots.suffix||this.suffixIcon||this.showClear||this.showPassword||this.isWordLimitVisible||this.validateState&&this.needStatusIcon}},created:function(){this.$on("inputSelect",this.select)},mounted:function(){this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset()},updated:function(){this.$nextTick(this.updateIconOffset)}},_=m,y=n(0),b=Object(y["a"])(_,r,o,!1,null,null,null);b.options.__file="packages/input/src/input.vue";var M=b.exports;M.install=function(e){e.component(M.name,M)};t["default"]=M},9:function(e,t){e.exports=n("7f4d")}})},f495:function(e,t,n){var r=n("c04e"),o=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw o("Can't convert number to bigint");return BigInt(t)}},f529:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=80)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):o&&(c=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},13:function(e,t){e.exports=n("5128")},17:function(e,t){e.exports=n("a742")},23:function(e,t){e.exports=n("41f8")},7:function(e,t){e.exports=n("2b0e")},80:function(e,t,n){"use strict";n.r(t);var r=n(7),o=n.n(r),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"el-message-fade"},on:{"after-leave":e.handleAfterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:["el-message",e.type&&!e.iconClass?"el-message--"+e.type:"",e.center?"is-center":"",e.showClose?"is-closable":"",e.customClass],style:e.positionStyle,attrs:{role:"alert"},on:{mouseenter:e.clearTimer,mouseleave:e.startTimer}},[e.iconClass?n("i",{class:e.iconClass}):n("i",{class:e.typeClass}),e._t("default",[e.dangerouslyUseHTMLString?n("p",{staticClass:"el-message__content",domProps:{innerHTML:e._s(e.message)}}):n("p",{staticClass:"el-message__content"},[e._v(e._s(e.message))])]),e.showClose?n("i",{staticClass:"el-message__closeBtn el-icon-close",on:{click:e.close}}):e._e()],2)])},a=[];i._withStripped=!0;var s={success:"success",info:"info",warning:"warning",error:"error"},c={data:function(){return{visible:!1,message:"",duration:3e3,type:"info",iconClass:"",customClass:"",onClose:null,showClose:!1,closed:!1,verticalOffset:20,timer:null,dangerouslyUseHTMLString:!1,center:!1}},computed:{typeClass:function(){return this.type&&!this.iconClass?"el-message__icon el-icon-"+s[this.type]:""},positionStyle:function(){return{top:this.verticalOffset+"px"}}},watch:{closed:function(e){e&&(this.visible=!1)}},methods:{handleAfterLeave:function(){this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},close:function(){this.closed=!0,"function"===typeof this.onClose&&this.onClose(this)},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var e=this;this.duration>0&&(this.timer=setTimeout((function(){e.closed||e.close()}),this.duration))},keydown:function(e){27===e.keyCode&&(this.closed||this.close())}},mounted:function(){this.startTimer(),document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}},u=c,l=n(0),f=Object(l["a"])(u,i,a,!1,null,null,null);f.options.__file="packages/message/src/main.vue";var p=f.exports,d=n(13),h=n(23),g=n(17),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=o.a.extend(p),_=void 0,y=[],b=1,M=function e(t){if(!o.a.prototype.$isServer){t=t||{},"string"===typeof t&&(t={message:t});var n=t.onClose,r="message_"+b++;t.onClose=function(){e.close(r,n)},_=new m({data:t}),_.id=r,Object(h["isVNode"])(_.message)&&(_.$slots.default=[_.message],_.message=null),_.$mount(),document.body.appendChild(_.$el);var i=t.offset||20;return y.forEach((function(e){i+=e.$el.offsetHeight+16})),_.verticalOffset=i,_.visible=!0,_.$el.style.zIndex=d["PopupManager"].nextZIndex(),y.push(_),_}};["success","warning","info","error"].forEach((function(e){M[e]=function(t){return Object(g["isObject"])(t)&&!Object(h["isVNode"])(t)?M(v({},t,{type:e})):M({type:e,message:t})}})),M.close=function(e,t){for(var n=y.length,r=-1,o=void 0,i=0;i<n;i++)if(e===y[i].id){o=y[i].$el.offsetHeight,r=i,"function"===typeof t&&t(y[i]),y.splice(i,1);break}if(!(n<=1||-1===r||r>y.length-1))for(var a=r;a<n-1;a++){var s=y[a].$el;s.style["top"]=parseInt(s.style["top"],10)-o-16+"px"}},M.closeAll=function(){for(var e=y.length-1;e>=0;e--)y[e].close()};var E=M;t["default"]=E}})},f5df:function(e,t,n){var r=n("00ee"),o=n("1626"),i=n("c6b6"),a=n("b622"),s=a("toStringTag"),c=Object,u="Arguments"==i(function(){return arguments}()),l=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=l(t=c(e),s))?n:u?i(t):"Object"==(r=i(t))&&o(t.callee)?"Arguments":r}},f6b4:function(e,t,n){"use strict";var r=n("c532");function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},f772:function(e,t,n){var r=n("5692"),o=n("90e3"),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},f893:function(e,t,n){e.exports={default:n("8119"),__esModule:!0}},f8c9:function(e,t,n){var r=n("23e7"),o=n("da84"),i=n("d44e");r({global:!0},{Reflect:{}}),i(o.Reflect,"Reflect",!0)},f8cd:function(e,t,n){var r=n("5926"),o=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw o("The argument can't be less than 0");return t}},f8d5:function(e,t,n){(function(t,r){e.exports=r(n("21bf"))})(0,(function(e){return e.enc.Utf8}))},faf5:function(e,t,n){e.exports=!n("0bad")&&!n("4b8b")((function(){return 7!=Object.defineProperty(n("05f5")("div"),"a",{get:function(){return 7}}).a}))},fb2c:function(e,t,n){var r=n("74e8");r("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},fb6a:function(e,t,n){"use strict";var r=n("23e7"),o=n("e8b5"),i=n("68ee"),a=n("861d"),s=n("23cb"),c=n("07fa"),u=n("fc6a"),l=n("8418"),f=n("b622"),p=n("1dde"),d=n("f36a"),h=p("slice"),g=f("species"),v=Array,m=Math.max;r({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var n,r,f,p=u(this),h=c(p),_=s(e,h),y=s(void 0===t?h:t,h);if(o(p)&&(n=p.constructor,i(n)&&(n===v||o(n.prototype))?n=void 0:a(n)&&(n=n[g],null===n&&(n=void 0)),n===v||void 0===n))return d(p,_,y);for(r=new(void 0===n?v:n)(m(y-_,0)),f=0;_<y;_++,f++)_ in p&&l(r,f,p[_]);return r.length=f,r}})},fc5e:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},fc6a:function(e,t,n){var r=n("44ad"),o=n("1d80");e.exports=function(e){return r(o(e))}},fcd4:function(e,t,n){t.f=n("cc15")},fce3:function(e,t,n){var r=n("d039"),o=n("da84"),i=o.RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},fd87:function(e,t,n){var r=n("74e8");r("Int8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,n){var r=n("4930");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fed5:function(e,t){t.f=Object.getOwnPropertySymbols}}]);
//# sourceMappingURL=chunk-vendors.e2037a56.js.map